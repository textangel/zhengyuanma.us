
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="titlearea">
        <h2>CS234 - Lecture 12,13 - Fast MDPs, PAC (Fast RL II)</h2>
      </div>
      <div id="contentarea"><div class="cell markdown-cell"><p>Note: Everything in this lecture is in the model-based (tabular MDP) setting. Extending it to the general model-free setting is an important on-going research topic.</p>
<h2>Probably Approximately Correct</h2>
<p>Issue: Cumulative Regret does not distinguish between a lot of small errors and a few huge errors. Idea - PAC: Bound the number of non-small errors.<br>
Formally, an algorithm is PAC if it chooses an action <span class="MathJax" id="MathJax-Element-335-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9918" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9919"><span class="mi" id="MathJax-Span-9920" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-335">a</script> whose value is <span class="MathJax" id="MathJax-Element-336-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9921" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.477em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9922"><span class="mi" id="MathJax-Span-9923" style="font-family: STIXGeneral-Italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-336">\epsilon</script> optimal (<span class="MathJax" id="MathJax-Element-337-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9924" style="width: 8.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.32em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.669em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9925"><span class="mi" id="MathJax-Span-9926" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-9927" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-9928" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-9929" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-9930" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≥</span><span class="mi" id="MathJax-Span-9931" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">Q</span><span class="mo" id="MathJax-Span-9932" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-9933"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-9934" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.563em;"><span class="mo" id="MathJax-Span-9935" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-9936" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-9937" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-9938" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.1em; vertical-align: -0.265em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-337">Q(a) \ge Q(a^*) - \epsilon</script>) with probability at least <span class="MathJax" id="MathJax-Element-338-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9939" style="width: 2.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.196em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.714em, -0.396em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9940"><span class="mn" id="MathJax-Span-9941" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-9942" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-9943" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">δ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.888em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-338">1-\delta</script> on all but a polynomial nuber of steps in the domain (Domain is # actions, <span class="MathJax" id="MathJax-Element-336-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9921" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.477em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9922"><span class="mi" id="MathJax-Span-9923" style="font-family: STIXGeneral-Italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-336">\epsilon</script>, <span class="MathJax" id="MathJax-Element-339-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9944" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.714em, -0.483em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9945"><span class="mi" id="MathJax-Span-9946" style="font-family: STIXGeneral-Italic;">δ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.879em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-339">\delta</script>, etc). Most PAC algorithms are based on optimism of Thompson Sampling.<br>
In Bandits we tend to use regret for evaluation, but in MDPs we tend to use PAC.</p>
<p><strong>PAC vs Regret</strong><br>
Regret compares the state with respect to the most optimal discussion you could ever have made globally. It always judges the score compared to if it had made optimal decisions forever, and is a pretty harsh criteria.</p>
<p>PAC judges the score under the state distribution reached under the algorithm. PAC compares the algorithm to the optimal algorithm given the current state space you are in. (This is the meaning of <span class="MathJax" id="MathJax-Element-340-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9947" style="width: 2.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.477em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.669em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9948"><span class="mi" id="MathJax-Span-9949" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-9950" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-9951"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-9952" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.563em;"><span class="mo" id="MathJax-Span-9953" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-9954" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.1em; vertical-align: -0.265em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-340">Q(a^*)</script>, which is the optimal value that you can attain from now on only looking into the future, ignoring whatever you could have attained if you had made other decisions in the past.) Empirically, this is why the PAC values tend to be must smaller than regret values.</p>
<h2>MDPs</h2>
<h3>Optimistic Initialization</h3>
<p>Initiate action-value function <span class="MathJax" id="MathJax-Element-341-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9955" style="width: 3.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.759em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9956"><span class="mi" id="MathJax-Span-9957" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-9958" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-9959" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-9960" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-9961" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-9962" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.077em; vertical-align: -0.265em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-341">Q(s,a)</script> optimistically (eg <span class="MathJax" id="MathJax-Element-342-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9963" style="width: 5.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.842em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.909em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9964"><span class="msubsup" id="MathJax-Span-9965"><span style="display: inline-block; position: relative; width: 1.741em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-9966" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="texatom" id="MathJax-Span-9967"><span class="mrow" id="MathJax-Span-9968"><span class="mi" id="MathJax-Span-9969" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-9970" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-9971" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-9972"><span class="mrow" id="MathJax-Span-9973"><span class="mo" id="MathJax-Span-9974" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mo" id="MathJax-Span-9975" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-9976" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-9977" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-9978" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mo" id="MathJax-Span-9979" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.104em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-342">r_{max}/(1-\gamma)</script>).<br>
Empirically works pretty well, although no theoretical guarentees. Papers in Appendx 1<br>
Approaches</p>
<ul>
<li>Be very optimistic until confident that empirical estimates are close to true dynamics/reward parameters by maximum likelihood (Brafman and Tennenholtz 2002)</li>
<li>Be optimitisic given the information we have
<ul>
<li>Compute confidence sets on dynamics and reward models (confidence bounds), or</li>
<li>Add reward bonuses that depend on experience/data (see below)</li>
</ul>
</li>
</ul>
<p>Reward bonuses are the easiest to extend to the model-free case and work just as well as confidence sets.</p>
<h2>PAC Algorithms for Tabular (Model-Based) Settings</h2>
<h3>MBIE-EB Model-Based Interval Estimation with Exploration Bonus</h3>
<p>We suppose in this setting the rewards are bounded between 0 and 1.</p>
<p>Given <span class="MathJax" id="MathJax-Element-343-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9980" style="width: 1.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.408em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.844em, -0.477em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9981"><span class="mi" id="MathJax-Span-9982" style="font-family: STIXGeneral-Italic;">ϵ</span><span class="mo" id="MathJax-Span-9983" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-9984" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">δ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.023em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-343">\epsilon, \delta</script>, some constant <span class="MathJax" id="MathJax-Element-344-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9985" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.495em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9986"><span class="mi" id="MathJax-Span-9987" style="font-family: STIXGeneral-Italic;">m</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.625em; vertical-align: -0.072em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-344">m</script>.</p>
<ul>
<li>We keep track of some counts:
<ul>
<li><span class="MathJax" id="MathJax-Element-345-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9988" style="width: 3.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.322em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9989"><span class="msubsup" id="MathJax-Span-9990"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-9991" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-9992"><span class="mrow" id="MathJax-Span-9993"><span class="mi" id="MathJax-Span-9994" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-9995" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-9996" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-9997" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-9998" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-9999" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10000" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-345">n_{sa}(s,a)</script> the number of times we saw each <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script> pair,</li>
<li><span class="MathJax" id="MathJax-Element-347-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10008" style="width: 5.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.842em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.88em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10009"><span class="msubsup" id="MathJax-Span-10010"><span style="display: inline-block; position: relative; width: 1.539em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10011" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-10012"><span class="mrow" id="MathJax-Span-10013"><span class="mi" id="MathJax-Span-10014" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10015" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10016" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10017" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10018" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10019" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10020" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10021" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-10022" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10023" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10024" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10025" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.168em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-347">n_{sas}(s,a,s')</script> the number of times we saw each <span class="MathJax" id="MathJax-Element-348-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10026" style="width: 3.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.266em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10027"><span class="mo" id="MathJax-Span-10028" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10029" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10030" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10031" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10032" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-10033" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10034" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10035" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10036" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.168em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-348">(s,a,s')</script> pair.</li>
<li><span class="MathJax" id="MathJax-Element-349-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10037" style="width: 3.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.928em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10038"><span class="mi" id="MathJax-Span-10039" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-10040" style="font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-10041" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10042" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10043" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10044" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10045" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-349">rc(s,a)</script> the running sum of rewards we've gotten for any state-action pair for all time.</li>
</ul>
</li>
<li>Define: <span class="MathJax" id="MathJax-Element-350-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10046" style="width: 12.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.43em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.242em, -0.547em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10047"><span class="mi" id="MathJax-Span-10048" style="font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-10049" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10050" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.302em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-10051" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.623em, -0.428em); top: -1.915em; left: 50%; margin-left: -0.591em;"><span class="mrow" id="MathJax-Span-10052"><span class="mn" id="MathJax-Span-10053" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-10054" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-10055" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.02em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.302em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="msqrt" id="MathJax-Span-10056" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 7.852em; height: 0px;"><span style="position: absolute; clip: rect(1.677em, 1000em, 2.88em, -0.483em); top: -2.534em; left: 0.957em;"><span class="mrow" id="MathJax-Span-10057"><span class="mn" id="MathJax-Span-10058" style="font-family: STIXGeneral-Regular;">0.5</span><span class="mi" id="MathJax-Span-10059" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">ln</span><span class="mo" id="MathJax-Span-10060"></span><span class="mo" id="MathJax-Span-10061" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-10062" style="font-family: STIXGeneral-Regular;">2</span><span class="texatom" id="MathJax-Span-10063"><span class="mrow" id="MathJax-Span-10064"><span class="mo" id="MathJax-Span-10065" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10066" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="texatom" id="MathJax-Span-10067"><span class="mrow" id="MathJax-Span-10068"><span class="mo" id="MathJax-Span-10069" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-10070"><span class="mrow" id="MathJax-Span-10071"><span class="mo" id="MathJax-Span-10072" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10073" style="font-family: STIXGeneral-Italic;">A</span><span class="texatom" id="MathJax-Span-10074"><span class="mrow" id="MathJax-Span-10075"><span class="mo" id="MathJax-Span-10076" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10077" style="font-family: STIXGeneral-Italic;">m</span><span class="texatom" id="MathJax-Span-10078"><span class="mrow" id="MathJax-Span-10079"><span class="mo" id="MathJax-Span-10080" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-10081" style="font-family: STIXGeneral-Italic;">δ</span><span class="mo" id="MathJax-Span-10082" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.009em, 1000em, 3.397em, -0.507em); top: -4.066em; left: 0.957em;"><span style="display: inline-block; position: relative; width: 6.894em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.998em; left: 0em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.998em; left: 6.394em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 0.403em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 0.831em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 1.259em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 1.687em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 2.115em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 2.543em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 2.971em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 3.399em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 3.827em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 4.255em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 4.683em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 5.11em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 5.538em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 5.966em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(2.856em, 1000em, 4.426em, -0.395em); top: -3.903em; left: 0em;"><span style="font-family: STIXGeneral-Regular;">√</span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.715em; vertical-align: -0.661em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-350">\beta = \frac{1}{1-\gamma}\sqrt{0.5 \ln(2|S| |A| m/\delta)}</script></li>
<li>Initialize all above values to 0 and also initialize some state.</li>
<li>Initialize <span class="MathJax" id="MathJax-Element-351-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10083" style="width: 9.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.164em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.242em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10084"><span class="msubsup" id="MathJax-Span-10085"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10086" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.091em; left: 0.732em;"><span class="mi" id="MathJax-Span-10087" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10088" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10089" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10090" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10091" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10092" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10093" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10094" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.302em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-10095" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.623em, -0.428em); top: -1.915em; left: 50%; margin-left: -0.591em;"><span class="mrow" id="MathJax-Span-10096"><span class="mn" id="MathJax-Span-10097" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-10098" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-10099" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.02em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.302em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mi" id="MathJax-Span-10100" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">∀</span><span class="mi" id="MathJax-Span-10101" style="font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10102" style="font-family: STIXGeneral-Regular;">∀</span><span class="mi" id="MathJax-Span-10103" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.715em; vertical-align: -0.661em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-351">Q_t(s,a) = \frac{1}{1-\gamma} \forall s \forall a</script>. This is the most optimistic value function possivle since rewards are bounded between 0 and 1.</li>
</ul>
<p>Algo: Loop until convergence</p>
<ul>
<li>Update the actions: <span class="MathJax" id="MathJax-Element-352-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10104" style="width: 11.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.135em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.921em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10105"><span class="msubsup" id="MathJax-Span-10106"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10107" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10108" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10109" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-10110" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">arg</span><span class="mo" id="MathJax-Span-10111"></span><span class="munderover" id="MathJax-Span-10112" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 3.172em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-10113" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 1.745em;"><span class="texatom" id="MathJax-Span-10114"><span class="mrow" id="MathJax-Span-10115"><span class="mi" id="MathJax-Span-10116" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-10117" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-10118" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-10119" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">Q</span><span class="mo" id="MathJax-Span-10120" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10121"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10122" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10123" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10124" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10125" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10126" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.117em; vertical-align: -0.304em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-352">a_t = \arg \max_{a \in A} Q(s_t,a)</script></li>
<li>Observe reward <span class="MathJax" id="MathJax-Element-353-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10127" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.586em, 1000em, 2.523em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10128"><span class="msubsup" id="MathJax-Span-10129"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10130" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-10131" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.79em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-353">r_t</script> and state <span class="MathJax" id="MathJax-Element-354-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10132" style="width: 1.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.689em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.585em, 1000em, 2.544em, -0.491em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10133"><span class="msubsup" id="MathJax-Span-10134"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10135" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-10136"><span class="mrow" id="MathJax-Span-10137"><span class="mi" id="MathJax-Span-10138" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-10139" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-10140" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.814em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-354">s_{t+1}</script></li>
<li>Update the counts and the reward sum:
<ul>
<li><span class="MathJax" id="MathJax-Element-355-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10141" style="width: 11.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.529em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10142"><span class="msubsup" id="MathJax-Span-10143"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10144" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-10145"><span class="mrow" id="MathJax-Span-10146"><span class="mi" id="MathJax-Span-10147" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10148" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10149" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10150"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10151" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10152" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10153" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10154" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10155" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10156" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10157" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10158" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-10159" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">n</span><span class="mo" id="MathJax-Span-10160" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10161"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10162" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10163" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10164" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10165" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10166" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10167" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10168" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10169" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-10170" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-10171" style="font-family: STIXGeneral-Regular;">,</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-355">n_{sa}(s_t,a_t) = n(s_t,a_t)+1,</script></li>
<li><span class="MathJax" id="MathJax-Element-356-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10172" style="width: 17.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 16.047em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.882em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10173"><span class="msubsup" id="MathJax-Span-10174"><span style="display: inline-block; position: relative; width: 1.539em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10175" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-10176"><span class="mrow" id="MathJax-Span-10177"><span class="mi" id="MathJax-Span-10178" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10179" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10180" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10181" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10182"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10183" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10184" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10185" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10186" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10187" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10188" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10189" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10190" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10191" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-10192"><span class="mrow" id="MathJax-Span-10193"><span class="mi" id="MathJax-Span-10194" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-10195" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-10196" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10197" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10198" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-10199" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.539em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10200" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-10201"><span class="mrow" id="MathJax-Span-10202"><span class="mi" id="MathJax-Span-10203" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10204" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10205" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10206" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10207"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10208" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10209" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10210" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10211" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10212" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10213" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10214" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10215" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10216" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-10217"><span class="mrow" id="MathJax-Span-10218"><span class="mi" id="MathJax-Span-10219" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-10220" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-10221" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10222" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10223" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-10224" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-10225" style="font-family: STIXGeneral-Regular;">,</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.074em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-356">n_{sas}(s_t,a_t,s_{t+1}) = n_{sas}(s_t,a_t,s_{t+1})+1,</script></li>
<li><span class="MathJax" id="MathJax-Element-357-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10226" style="width: 16.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.471em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10227"><span class="mi" id="MathJax-Span-10228" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-10229" style="font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-10230" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10231"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10232" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10233" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10234" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10235" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10236" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10237" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10238" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10239" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-10240" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-10241" style="font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-10242" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10243"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10244" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10245" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10246" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10247" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10248" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10249" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10250" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-10251"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10252" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-10253"><span class="mrow" id="MathJax-Span-10254"><span class="mi" id="MathJax-Span-10255" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10256" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10257" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10258"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10259" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10260" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10261" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10262" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10263" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10264" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10265" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10266" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-10267" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10268" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-10269" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-357">rc(s_t,a_t) = rc(s_t,a_t)n_{sa}(s_t,a_t)+r_t</script></li>
</ul>
</li>
<li>Next, we estimate a running empirical reward model and transition model:
<ul>
<li><span class="MathJax" id="MathJax-Element-358-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10270" style="width: 7.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.151em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.346em, 1000em, 3.221em, -0.739em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10271"><span class="texatom" id="MathJax-Span-10272"><span class="mrow" id="MathJax-Span-10273"><span class="munderover" id="MathJax-Span-10274"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10275" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10276" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10277" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10278" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10279" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10280" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10281" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10282" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10283" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 2.935em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.475em); top: -2.849em; left: 50%; margin-left: -1.239em;"><span class="mrow" id="MathJax-Span-10284"><span class="mi" id="MathJax-Span-10285" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.016em;"></span></span><span class="mi" id="MathJax-Span-10286" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">c</span><span class="mo" id="MathJax-Span-10287" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10288"><span style="display: inline-block; position: relative; width: 0.56em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10289" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.338em;"><span class="mi" id="MathJax-Span-10290" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10291" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10292"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.485em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10293" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="mi" id="MathJax-Span-10294" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10295" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.497em); top: -1.915em; left: 50%; margin-left: -1.408em;"><span class="mrow" id="MathJax-Span-10296"><span class="msubsup" id="MathJax-Span-10297"><span style="display: inline-block; position: relative; width: 0.954em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10298" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="texatom" id="MathJax-Span-10299"><span class="mrow" id="MathJax-Span-10300"><span class="mi" id="MathJax-Span-10301" style="font-size: 50%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10302" style="font-size: 50%; font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10303" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10304"><span style="display: inline-block; position: relative; width: 0.56em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10305" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.338em;"><span class="mi" id="MathJax-Span-10306" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10307" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10308"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.485em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10309" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="mi" id="MathJax-Span-10310" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10311" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 2.935em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.832em; vertical-align: -0.638em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-358">\hat R(s,a) = \frac{rc(s_t,a_t)}{n_{sa}(s_t,a_t)}</script></li>
<li><span class="MathJax" id="MathJax-Element-359-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10312" style="width: 15.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.964em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.345em, 1000em, 3.221em, -0.635em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10313"><span class="texatom" id="MathJax-Span-10314"><span class="mrow" id="MathJax-Span-10315"><span class="munderover" id="MathJax-Span-10316"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10317" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10318" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10319" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10320"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10321" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10322" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10323"><span class="mrow" id="MathJax-Span-10324"><span class="mo" id="MathJax-Span-10325" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10326" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10327" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10328" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10329" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10330" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10331" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 4.456em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.604em, -0.497em); top: -2.851em; left: 50%; margin-left: -2.168em;"><span class="mrow" id="MathJax-Span-10332"><span class="msubsup" id="MathJax-Span-10333"><span style="display: inline-block; position: relative; width: 1.123em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10334" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="texatom" id="MathJax-Span-10335"><span class="mrow" id="MathJax-Span-10336"><span class="mi" id="MathJax-Span-10337" style="font-size: 50%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10338" style="font-size: 50%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10339" style="font-size: 50%; font-family: STIXGeneral-Italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10340" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10341"><span style="display: inline-block; position: relative; width: 0.56em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10342" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.338em;"><span class="mi" id="MathJax-Span-10343" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10344" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10345"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.485em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10346" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="mi" id="MathJax-Span-10347" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10348" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10349"><span style="display: inline-block; position: relative; width: 1.179em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10350" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.338em;"><span class="texatom" id="MathJax-Span-10351"><span class="mrow" id="MathJax-Span-10352"><span class="mi" id="MathJax-Span-10353" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span class="mo" id="MathJax-Span-10354" style="font-size: 50%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-10355" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10356" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.497em); top: -1.915em; left: 50%; margin-left: -1.408em;"><span class="mrow" id="MathJax-Span-10357"><span class="msubsup" id="MathJax-Span-10358"><span style="display: inline-block; position: relative; width: 0.954em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10359" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="texatom" id="MathJax-Span-10360"><span class="mrow" id="MathJax-Span-10361"><span class="mi" id="MathJax-Span-10362" style="font-size: 50%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10363" style="font-size: 50%; font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10364" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10365"><span style="display: inline-block; position: relative; width: 0.56em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10366" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.338em;"><span class="mi" id="MathJax-Span-10367" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10368" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10369"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.485em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10370" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="mi" id="MathJax-Span-10371" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10372" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 4.456em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mi" id="MathJax-Span-10373" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">∀</span><span class="msubsup" id="MathJax-Span-10374"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10375" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-10376"><span class="mrow" id="MathJax-Span-10377"><span class="mi" id="MathJax-Span-10378" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-10379" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-10380" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10381" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-10382" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.833em; vertical-align: -0.638em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-359">\hat T(s' | s,a) = \frac{n_{sas}(s_t,a_t,s_{t+1})}{n_{sa}(s_t,a_t)} \forall s_{t+1} \in S</script></li>
</ul>
</li>
<li>Finally, we update <span class="MathJax" id="MathJax-Element-341-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9955" style="width: 3.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.759em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9956"><span class="mi" id="MathJax-Span-9957" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-9958" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-9959" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-9960" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-9961" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-9962" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.077em; vertical-align: -0.265em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-341">Q(s,a)</script> using value iteration, using our empirical estimates of the reward model <span class="MathJax" id="MathJax-Element-360-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10383" style="width: 2.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.646em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1000em, 2.88em, -0.739em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10384"><span class="texatom" id="MathJax-Span-10385"><span class="mrow" id="MathJax-Span-10386"><span class="munderover" id="MathJax-Span-10387"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10388" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10389" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10390" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10391" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10392" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10393" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10394" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.388em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-360">\hat R(s,a)</script> and transition model <span class="MathJax" id="MathJax-Element-361-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10395" style="width: 4.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.716em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1000em, 2.88em, -0.635em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10396"><span class="texatom" id="MathJax-Span-10397"><span class="mrow" id="MathJax-Span-10398"><span class="munderover" id="MathJax-Span-10399"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10400" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10401" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10402" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10403"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10404" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10405" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10406"><span class="mrow" id="MathJax-Span-10407"><span class="mo" id="MathJax-Span-10408" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10409" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10410" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10411" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10412" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.388em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-361">\hat T(s' | s,a)</script>, and add in  a reward bonus which is different for each state action pair. Note that we could also do this with alogirhtms other than value iteration: While not converged, do:
<ul>
<li><span class="MathJax" id="MathJax-Element-362-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10413" style="width: 36.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 32.939em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.325em, 1000em, 5.018em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10414"><span class="mi" id="MathJax-Span-10415" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-10416" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10417" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10418" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10419" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10420" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10421" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="texatom" id="MathJax-Span-10422" style="padding-left: 0.313em;"><span class="mrow" id="MathJax-Span-10423"><span class="munderover" id="MathJax-Span-10424"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10425" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10426" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10427" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10428" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10429" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10430" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10431" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10432" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-10433" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-10434" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.648em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10435" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -3.701em; left: 0.957em;"><span class="texatom" id="MathJax-Span-10436"><span class="mrow" id="MathJax-Span-10437"><span class="msup" id="MathJax-Span-10438"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10439" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-10440" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10441" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-10442"><span class="munderover" id="MathJax-Span-10443"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10444" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10445" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10446" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10447"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10448" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10449" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10450"><span class="mrow" id="MathJax-Span-10451"><span class="mo" id="MathJax-Span-10452" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10453" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10454" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10455" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10456" style="font-family: STIXGeneral-Regular;">)</span><span class="munderover" id="MathJax-Span-10457" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.493em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-10458" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -3.803em; left: 1.745em;"><span class="texatom" id="MathJax-Span-10459"><span class="mrow" id="MathJax-Span-10460"><span class="msup" id="MathJax-Span-10461"><span style="display: inline-block; position: relative; width: 0.672em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.485em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10462" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.394em;"><span class="mo" id="MathJax-Span-10463" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mi" id="MathJax-Span-10464" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">Q</span><span class="mo" id="MathJax-Span-10465" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10466"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10467" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10468" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10469" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-10470" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10471" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.563em;"><span class="mo" id="MathJax-Span-10472" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10473" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10474" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="munderover" id="MathJax-Span-10475" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 5.518em; height: 0px;"><span style="position: absolute; clip: rect(2.789em, 1000em, 5.761em, -0.528em); top: -3.998em; left: 1.08em;"><span class="munderover" id="MathJax-Span-10476"><span style="display: inline-block; position: relative; width: 3.358em; height: 0px;"><span style="position: absolute; clip: rect(2.789em, 1000em, 4.96em, -0.535em); top: -3.998em; left: 0.007em;"><span class="mfrac" id="MathJax-Span-10477"><span style="display: inline-block; position: relative; width: 3.104em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.66em, 1000em, 2.622em, -0.535em); top: -2.869em; left: 50%; margin-left: -0.197em;"><span class="mi" id="MathJax-Span-10478" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(3.221em, 1000em, 4.436em, -0.428em); top: -3.474em; left: 50%; margin-left: -1.492em;"><span class="msqrt" id="MathJax-Span-10479"><span style="display: inline-block; position: relative; width: 2.984em; height: 0px;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.497em); top: -2.309em; left: 0.676em;"><span class="mrow" id="MathJax-Span-10480"><span class="msubsup" id="MathJax-Span-10481"><span style="display: inline-block; position: relative; width: 0.954em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10482" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="texatom" id="MathJax-Span-10483"><span class="mrow" id="MathJax-Span-10484"><span class="mi" id="MathJax-Span-10485" style="font-size: 50%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10486" style="font-size: 50%; font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10487" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10488" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10489" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10490" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-10491" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.901em, 1000em, 1.309em, -0.507em); top: -1.678em; left: 0.676em;"><span style="border-left-width: 2.309em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: -0.07em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span><span style="position: absolute; clip: rect(3.141em, 1000em, 4.35em, -0.428em); top: -3.911em; left: 0em;"><span><span style="font-size: 70.7%; font-family: STIXGeneral-Regular;">√</span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 3.104em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(2.183em, 1000em, 3.227em, -0.507em); top: -1.464em; left: 0em;"><span class="mo" id="MathJax-Span-10492" style=""><span style="display: inline-block; position: relative; width: 3.358em; height: 0px;"><span style="position: absolute; font-family: STIXNonUnicode-Regular; top: -3.998em; left: 0.025em;"><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXNonUnicode-Regular; top: -3.998em; left: 2.436em;"><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXNonUnicode-Regular; top: -3.998em; left: 0.75em;"><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.657em, 1000em, 2.587em, -0.507em); top: -0.103em; left: 0em;"><span class="texatom" id="MathJax-Span-10493"><span class="mrow" id="MathJax-Span-10494"><span class="mtext" id="MathJax-Span-10495" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">reward bonus term</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-10496" style="font-family: STIXGeneral-Regular;">∀</span><span class="mi" id="MathJax-Span-10497" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10498" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-10499" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-10500" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10501" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10502" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-10503" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">A</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.85em; vertical-align: -2.633em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-362">Q(s,a) = \hat R(s,a) + \gamma \sum_{s'} \hat T (s' | s,a) \max_{a'} Q(s',a') + \underbrace{\frac{\beta}{\sqrt{n_{sa}(s,a)}}}_{\text{reward bonus term}} \forall s \in S, a \in A</script>
<ul>
<li>Above, the reward bonus term depends on <span class="MathJax" id="MathJax-Element-363-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10504" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.908em, -0.547em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10505"><span class="mi" id="MathJax-Span-10506" style="font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.105em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-363">\beta</script> and the number of times we have tried that state-action pair.</li>
<li>Idea: Anyting we haven't sampled before will look maximally awesome, and anything else will be a combination of its empirical average reward plus a reward bonus, and the reward bonus will get smaller as we gather more data.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><div class="cell text-cell"><img src="resources/4080FF704105ED82200B126805DCD9A8.png" alt="Screenshot 2020-04-11 at 7.21.59 PM.png" width="650" height="476"><div></div></div><div class="cell markdown-cell"><p>You can also think of the above as solving a new MDP with the same transitions as the old MDP, but with additional reward bonus for states we have explored less.</p>
<p>This algorithm is PAC - It's value is <span class="MathJax" id="MathJax-Element-336-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9921" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.477em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9922"><span class="mi" id="MathJax-Span-9923" style="font-family: STIXGeneral-Italic;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-336">\epsilon</script> optimal (<span class="MathJax" id="MathJax-Element-364-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10507" style="width: 8.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.545em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.524em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10508"><span class="mi" id="MathJax-Span-10509" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-10510" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10511" style="font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-10512" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10513" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≥</span><span class="mi" id="MathJax-Span-10514" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">Q</span><span class="mo" id="MathJax-Span-10515" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10516"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10517" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.563em;"><span class="mtext" id="MathJax-Span-10518" style="font-size: 70.7%; font-family: STIXGeneral-Regular; color: red;">\*</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10519" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10520" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-10521" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.26em; vertical-align: -0.265em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-364">Q(a) \ge Q(a^\*) - \epsilon</script>) with probability at least <span class="MathJax" id="MathJax-Element-338-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9939" style="width: 2.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.196em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.714em, -0.396em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9940"><span class="mn" id="MathJax-Span-9941" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-9942" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-9943" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">δ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.888em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-338">1-\delta</script> on all but a polynomial number of steps.</p>
<p>MBIE-EB algorithm is much better compared to other algorithms including greedy. Appendix 2.</p>
<h1>Bayesian Model-Based RL - Thomspon Sampling for MDPs</h1>
<p>Maintain posterior distribution over MDP models.<br>
Estimate posteriors for both transitions <span class="MathJax" id="MathJax-Element-365-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10522" style="width: 3.203em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.872em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10523"><span class="mi" id="MathJax-Span-10524" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-10525" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10526" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="texatom" id="MathJax-Span-10527"><span class="mrow" id="MathJax-Span-10528"><span class="mo" id="MathJax-Span-10529" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-10530"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.712em, -0.488em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10531" style="font-family: STIXGeneral-Italic;">h</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="mi" id="MathJax-Span-10532" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10533" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.111em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-365">p(T | h_t)</script> and rewards <span class="MathJax" id="MathJax-Element-366-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10534" style="width: 3.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.815em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10535"><span class="mi" id="MathJax-Span-10536" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-10537" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10538" style="font-family: STIXGeneral-Italic;">R</span><span class="texatom" id="MathJax-Span-10539"><span class="mrow" id="MathJax-Span-10540"><span class="mo" id="MathJax-Span-10541" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-10542"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.712em, -0.488em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10543" style="font-family: STIXGeneral-Italic;">h</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="mi" id="MathJax-Span-10544" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10545" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.111em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-366">p(R | h_t)</script>. <span class="MathJax" id="MathJax-Element-367-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10546" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10547"><span class="mi" id="MathJax-Span-10548" style="font-family: STIXGeneral-Italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-367">R</script> is usualyl simmilar to Bandits (Bernoulli using Beta prior) or Multinomial/Dirchlet), and usually <span class="MathJax" id="MathJax-Element-368-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10549" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10550"><span class="mi" id="MathJax-Span-10551" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-368">T</script> is a Multinomial using Dirchlet prior (Direchlet distribution parameterized by number of times each of the multinomial states was visited).</p>
<p><strong>Thompson Sampling for MDPs</strong><br>
Initialize prior over dynamic model <span class="MathJax" id="MathJax-Element-369-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10552" style="width: 5.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.561em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10553"><span class="mi" id="MathJax-Span-10554" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-10555" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10556" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-10557" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10558"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10559" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10560" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10561"><span class="mrow" id="MathJax-Span-10562"><span class="mo" id="MathJax-Span-10563" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10564" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10565" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10566" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10567" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.199em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-369">p(T(s'|s,a)</script> and rewards model <span class="MathJax" id="MathJax-Element-370-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10568" style="width: 2.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.59em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10569"><span class="mi" id="MathJax-Span-10570" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-10571" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10572"><span style="display: inline-block; position: relative; width: 1.37em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10573" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.619em;"><span class="texatom" id="MathJax-Span-10574"><span class="mrow" id="MathJax-Span-10575"><span class="mi" id="MathJax-Span-10576" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10577" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10578" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-370">p(R_{as})</script> for each (s,a), initialize start state.<br>
Loop t = 1,2,3,...</p>
<ul>
<li>Sample an MDP M: for each <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script> pair, sample a dynamics model <span class="MathJax" id="MathJax-Element-371-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10579" style="width: 4.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.716em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.88em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10580"><span class="mi" id="MathJax-Span-10581" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-10582" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10583"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10584" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10585" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10586"><span class="mrow" id="MathJax-Span-10587"><span class="mo" id="MathJax-Span-10588" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10589" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10590" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10591" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10592" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.168em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-371">T(s'|s,a)</script> and a reward model <span class="MathJax" id="MathJax-Element-372-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10593" style="width: 2.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.646em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10594"><span class="mi" id="MathJax-Span-10595" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-10596" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10597" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10598" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10599" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10600" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-372">R(s,a)</script></li>
<li>Compute <span class="MathJax" id="MathJax-Element-373-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10601" style="width: 1.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.52em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.301em, 1000em, 2.612em, -0.448em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10602"><span class="msubsup" id="MathJax-Span-10603"><span style="display: inline-block; position: relative; width: 1.483em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10604" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.807em, 1000em, 2.454em, -0.459em); top: -2.702em; left: 0.732em;"><span class="mo" id="MathJax-Span-10605" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.678em, 1000em, 2.477em, -0.519em); top: -2.061em; left: 0.732em;"><span class="mi" id="MathJax-Span-10606" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.205em; vertical-align: -0.337em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-373">Q_M^*</script>, the optimal value for the sampled MDP, and update <span class="MathJax" id="MathJax-Element-374-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10607" style="width: 12.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.867em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.639em, 1000em, 2.95em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10608"><span class="msubsup" id="MathJax-Span-10609"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10610" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10611" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10612" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-10613" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">arg</span><span class="mo" id="MathJax-Span-10614"></span><span class="munderover" id="MathJax-Span-10615" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 3.172em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-10616" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 1.745em;"><span class="texatom" id="MathJax-Span-10617"><span class="mrow" id="MathJax-Span-10618"><span class="mi" id="MathJax-Span-10619" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-10620" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-10621" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">A</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10622" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.483em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10623" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.807em, 1000em, 2.454em, -0.459em); top: -2.702em; left: 0.732em;"><span class="mo" id="MathJax-Span-10624" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.678em, 1000em, 2.477em, -0.519em); top: -2.061em; left: 0.732em;"><span class="mi" id="MathJax-Span-10625" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10626" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10627"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10628" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10629" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10630" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10631" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10632" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.205em; vertical-align: -0.337em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-374">a_t = \arg \max_{a \in A} Q^*_M(s_t,a)</script>.</li>
<li>Observe reward <span class="MathJax" id="MathJax-Element-353-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10127" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.586em, 1000em, 2.523em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10128"><span class="msubsup" id="MathJax-Span-10129"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10130" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-10131" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.79em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-353">r_t</script> and next state <span class="MathJax" id="MathJax-Element-354-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10132" style="width: 1.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.689em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.585em, 1000em, 2.544em, -0.491em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10133"><span class="msubsup" id="MathJax-Span-10134"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10135" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-10136"><span class="mrow" id="MathJax-Span-10137"><span class="mi" id="MathJax-Span-10138" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-10139" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-10140" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.814em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-354">s_{t+1}</script>.</li>
<li>Update posterior <span class="MathJax" id="MathJax-Element-375-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10633" style="width: 7.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.419em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10634"><span class="mi" id="MathJax-Span-10635" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-10636" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10637" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-10638" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10639"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10640" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10641" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10642"><span class="mrow" id="MathJax-Span-10643"><span class="mo" id="MathJax-Span-10644" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10645" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10646" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10647" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10648" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-10649"><span class="mrow" id="MathJax-Span-10650"><span class="mo" id="MathJax-Span-10651" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-10652"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10653" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-10654"><span class="mrow" id="MathJax-Span-10655"><span class="mi" id="MathJax-Span-10656" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-10657" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-10658" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.199em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-375">p(T(s'|s,a)|s_{t+1}</script>, <span class="MathJax" id="MathJax-Element-376-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10659" style="width: 3.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.491em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10660"><span class="mi" id="MathJax-Span-10661" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-10662" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10663"><span style="display: inline-block; position: relative; width: 1.37em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10664" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.619em;"><span class="texatom" id="MathJax-Span-10665"><span class="mrow" id="MathJax-Span-10666"><span class="mi" id="MathJax-Span-10667" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10668" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10669"><span class="mrow" id="MathJax-Span-10670"><span class="mo" id="MathJax-Span-10671" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-10672"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10673" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-10674" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10675" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.103em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-376">p(R_{as}|r_t)</script> using Bayes rule</li>
</ul>
<p>end loop</p>
<p>Thompson sampling also implements probability matching and empirically also does really well. Generalizes to non-tabular MDPs, but kind of poorly. (<strong>Ben Van Roy's</strong> work on Thomspon Sampling for MDPs, Called Posterior Sampling).</p>
</div><div class="cell text-cell"><img src="resources/E3572180A1CC03E2305B9BA5C65DF5C1.png" alt="Screenshot 2020-04-12 at 4.21.56 PM.png" width="660" height="479"></div><div class="cell markdown-cell"><p><strong>Generalization</strong><br>
Recall PAC ensures epsilon-optimality almost all of the time except for timesteps polynomial in the state space. However, this is not useful if the state space is infinite or really large (ie pixels). How can we genrealize it to those cases?</p>
<p>Very active area of current research. A long way to go with theory still. No good asymptotic guarees for some of the basic algorithms. So even further than finite sample MDPs.</p>
<p>Recall MBIE-EB algo for finite state and action domains. What meeds to be modified for continupus/extremely large state or actions spaces? We need some way to generalize our state space, replacing the running counts we keep in the discrete space, that say "for this state I visited, similar states all will have their optimism bonus reduced". (Some sort of state embedding in a distance metric).</p>
<p>Most work on this is based on model-free RL, since model-based RL is very hard to scale, errors in your model specification make planning very hard. I.e. Do value function approximation with a reward bonus/exploration bonus term. Much research has been done as to the paramterization of the reward bonus term. (Appendix 3)</p>
<ul>
<li>ie. density estimate model, hash-based /bucket-based discretization of continuous state spaces, etc</li>
</ul>
</div><div class="cell text-cell"><img src="resources/7914B5C0256FCF00E7C09E5025FB1020.png" alt="Screenshot 2020-04-12 at 4.31.38 PM.png" width="539" height="399"><div><img src="resources/B66010243978FBB60CA61E1796B5490D.png" alt="Screenshot 2020-04-12 at 4.36.03 PM.png" width="543" height="405"><br></div><div><br></div><div>Idea: You can do thompson sampling over state presetnation and also the parameters. However, hard to scale up<br></div><div><img src="resources/AC767EA30B4A428DDC4B0CAD0C11C571.png" alt="Screenshot 2020-04-12 at 4.39.50 PM.png" width="538" height="399"><br></div><div><img src="resources/666B3902B06636C920860F2E4CD10130.png" alt="Screenshot 2020-04-12 at 4.39.53 PM.png" width="536" height="397"><br></div><div>The last paper (Bayesian Linear Regression on top of DNN last layer to add back uncertainty performs very good).</div></div><div class="cell text-cell"><div><b>Appendix 1</b><br></div><div><img src="resources/AE2F8B117179FB9F9404127C92B76CC8.png" alt="Screenshot 2020-04-11 at 7.16.58 PM.png" width="540" height="402"><br></div><div>The Even-Dar and Mansour intial value is huge, because the denominator is vanishignly small. Only a theoretical value, not useable.</div><div><br></div><div></div></div><div class="cell markdown-cell"><h2>Appendix 2: Sufficient Conditions to make an RL Algorithm PAC</h2>
<p>A lot of proofs to show algorithms are PAC follow similar lines to logic to below.</p>
<p>If the below 3 conditions are satisified, then an RL algorithm is PAC - that is, is <span class="MathJax" id="MathJax-Element-377-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10676" style="width: 2.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.858em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.447em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10677"><span class="mi" id="MathJax-Span-10678" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-10679" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10680" style="font-family: STIXGeneral-Italic;">ϵ</span><span class="mo" id="MathJax-Span-10681" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-377">O(\epsilon)</script> optimal <span class="MathJax" id="MathJax-Element-338-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9939" style="width: 2.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.196em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.714em, -0.396em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9940"><span class="mn" id="MathJax-Span-9941" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-9942" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-9943" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">δ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.888em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-338">1-\delta</script> of the time on all but <span class="MathJax" id="MathJax-Element-378-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10682" style="width: 10.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.065em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(2.33em, 1000em, 4.715em, -0.527em); top: -3.773em; left: 0em;"><span class="mrow" id="MathJax-Span-10683"><span class="mi" id="MathJax-Span-10684" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-10685" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mrow" id="MathJax-Span-10686" style="padding-left: 0.313em;"><span class="mo" id="MathJax-Span-10687" style="vertical-align: -0.464em; padding-left: 0.282em;"><span><span style="font-size: 111%; font-family: STIXSizeTwoSym;">(</span></span></span><span class="mfrac" id="MathJax-Span-10688"><span style="display: inline-block; position: relative; width: 2.541em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.657em, 1000em, 2.608em, -0.486em); top: -2.855em; left: 50%; margin-left: -0.845em;"><span class="mrow" id="MathJax-Span-10689"><span class="mi" id="MathJax-Span-10690" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">ξ</span><span class="mo" id="MathJax-Span-10691" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10692" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">ϵ</span><span class="mo" id="MathJax-Span-10693" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10694" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">δ</span><span class="mo" id="MathJax-Span-10695" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.517em, 1000em, 2.623em, -0.486em); top: -1.77em; left: 50%; margin-left: -1.211em;"><span class="mrow" id="MathJax-Span-10696"><span class="mi" id="MathJax-Span-10697" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">ϵ</span><span class="mo" id="MathJax-Span-10698" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-10699" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-10700" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-10701" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.02em;"></span></span><span class="msubsup" id="MathJax-Span-10702"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.486em); top: -2.309em; left: 0em;"><span class="mo" id="MathJax-Span-10703" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.481em; left: 0.282em;"><span class="mn" id="MathJax-Span-10704" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 2.541em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mi" id="MathJax-Span-10705" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">ln</span><span class="mo" id="MathJax-Span-10706"></span><span class="mo" id="MathJax-Span-10707" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-10708" style="font-family: STIXGeneral-Regular;">⋯</span><span class="mo" id="MathJax-Span-10709" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10710" style="vertical-align: -0.464em;"><span><span style="font-size: 111%; font-family: STIXSizeTwoSym;">)</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.773em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.398em; vertical-align: -0.922em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-378">N = \left( \frac{\xi(\epsilon,\delta)}{\epsilon (1-\gamma)^2} \ln (\cdots) \right)</script> time steps.</p>
<ol>
<li><strong>Optimism</strong>: Computed value of the algorithm is greater than or equal to the true optimal value of the state action pair minus epsilon for all time steps <span class="MathJax" id="MathJax-Element-379-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10711" style="width: 15.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.964em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.639em, 1000em, 2.928em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10712"><span class="msubsup" id="MathJax-Span-10713"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10714" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.091em; left: 0.732em;"><span class="mi" id="MathJax-Span-10715" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10716" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10717"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10718" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10719" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10720" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10721" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10722" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10723" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10724" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10725" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≥</span><span class="msubsup" id="MathJax-Span-10726" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10727" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.702em; left: 0.732em;"><span class="mo" id="MathJax-Span-10728" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10729" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10730"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10731" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10732" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10733" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10734" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10735" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-10736" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10737" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10738" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-10739" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">ϵ</span><span class="mspace" id="MathJax-Span-10740" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mspace" id="MathJax-Span-10741" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-10742" style="font-family: STIXGeneral-Regular;">∀</span><span class="mi" id="MathJax-Span-10743" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10744" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10745" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10746" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10747" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.018em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.181em; vertical-align: -0.312em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-379">Q_t(s_t,a_t) \ge Q^*(s_t,a_t) - \epsilon \;\;  \forall s,a,t</script></li>
<li><strong>Accuracy</strong>: The computed value of <span class="MathJax" id="MathJax-Element-380-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10748" style="width: 3.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.928em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.606em, 1000em, 2.932em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10749"><span class="msubsup" id="MathJax-Span-10750"><span style="display: inline-block; position: relative; width: 1.474em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10751" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.526em, 1000em, 4.278em, -0.493em); top: -4.454em; left: 0.805em;"><span class="texatom" id="MathJax-Span-10752"><span class="mrow" id="MathJax-Span-10753"><span class="msubsup" id="MathJax-Span-10754"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-10756" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.754em, 1000em, 2.485em, -0.48em); top: -2.087em; left: 0.655em;"><span class="mi" id="MathJax-Span-10757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10758" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10759"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10760" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10761" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10762" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.222em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-380">V_t^{\pi_t}(s_t)</script> minus <span class="MathJax" id="MathJax-Element-381-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10763" style="width: 1.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.52em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.344em, 1000em, 2.757em, -0.431em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10764"><span class="msubsup" id="MathJax-Span-10765"><span style="display: inline-block; position: relative; width: 1.474em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10766" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.526em, 1000em, 4.278em, -0.493em); top: -4.378em; left: 0.805em;"><span class="texatom" id="MathJax-Span-10767"><span class="mrow" id="MathJax-Span-10768"><span class="msubsup" id="MathJax-Span-10769"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10770" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-10771" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.837em, 1000em, 2.622em, -0.53em); top: -2.061em; left: 0.655em;"><span class="mi" id="MathJax-Span-10772" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">μ</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.318em; vertical-align: -0.498em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-381">V_\mu^{\pi_t}</script>, which is a "<em>half-optimistic</em>" MDP in between our optimistic MDP and the real MDP, is within epsilon. <span class="MathJax" id="MathJax-Element-382-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10773" style="width: 9.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.784em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.606em, 1000em, 3.095em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10774"><span class="msubsup" id="MathJax-Span-10775"><span style="display: inline-block; position: relative; width: 1.474em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10776" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.526em, 1000em, 4.278em, -0.493em); top: -4.454em; left: 0.805em;"><span class="texatom" id="MathJax-Span-10777"><span class="mrow" id="MathJax-Span-10778"><span class="msubsup" id="MathJax-Span-10779"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10780" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-10781" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.754em, 1000em, 2.485em, -0.48em); top: -2.087em; left: 0.655em;"><span class="mi" id="MathJax-Span-10782" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10783" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10784"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10785" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10786" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10787" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10788" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-10789" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.474em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10790" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.526em, 1000em, 4.278em, -0.493em); top: -4.378em; left: 0.805em;"><span class="texatom" id="MathJax-Span-10791"><span class="mrow" id="MathJax-Span-10792"><span class="msubsup" id="MathJax-Span-10793"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10794" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-10795" style="font-size: 50%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.009em;"></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.837em, 1000em, 2.622em, -0.53em); top: -2.061em; left: 0.655em;"><span class="mi" id="MathJax-Span-10796" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">μ</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10797" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10798"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10799" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10800" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10801" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10802" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mi" id="MathJax-Span-10803" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.402em; vertical-align: -0.498em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-382">V_t^{\pi_t}(s_t) - V_\mu^{\pi_t}(s_t) \le \epsilon</script></li>
<li><strong>Bounded Learning Complexity</strong>: Total number of Q updates must be bounded, and the number of times we visit an known state action pair must be bounded by a function <span class="MathJax" id="MathJax-Element-383-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10804" style="width: 2.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.534em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.888em, -0.477em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10805"><span class="mi" id="MathJax-Span-10806" style="font-family: STIXGeneral-Italic;">ξ</span><span class="mo" id="MathJax-Span-10807" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10808" style="font-family: STIXGeneral-Italic;">ϵ</span><span class="mo" id="MathJax-Span-10809" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10810" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">δ</span><span class="mo" id="MathJax-Span-10811" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.088em; vertical-align: -0.268em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-383">\xi(\epsilon, \delta)</script>.</li>
</ol>
<ul>
<li>Strehl, Li, Littleman (2006) Incremental Model based learners with Formal Learnign Guarentees</li>
</ul>
<h3>Using above to show that MBIE-EB is PAC:</h3>
<ol>
<li>
<p>Optimism: We show that <span class="MathJax" id="MathJax-Element-384-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10812" style="width: 27.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 25.056em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.325em, 1000em, 3.496em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10813"><span class="mi" id="MathJax-Span-10814" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-10815" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10816" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10817" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10818" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10819" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10820" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="texatom" id="MathJax-Span-10821" style="padding-left: 0.313em;"><span class="mrow" id="MathJax-Span-10822"><span class="munderover" id="MathJax-Span-10823"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10824" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10825" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10826" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10827" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10828" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10829" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10830" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10831" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-10832" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-10833" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.648em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10834" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -3.701em; left: 0.957em;"><span class="texatom" id="MathJax-Span-10835"><span class="mrow" id="MathJax-Span-10836"><span class="msup" id="MathJax-Span-10837"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10838" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-10839" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10840" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-10841"><span class="munderover" id="MathJax-Span-10842"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10843" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10844" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10845" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10846"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10847" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10848" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10849"><span class="mrow" id="MathJax-Span-10850"><span class="mo" id="MathJax-Span-10851" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10852" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10853" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10854" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10855" style="font-family: STIXGeneral-Regular;">)</span><span class="munderover" id="MathJax-Span-10856" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.493em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-10857" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -3.803em; left: 1.745em;"><span class="texatom" id="MathJax-Span-10858"><span class="mrow" id="MathJax-Span-10859"><span class="msup" id="MathJax-Span-10860"><span style="display: inline-block; position: relative; width: 0.672em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.485em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10861" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.394em;"><span class="mo" id="MathJax-Span-10862" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mi" id="MathJax-Span-10863" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">Q</span><span class="mo" id="MathJax-Span-10864" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10865"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10866" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10867" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10868" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-10869" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10870" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.563em;"><span class="mo" id="MathJax-Span-10871" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10872" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10873" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mfrac" id="MathJax-Span-10874" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 3.104em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.66em, 1000em, 2.622em, -0.535em); top: -2.869em; left: 50%; margin-left: -0.197em;"><span class="mi" id="MathJax-Span-10875" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(3.221em, 1000em, 4.436em, -0.428em); top: -3.474em; left: 50%; margin-left: -1.492em;"><span class="msqrt" id="MathJax-Span-10876"><span style="display: inline-block; position: relative; width: 2.984em; height: 0px;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.497em); top: -2.309em; left: 0.676em;"><span class="mrow" id="MathJax-Span-10877"><span class="msubsup" id="MathJax-Span-10878"><span style="display: inline-block; position: relative; width: 0.954em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-10879" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.394em;"><span class="texatom" id="MathJax-Span-10880"><span class="mrow" id="MathJax-Span-10881"><span class="mi" id="MathJax-Span-10882" style="font-size: 50%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10883" style="font-size: 50%; font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-10884" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10885" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10886" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10887" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-10888" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.901em, 1000em, 1.309em, -0.507em); top: -1.678em; left: 0.676em;"><span style="border-left-width: 2.309em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: -0.07em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span><span style="position: absolute; clip: rect(3.141em, 1000em, 4.35em, -0.428em); top: -3.911em; left: 0em;"><span><span style="font-size: 70.7%; font-family: STIXGeneral-Regular;">√</span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 3.104em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.16em; vertical-align: -0.943em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-384">Q(s,a) = \hat R(s,a) + \gamma \sum_{s'} \hat T (s' | s,a) \max_{a'} Q(s',a') + \frac{\beta}{\sqrt{n_{sa}(s,a)}}</script> is an upper bound to the true <span class="MathJax" id="MathJax-Element-385-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10889" style="width: 1.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.301em, 1000em, 2.547em, -0.448em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10890"><span class="msubsup" id="MathJax-Span-10891"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10892" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.702em; left: 0.732em;"><span class="mo" id="MathJax-Span-10893" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.133em; vertical-align: -0.265em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-385">Q^*</script>. Consider some state action pair <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script>, such that <span class="MathJax" id="MathJax-Element-386-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10894" style="width: 5.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.349em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10895"><span class="msubsup" id="MathJax-Span-10896"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10897" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-10898"><span class="mrow" id="MathJax-Span-10899"><span class="mi" id="MathJax-Span-10900" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-10901" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10902" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10903" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10904" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10905" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10906" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10907" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mi" id="MathJax-Span-10908" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">m</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-386">n_{sa}(s,a) < m</script> (1).<br>
Define <span class="MathJax" id="MathJax-Element-387-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10909" style="width: 8.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.601em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.652em, 1000em, 2.909em, -0.536em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10910"><span class="msubsup" id="MathJax-Span-10911"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10912" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.632em;"><span class="mi" id="MathJax-Span-10913" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10914" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">:<span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;">=</span></span><span class="msubsup" id="MathJax-Span-10915" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10916" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-10917" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10918" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-10919" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="msubsup" id="MathJax-Span-10920"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10921" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-10922" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10923" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10924"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10925" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10926" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10927" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.145em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-387">X_i := r_i + \gamma V^*(s_i)</script> where <span class="MathJax" id="MathJax-Element-388-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10928" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.586em, 1000em, 2.523em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10929"><span class="msubsup" id="MathJax-Span-10930"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10931" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-10932" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.79em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-388">r_i</script> is the reward from the <span class="MathJax" id="MathJax-Element-389-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10933" style="width: 0.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.338em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.711em, 1000em, 2.714em, -0.458em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10934"><span class="mi" id="MathJax-Span-10935" style="font-family: STIXGeneral-Italic;">i</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.863em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-389">i</script>th time we sampled <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script>, and <span class="MathJax" id="MathJax-Element-390-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10936" style="width: 3.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.703em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.652em, 1000em, 2.88em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10937"><span class="msubsup" id="MathJax-Span-10938"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10939" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-10940" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10941" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10942"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10943" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10944" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10945" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.113em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-390">V^*(s_i)</script> is the value of the next state we got to on the <span class="MathJax" id="MathJax-Element-389-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10933" style="width: 0.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.338em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.711em, 1000em, 2.714em, -0.458em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10934"><span class="mi" id="MathJax-Span-10935" style="font-family: STIXGeneral-Italic;">i</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.863em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-389">i</script>th time that we sampled <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script>.<br>
Then <span class="MathJax" id="MathJax-Element-391-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10946" style="width: 7.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.813em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.639em, 1000em, 2.885em, -0.437em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10947"><span class="texatom" id="MathJax-Span-10948"><span class="mrow" id="MathJax-Span-10949"><span class="mi" id="MathJax-Span-10950" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-10951" style="font-family: STIXGeneral-Regular;">[</span><span class="msubsup" id="MathJax-Span-10952"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10953" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.632em;"><span class="mi" id="MathJax-Span-10954" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10955" style="font-family: STIXGeneral-Regular;">]</span><span class="mo" id="MathJax-Span-10956" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-10957" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10958" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.702em; left: 0.732em;"><span class="mo" id="MathJax-Span-10959" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10960" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10961" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10962" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10963" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10964" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.133em; vertical-align: -0.265em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-391">\mathbb{E}[X_i] = Q^*(s,a)</script>. Using Hoeffding (or some similar probability bound), we can prove that<br>
</p><div class="MathJax_Display" role="textbox" aria-readonly="true"><span class="MathJax" id="MathJax-Element-392-Frame" style=""><nobr><span class="math" id="MathJax-Span-10965" style="width: 100%; display: inline-block; min-width: 31.641em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; font-size: 111%; min-width: 31.641em;"><span style="position: absolute; clip: rect(2.821em, 1000em, 7.603em, -0.507em); top: -5.462em; left: 0em; width: 100%;"><span class="mrow" id="MathJax-Span-10966"><span class="mtable" id="MathJax-Span-10967" style="min-width: 31.641em;"><span style="display: inline-block; position: relative; width: 100%; height: 0px; min-width: 31.641em;"><span style="display: inline-block; position: absolute; width: 25.676em; height: 0px; clip: rect(-2.641em, 1000em, 2.141em, -0.507em); top: 0em; left: 50%; margin-left: -12.838em;"><span style="position: absolute; clip: rect(2.596em, 1000em, 7.177em, -0.507em); top: -5.236em; left: 0em;"><span style="display: inline-block; position: relative; width: 17.23em; height: 0px;"><span style="position: absolute; clip: rect(2.251em, 1000em, 5.695em, -0.507em); top: -4.892em; right: 0em;"><span class="mtd" id="MathJax-Span-10971"><span class="mrow" id="MathJax-Span-10972"><span class="mi" id="MathJax-Span-10973" style="font-family: STIXGeneral-Italic;">P</span><span class="mrow" id="MathJax-Span-10974" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-10975" style="vertical-align: 1.803em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.298em; left: 0em;">⎛<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -1.191em; left: 0em;">⎝<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.596em; left: 0em;">⎜<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.894em; left: 0em;">⎜<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10976"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10977" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.732em;"><span class="mo" id="MathJax-Span-10978" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10979" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10980" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10981" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10982" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10983" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10984" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mfrac" id="MathJax-Span-10985" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 2.654em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-10986" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.493em); top: -1.848em; left: 50%; margin-left: -1.267em;"><span class="mrow" id="MathJax-Span-10987"><span class="mi" id="MathJax-Span-10988" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-10989" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10990" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10991" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10992" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10993" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 2.654em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10994" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.689em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0.169em;"><span class="mo" id="MathJax-Span-10995" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.585em, -0.472em); top: -1.159em; left: 0.282em;"><span class="texatom" id="MathJax-Span-10996"><span class="mrow" id="MathJax-Span-10997"><span class="mi" id="MathJax-Span-10998" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-10999" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-11000" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.562em, 1000em, 2.603em, -0.497em); top: -3.534em; left: 0em;"><span class="texatom" id="MathJax-Span-11001"><span class="mrow" id="MathJax-Span-11002"><span class="mi" id="MathJax-Span-11003" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-11004" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-11005" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-11006" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11007" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-11008" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-11009" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11010" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.632em;"><span class="mi" id="MathJax-Span-11011" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11012" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≥</span><span class="mfrac" id="MathJax-Span-11013" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 3.636em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.908em, -0.547em); top: -3.22em; left: 50%; margin-left: -0.282em;"><span class="mi" id="MathJax-Span-11014" style="font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(2.947em, 1000em, 4.526em, -0.395em); top: -3.135em; left: 50%; margin-left: -1.758em;"><span class="msqrt" id="MathJax-Span-11015"><span style="display: inline-block; position: relative; width: 3.516em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.493em); top: -2.534em; left: 0.957em;"><span class="mrow" id="MathJax-Span-11016"><span class="mi" id="MathJax-Span-11017" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-11018" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-11019" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-11020" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11021" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-11022" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.009em, 1000em, 3.397em, -0.507em); top: -4.06em; left: 0.957em;"><span style="display: inline-block; position: relative; width: 2.559em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.998em; left: 0em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.998em; left: 2.059em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 0.392em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 0.809em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 1.225em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 1.642em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(2.856em, 1000em, 4.426em, -0.395em); top: -3.897em; left: 0em;"><span style="font-family: STIXGeneral-Regular;">√</span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 3.636em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-11023" style="vertical-align: 1.803em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.298em; left: 0em;">⎞<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -1.191em; left: 0em;">⎠<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.596em; left: 0em;">⎟<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.894em; left: 0em;">⎟<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.223em;"></span></span><span style="position: absolute; clip: rect(3.829em, 1000em, 4.167em, -0.507em); top: -2.226em; right: 0em;"><span class="mtd" id="MathJax-Span-11043"><span class="mrow" id="MathJax-Span-11044"></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 5.236em;"></span></span><span style="position: absolute; clip: rect(2.798em, 1000em, 6.791em, -0.209em); top: -4.673em; left: 17.23em;"><span style="display: inline-block; position: relative; width: 8.446em; height: 0px;"><span style="position: absolute; clip: rect(1.328em, 1000em, 2.806em, -0.193em); top: -3.203em; left: 0em;"><span class="mtd" id="MathJax-Span-11024"><span class="mrow" id="MathJax-Span-11025"><span class="mo" id="MathJax-Span-11026" style="font-family: STIXGeneral-Regular; padding-left: 0.25em; padding-right: 0.375em;">≤</span><span class="msubsup" id="MathJax-Span-11027"><span style="display: inline-block; position: relative; width: 4.298em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.476em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11028" style="font-family: STIXGeneral-Italic;">e</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="texatom" id="MathJax-Span-11029"><span class="mrow" id="MathJax-Span-11030"><span class="mo" id="MathJax-Span-11031" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-11032" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span class="msubsup" id="MathJax-Span-11033"><span style="display: inline-block; position: relative; width: 0.78em; height: 0px;"><span style="position: absolute; clip: rect(1.66em, 1000em, 2.622em, -0.535em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-11034" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.482em; left: 0.446em;"><span class="mn" id="MathJax-Span-11035" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-11036" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-11037" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-11038" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="msubsup" id="MathJax-Span-11039"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.832em, 1000em, 2.623em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-11040" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.02em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.394em;"><span class="mn" id="MathJax-Span-11041" style="font-size: 50%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-11042" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.209em); top: -0.762em; left: 0em;"><span class="mtd" id="MathJax-Span-11045"><span class="mrow" id="MathJax-Span-11046"><span class="mo" id="MathJax-Span-11047" style="font-family: STIXGeneral-Regular; padding-left: 0.25em; padding-right: 0.375em;">=</span><span class="mi" id="MathJax-Span-11048" style="font-family: STIXGeneral-Italic;">δ</span><span class="texatom" id="MathJax-Span-11049"><span class="mrow" id="MathJax-Span-11050"><span class="mo" id="MathJax-Span-11051" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mo" id="MathJax-Span-11052" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-11053" style="font-family: STIXGeneral-Regular;">2</span><span class="texatom" id="MathJax-Span-11054"><span class="mrow" id="MathJax-Span-11055"><span class="mo" id="MathJax-Span-11056" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-11057" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="texatom" id="MathJax-Span-11058"><span class="mrow" id="MathJax-Span-11059"><span class="mo" id="MathJax-Span-11060" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-11061"><span class="mrow" id="MathJax-Span-11062"><span class="mo" id="MathJax-Span-11063" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-11064" style="font-family: STIXGeneral-Italic;">A</span><span class="texatom" id="MathJax-Span-11065"><span class="mrow" id="MathJax-Span-11066"><span class="mo" id="MathJax-Span-11067" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-11068" style="font-family: STIXGeneral-Italic;">m</span><span class="mo" id="MathJax-Span-11069" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-11070" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;<span style="font-family: STIXGeneral-Regular; font-style: normal; font-weight: normal;">&lt;</span></span><span class="mn" id="MathJax-Span-11071" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.673em;"></span></span></span><span style="display: inline-block; position: absolute; width: 1.182em; height: 0px; clip: rect(-1.514em, 1000em, -0.323em, -0.507em); top: 0em; right: 0em; margin-left: 0.9em; margin-right: 0.9em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.507em); top: -3.203em; right: 0em;"><span class="mtd" id="mjx-eqn-1_2"><span class="mrow" id="MathJax-Span-10969"><span class="mtext" id="MathJax-Span-10970" style="font-family: STIXGeneral-Regular;">(1)</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 5.462em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 5.058em; vertical-align: -2.251em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-392">\begin{align} P\left(Q^*(s,a) - \frac{1}{n(s,a)}\sum_{i=1}^{n(s,a)} X_i \ge \frac{\beta}{\sqrt{n(s,a)}}\right) & \le e^{-2 \beta^2 (1-\gamma^2)} \tag{1} \\ & = \delta/(2|S| |A| m) << 1 \end{align}</script><br>
Where the last equiality is from plugging in <span class="MathJax" id="MathJax-Element-350-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10046" style="width: 12.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.43em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.242em, -0.547em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10047"><span class="mi" id="MathJax-Span-10048" style="font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-10049" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10050" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.302em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-10051" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.623em, -0.428em); top: -1.915em; left: 50%; margin-left: -0.591em;"><span class="mrow" id="MathJax-Span-10052"><span class="mn" id="MathJax-Span-10053" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-10054" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-10055" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.02em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.302em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="msqrt" id="MathJax-Span-10056" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 7.852em; height: 0px;"><span style="position: absolute; clip: rect(1.677em, 1000em, 2.88em, -0.483em); top: -2.534em; left: 0.957em;"><span class="mrow" id="MathJax-Span-10057"><span class="mn" id="MathJax-Span-10058" style="font-family: STIXGeneral-Regular;">0.5</span><span class="mi" id="MathJax-Span-10059" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">ln</span><span class="mo" id="MathJax-Span-10060"></span><span class="mo" id="MathJax-Span-10061" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-10062" style="font-family: STIXGeneral-Regular;">2</span><span class="texatom" id="MathJax-Span-10063"><span class="mrow" id="MathJax-Span-10064"><span class="mo" id="MathJax-Span-10065" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10066" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="texatom" id="MathJax-Span-10067"><span class="mrow" id="MathJax-Span-10068"><span class="mo" id="MathJax-Span-10069" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="texatom" id="MathJax-Span-10070"><span class="mrow" id="MathJax-Span-10071"><span class="mo" id="MathJax-Span-10072" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10073" style="font-family: STIXGeneral-Italic;">A</span><span class="texatom" id="MathJax-Span-10074"><span class="mrow" id="MathJax-Span-10075"><span class="mo" id="MathJax-Span-10076" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10077" style="font-family: STIXGeneral-Italic;">m</span><span class="texatom" id="MathJax-Span-10078"><span class="mrow" id="MathJax-Span-10079"><span class="mo" id="MathJax-Span-10080" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-10081" style="font-family: STIXGeneral-Italic;">δ</span><span class="mo" id="MathJax-Span-10082" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.009em, 1000em, 3.397em, -0.507em); top: -4.066em; left: 0.957em;"><span style="display: inline-block; position: relative; width: 6.894em; height: 0px;"><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.998em; left: 0em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXGeneral-Regular; top: -3.998em; left: 6.394em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 0.403em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 0.831em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 1.259em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 1.687em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 2.115em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 2.543em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 2.971em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 3.399em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 3.827em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 4.255em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 4.683em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 5.11em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 5.538em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXGeneral-Regular; position: absolute; top: -3.998em; left: 5.966em;">‾<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(2.856em, 1000em, 4.426em, -0.395em); top: -3.903em; left: 0em;"><span style="font-family: STIXGeneral-Regular;">√</span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.715em; vertical-align: -0.661em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-350">\beta = \frac{1}{1-\gamma}\sqrt{0.5 \ln(2|S| |A| m/\delta)}</script>.<br>
The above says, as you get more and more samples of this particular state-action pair, how far away could you be from optimal if you didn't know <span class="MathJax" id="MathJax-Element-393-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11072" style="width: 1.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.295em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.314em, 1000em, 2.383em, -0.431em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-11073"><span class="msubsup" id="MathJax-Span-11074"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11075" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-11076" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.936em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-393">V^*</script>, and the proof says that the probability of divergence more than <span class="MathJax" id="MathJax-Element-394-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11077" style="width: 3.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.759em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.987em, 1000em, 3.158em, -0.535em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-11078"><span class="mfrac" id="MathJax-Span-11079"><span style="display: inline-block; position: relative; width: 2.485em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.66em, 1000em, 2.622em, -0.535em); top: -2.869em; left: 50%; margin-left: -0.197em;"><span class="mi" id="MathJax-Span-11080" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(3.221em, 1000em, 4.436em, -0.428em); top: -3.474em; left: 50%; margin-left: -1.182em;"><span class="msqrt" id="MathJax-Span-11081"><span style="display: inline-block; position: relative; width: 2.365em; height: 0px;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.497em); top: -2.309em; left: 0.676em;"><span class="mrow" id="MathJax-Span-11082"><span class="mi" id="MathJax-Span-11083" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-11084" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-11085" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-11086" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11087" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-11088" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.901em, 1000em, 1.309em, -0.507em); top: -1.678em; left: 0.676em;"><span style="border-left-width: 1.689em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: -0.07em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span><span style="position: absolute; clip: rect(3.141em, 1000em, 4.35em, -0.428em); top: -3.911em; left: 0em;"><span><span style="font-size: 70.7%; font-family: STIXGeneral-Regular;">√</span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 2.485em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.16em; vertical-align: -0.943em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-394">\frac{\beta}{\sqrt{n(s,a)}}</script> is very small.<br>
Note: <span class="MathJax" id="MathJax-Element-395-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11089" style="width: 21.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 19.313em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.399em, 1000em, 3.221em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11090"><span class="mfrac" id="MathJax-Span-11091"><span style="display: inline-block; position: relative; width: 1.809em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-11092" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.497em); top: -1.915em; left: 50%; margin-left: -0.845em;"><span class="mrow" id="MathJax-Span-11093"><span class="mi" id="MathJax-Span-11094" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-11095" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-11096" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-11097" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11098" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-11099" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.809em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-11100" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.721em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-11101" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.603em, -0.497em); top: -2.797em; left: 0.957em;"><span class="texatom" id="MathJax-Span-11102"><span class="mrow" id="MathJax-Span-11103"><span class="mi" id="MathJax-Span-11104" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-11105" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-11106" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-11107" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11108" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mo" id="MathJax-Span-11109" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.485em, -0.472em); top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-11110"><span class="mrow" id="MathJax-Span-11111"><span class="mi" id="MathJax-Span-11112" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-11113" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-11114" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11115" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="texatom" id="MathJax-Span-11116" style="padding-left: 0.313em;"><span class="mrow" id="MathJax-Span-11117"><span class="munderover" id="MathJax-Span-11118"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11119" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11120" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-11121" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-11122" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-11123" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11124" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-11125" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-11126" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-11127" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-11128" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.648em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-11129" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -3.701em; left: 0.957em;"><span class="texatom" id="MathJax-Span-11130"><span class="mrow" id="MathJax-Span-11131"><span class="msup" id="MathJax-Span-11132"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-11133" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-11134" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="texatom" id="MathJax-Span-11135" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-11136"><span class="munderover" id="MathJax-Span-11137"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11138" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11139" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-11140" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-11141"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11142" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-11143" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11144" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11145" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">s</span><span class="mo" id="MathJax-Span-11146" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11147" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-11148" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-11149"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11150" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-11151" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11152" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-11153"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11154" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-11155" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11156" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.773em; vertical-align: -0.638em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-395">\frac{1}{n(s,a)}\sum_{i=1}^{n(s,a)} = \hat R(s,a) + \gamma \sum_{s'} \hat T(s',s,a) V^*(s')</script>. Optimism can be proven by induction.  Note: (1) can thus be rewritten  This is almost the same as the MBIE-EB update equation above, except with <span class="MathJax" id="MathJax-Element-396-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11157" style="width: 3.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.759em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.88em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11158"><span class="msubsup" id="MathJax-Span-11159"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11160" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-11161" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11162" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-11163"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11164" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-11165" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11166" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.168em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-396">V^*(s')</script> in place of <span class="MathJax" id="MathJax-Element-397-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11167" style="width: 7.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.306em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.905em, -0.491em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11168"><span class="munderover" id="MathJax-Span-11169"><span style="display: inline-block; position: relative; width: 2.493em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-11170" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -3.803em; left: 1.745em;"><span class="texatom" id="MathJax-Span-11171"><span class="mrow" id="MathJax-Span-11172"><span class="msup" id="MathJax-Span-11173"><span style="display: inline-block; position: relative; width: 0.672em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.485em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-11174" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.394em;"><span class="mo" id="MathJax-Span-11175" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mi" id="MathJax-Span-11176" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">Q</span><span class="mo" id="MathJax-Span-11177" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-11178"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11179" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-11180" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11181" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-11182" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11183" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.563em;"><span class="mo" id="MathJax-Span-11184" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11185" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.196em; vertical-align: -0.287em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-397">\max_{a'} Q(s',a')</script>. This means that if you have a number of samples, you can bound the difference between the above and Q^*<p></p>
</li>
<li>
<p>Accuracy:<br>
Define: <strong>known (s,a) pairs</strong> - pairs for which we have sufficient data such that their estimated model is close to the true model. <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script> where <span class="MathJax" id="MathJax-Element-360-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10383" style="width: 2.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.646em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1000em, 2.88em, -0.739em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10384"><span class="texatom" id="MathJax-Span-10385"><span class="mrow" id="MathJax-Span-10386"><span class="munderover" id="MathJax-Span-10387"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10388" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-10389" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10390" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10391" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10392" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10393" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10394" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.388em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-360">\hat R(s,a)</script> and <span class="MathJax" id="MathJax-Element-398-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11186" style="width: 4.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.716em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1000em, 2.88em, -0.635em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11187"><span class="texatom" id="MathJax-Span-11188"><span class="mrow" id="MathJax-Span-11189"><span class="munderover" id="MathJax-Span-11190"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11191" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11192" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-11193" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-11194"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11195" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-11196" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-11197"><span class="mrow" id="MathJax-Span-11198"><span class="mo" id="MathJax-Span-11199" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-11200" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-11201" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11202" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-11203" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.388em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-398">\hat T(s'|s,a)</script> is close to true <span class="MathJax" id="MathJax-Element-372-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10593" style="width: 2.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.646em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10594"><span class="mi" id="MathJax-Span-10595" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-10596" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10597" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10598" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10599" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10600" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-372">R(s,a)</script>, <span class="MathJax" id="MathJax-Element-371-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10579" style="width: 4.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.716em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.88em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10580"><span class="mi" id="MathJax-Span-10581" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-10582" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-10583"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10584" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-10585" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10586"><span class="mrow" id="MathJax-Span-10587"><span class="mo" id="MathJax-Span-10588" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10589" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10590" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10591" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10592" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.168em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-371">T(s'|s,a)</script>. If all <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script> pairs are known, we can show that <span class="MathJax" id="MathJax-Element-399-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11204" style="width: 8.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.827em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.493em, 1000em, 3.095em, -0.44em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11205"><span class="texatom" id="MathJax-Span-11206"><span class="mrow" id="MathJax-Span-11207"><span class="mo" id="MathJax-Span-11208" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-11209"><span style="display: inline-block; position: relative; width: 1.666em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11210" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.378em; left: 0.805em;"><span class="texatom" id="MathJax-Span-11211"><span class="mrow" id="MathJax-Span-11212"><span class="msubsup" id="MathJax-Span-11213"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-11214" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.451em;"><span class="mo" id="MathJax-Span-11215" style="font-size: 50%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-11216" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-11217" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.666em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11218" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.337em, 1000em, 4.179em, -0.493em); top: -4.378em; left: 0.805em;"><span class="texatom" id="MathJax-Span-11219"><span class="mrow" id="MathJax-Span-11220"><span class="msubsup" id="MathJax-Span-11221"><span style="display: inline-block; position: relative; width: 0.785em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-11222" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.451em;"><span class="mo" id="MathJax-Span-11223" style="font-size: 50%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(1.837em, 1000em, 2.622em, -0.53em); top: -2.061em; left: 0.655em;"><span class="mi" id="MathJax-Span-11224" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">μ</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-11225"><span class="mrow" id="MathJax-Span-11226"><span class="mo" id="MathJax-Span-11227" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-11228" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="mi" id="MathJax-Span-11229" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span><span class="mo" id="MathJax-Span-11230" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-11231" style="font-family: STIXGeneral-Italic;">ϵ</span><span class="mo" id="MathJax-Span-11232" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.528em; vertical-align: -0.498em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-399">|V^{\pi^*} - V_\mu^{\pi^*}| \le f(\epsilon)</script>. Let the known set of <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script> pairs be called <span class="MathJax" id="MathJax-Element-400-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11233" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.5em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11234"><span class="mi" id="MathJax-Span-11235" style="font-family: STIXGeneral-Italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-400">K</script>. The below result is known as the <strong>simulation lemma</strong>: If models are close, transition and reward model is close to the true transition and reward model, your empirical value function is also close to your true value.</p>
<p>i.e. you can propagate empirical predictive error to control error. If you have good predictive error, you can end up with small control error. The known state action pairs are a way to quantify what level you need to be 'good enough', depending on whatever epsilon you want.</p>
<p>Define <span class="MathJax" id="MathJax-Element-401-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11236" style="width: 1.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.248em, 1000em, 2.365em, -0.525em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-11237"><span class="msup" id="MathJax-Span-11238"><span style="display: inline-block; position: relative; width: 1.319em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11239" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.963em;"><span class="mo" id="MathJax-Span-11240" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.99em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-401">M'</script>: An MDP where its rewards and transition model (<span class="MathJax" id="MathJax-Element-402-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11241" style="width: 2.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.534em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.585em, 1000em, 2.844em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11242"><span class="msup" id="MathJax-Span-11243"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11244" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mo" id="MathJax-Span-11245" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11246" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-11247" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.105em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11248" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.749em;"><span class="mo" id="MathJax-Span-11249" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.147em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-402">R', T'</script> are</p>
<ul>
<li>equal the true reward and transition model <span class="MathJax" id="MathJax-Element-403-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11250" style="width: 1.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.844em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11251"><span class="mi" id="MathJax-Span-11252" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-11253" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-11254" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.006em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-403">R, T</script> on all (s,a) in the known set <span class="MathJax" id="MathJax-Element-400-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11233" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.5em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11234"><span class="mi" id="MathJax-Span-11235" style="font-family: STIXGeneral-Italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-400">K</script>.</li>
<li>equal the <span class="MathJax" id="MathJax-Element-404-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11255" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.127em, 1000em, 2.365em, -0.566em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-11256"><span class="texatom" id="MathJax-Span-11257"><span class="mrow" id="MathJax-Span-11258"><span class="munderover" id="MathJax-Span-11259"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11260" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.26em; left: 0.336em;"><span style="height: 0em; vertical-align: 0em; width: 0.395em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11261" style="font-family: STIXGeneral-Regular; margin-left: -0.395em;">̃&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.124em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-404">\tilde M</script> reward and transition model <span class="MathJax" id="MathJax-Element-405-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11262" style="width: 1.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.465em, 1000em, 2.844em, -0.757em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11263"><span class="texatom" id="MathJax-Span-11264"><span class="mrow" id="MathJax-Span-11265"><span class="munderover" id="MathJax-Span-11266"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11267" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.26em; left: 0.145em;"><span style="height: 0em; vertical-align: 0em; width: 0.395em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11268" style="font-family: STIXGeneral-Regular; margin-left: -0.395em;">̃&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-11269" style="font-family: STIXGeneral-Regular;">,</span><span class="texatom" id="MathJax-Span-11270" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-11271"><span class="munderover" id="MathJax-Span-11272"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11273" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.26em; left: 0.248em;"><span style="height: 0em; vertical-align: 0em; width: 0.395em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11274" style="font-family: STIXGeneral-Regular; margin-left: -0.395em;">̃&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.28em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-405">\tilde R, \tilde T</script> on all (s,a) not in the known set <span class="MathJax" id="MathJax-Element-400-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11233" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.5em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11234"><span class="mi" id="MathJax-Span-11235" style="font-family: STIXGeneral-Italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-400">K</script>.</li>
</ul>
<p>Define <span class="MathJax" id="MathJax-Element-406-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11275" style="width: 1.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.295em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.94em, 1000em, 2.365em, -0.547em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-11276"><span class="msup" id="MathJax-Span-11277"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(2.868em, 1000em, 4.167em, -0.547em); top: -3.998em; left: 0em;"><span class="texatom" id="MathJax-Span-11278"><span class="mrow" id="MathJax-Span-11279"><span class="munderover" id="MathJax-Span-11280"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11281" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.345em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11282" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; top: -2.996em; left: 0.901em;"><span class="mo" id="MathJax-Span-11283" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.332em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-406">\hat M'</script>: An MDP where its rewards and transition model (<span class="MathJax" id="MathJax-Element-407-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11284" style="width: 2.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.477em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.278em, 1000em, 2.844em, -0.739em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11285"><span class="msup" id="MathJax-Span-11286"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(2.868em, 1000em, 4.167em, -0.739em); top: -3.998em; left: 0em;"><span class="texatom" id="MathJax-Span-11287"><span class="mrow" id="MathJax-Span-11288"><span class="munderover" id="MathJax-Span-11289"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11290" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11291" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; top: -2.996em; left: 0.619em;"><span class="mo" id="MathJax-Span-11292" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-11293" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-11294" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.032em; height: 0px;"><span style="position: absolute; clip: rect(2.868em, 1000em, 4.167em, -0.635em); top: -3.998em; left: 0em;"><span class="texatom" id="MathJax-Span-11295"><span class="mrow" id="MathJax-Span-11296"><span class="munderover" id="MathJax-Span-11297"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11298" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11299" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; top: -2.996em; left: 0.676em;"><span class="mo" id="MathJax-Span-11300" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.488em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-407">\hat R', \hat T'</script> are</p>
<ul>
<li>equal the empirical reward and transition model <span class="MathJax" id="MathJax-Element-408-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11301" style="width: 1.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1000em, 2.844em, -0.739em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11302"><span class="texatom" id="MathJax-Span-11303"><span class="mrow" id="MathJax-Span-11304"><span class="munderover" id="MathJax-Span-11305"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11306" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11307" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-11308" style="font-family: STIXGeneral-Regular;">,</span><span class="texatom" id="MathJax-Span-11309" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-11310"><span class="munderover" id="MathJax-Span-11311"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11312" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11313" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.348em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-408">\hat R, \hat T</script> on all (s,a) in the known set <span class="MathJax" id="MathJax-Element-400-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11233" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.5em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11234"><span class="mi" id="MathJax-Span-11235" style="font-family: STIXGeneral-Italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-400">K</script>.</li>
<li>equal the <span class="MathJax" id="MathJax-Element-404-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11255" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.127em, 1000em, 2.365em, -0.566em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-11256"><span class="texatom" id="MathJax-Span-11257"><span class="mrow" id="MathJax-Span-11258"><span class="munderover" id="MathJax-Span-11259"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11260" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.26em; left: 0.336em;"><span style="height: 0em; vertical-align: 0em; width: 0.395em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11261" style="font-family: STIXGeneral-Regular; margin-left: -0.395em;">̃&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.124em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-404">\tilde M</script> reward and transition model <span class="MathJax" id="MathJax-Element-408-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11301" style="width: 1.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.404em, 1000em, 2.844em, -0.739em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11302"><span class="texatom" id="MathJax-Span-11303"><span class="mrow" id="MathJax-Span-11304"><span class="munderover" id="MathJax-Span-11305"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11306" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11307" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-11308" style="font-family: STIXGeneral-Regular;">,</span><span class="texatom" id="MathJax-Span-11309" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-11310"><span class="munderover" id="MathJax-Span-11311"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11312" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11313" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.348em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-408">\hat R, \hat T</script> on all (s,a) not in the known set <span class="MathJax" id="MathJax-Element-400-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11233" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.5em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-11234"><span class="mi" id="MathJax-Span-11235" style="font-family: STIXGeneral-Italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.055em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-400">K</script>.</li>
</ul>
<p>We can use these to define a series of inequalities that relate the values we get in our empirical policy and the values that we get in our optimal policy -&gt; we use these to prove accuracy.</p>
</li>
<li>
<p>Bounded Learning<br>
Use the pigeonhole principle to divide your stream of experiences into episodes, and consider the probabilty of reaching an known (s,a) pair in T steps. If this probability is small, we are near optimal on the known (s,a) pairs. If this probability is large, this can't happen too many times. Since we assumed for each unknown (s,a) pair, we only visit it <span class="MathJax" id="MathJax-Element-344-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9985" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.495em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9986"><span class="mi" id="MathJax-Span-9987" style="font-family: STIXGeneral-Italic;">m</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.625em; vertical-align: -0.072em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-344">m</script> times, so we will eventulaly run thorugh all of them, and by the pigeonhole principle, this probability will be bounded. (i.e. We will make a bounded number of bad decisions).</p>
</li>
</ol>
<p>(1) Suppose that in our algorithm, we only use the first <span class="MathJax" id="MathJax-Element-344-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-9985" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.495em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-9986"><span class="mi" id="MathJax-Span-9987" style="font-family: STIXGeneral-Italic;">m</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.625em; vertical-align: -0.072em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-344">m</script> samples of <span class="MathJax" id="MathJax-Element-346-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10001" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10002"><span class="mo" id="MathJax-Span-10003" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10004" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-10005" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10006" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-10007" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-346">(s,a)</script> to compute <span class="MathJax" id="MathJax-Element-409-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11314" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.066em, 1000em, 2.365em, -0.739em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-11315"><span class="texatom" id="MathJax-Span-11316"><span class="mrow" id="MathJax-Span-11317"><span class="munderover" id="MathJax-Span-11318"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11319" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.154em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11320" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.191em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-409">\hat R</script> and <span class="MathJax" id="MathJax-Element-410-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-11321" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.066em, 1000em, 2.365em, -0.635em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-11322"><span class="texatom" id="MathJax-Span-11323"><span class="mrow" id="MathJax-Span-11324"><span class="munderover" id="MathJax-Span-11325"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-11326" style="font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.257em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-11327" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.191em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-410">\hat T</script>, after that we throw away our data. We do this to make the high probability bound work. (Empirically and in other proofs you can remove this restriction but we use it to make the proof work).</p>
</div><div class="cell text-cell"><img src="resources/A066CFC9AE4965B89B20B871AA8A9F89.png" alt="Screenshot 2020-04-12 at 4.15.10 PM.png" width="675" height="505"><div><br></div><div><b>Appendix 3</b>: Exploration Bonus Improves Performane on Montezuma’s Revenge Significantly</div><div><img src="resources/DF56806ABF8B3DDA2DEE5DDD0AD48902.png" alt="Screenshot 2020-04-12 at 4.38.45 PM.png" width="543" height="404"><br></div></div></div>

    </body>
    </html>
  

    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="titlearea">
        <h2>CS234 - Lecture 1 - Reinforcement Learning (Intro) </h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><div><b>1.1 Intro: Reinforcement Learning</b><br></div><div>Uses: Robotics, games, healthcare, and also used as optimization technique for difficult problems</div><div>Core concepts in RL are: Optimization, Delayed Consequences, Exploration, Generalization.</div><div>A related problem, planning (inference time RL) requires: Optimization, Delayed Consequences, Generalization. Game Play is usually Planning (Go, Chess, etc)</div><div>In RL (vs the Planning Problem), the agent doesn’t know how the world works, so it must also interact with the world to implicitly/explicitly learn how the world works.</div><div>Imitation Learning: Optimization, Generalization, Delayed Consequences, but learning from an expert or experience of others. This reduces RL to supervised learning. Example: Andrew Ng flying a helicopter.</div><div><br></div><div><div><b>1.2 Key RL Problems:&nbsp;</b><br></div><div>Evaluation</div><div>&nbsp; - Estimate/predict the expected rewards from following a given policy</div><div>Control:</div><div>&nbsp; - Optimisation - find the best policy.</div></div><div><br></div><div><b>1.3&nbsp;</b><b>Markov Decision Processes</b></div><div>We generally model an RL agent as a <b>Markov desision process</b>. We assume the <b>Markov assumption</b>: The future is independent of past given present. Note that most real-life systems are not Markov, but we often represent it as Markov.</div><div>Types of MDPs</div><div>&nbsp;- The most simple MDP is&nbsp;<b>Bandits:</b>&nbsp;actions have no influence over next observations, no delayed rewards.<br></div><div>&nbsp;- Sometimes the model is a <b>partially observable Markov Decision Process</b>&nbsp;(POMDP), where the agent does not know everything about the world state, but instead manages its own state which consists of beliefs about the world state.</div><div>&nbsp;- Robotics and Controls applications typically assume <b>deterministic</b>&nbsp;transitions and reward.</div><div>&nbsp;- Web Advertising, medical applications, and many other domains assume <b>stochastic</b>&nbsp;transitions and reward.</div><div><div><b><br></b></div><div><b>1.4&nbsp;</b><b>Types of RL Agents</b></div><div>Model-based</div><div>&nbsp; - Have an explicit Model</div><div>&nbsp; - May or may not have policy and/or value function. If they don’t have one they compute it from the model.</div><div>Model-free</div><div>&nbsp; - Have an explicit value and/or policy function</div><div>&nbsp; - No model</div></div><div><br></div><div><br></div><div><img src="resources/921B8AEFC8CFC1AC7C24A3954B649E31.png" alt="Screenshot 2020-03-28 at 8.41.48 PM.png" width="613" height="456"><br></div><div><br></div><div>Notes: Machine Teaching - interesting idea</div><div><br></div><div></div></div><div class="cell markdown-cell"><h2>Midterm Review</h2>
<p>Topics:</p>
<ul>
<li>Planning, Policy Evaluation, Model Free Learning, Value Function Approximation, Imitation Learning, Policy Search</li>
<li>Planning - you know the rewards and dynamics, but still could be very complicated (ie. Go)</li>
<li>Learning - you don’t know the rewards and dynamics</li>
<li>A model is sufficient for generating a policy, but you don’t have to have a model to generate a policy.</li>
</ul>
<p>Bellman Backup Operator:<br>
</p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-469-Frame" style=""><nobr><span class="math" id="MathJax-Span-12767" style="width: 19.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.849em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(2.233em, 1000em, 5.713em, -0.431em); top: -4.223em; left: 0em;"><span class="mrow" id="MathJax-Span-12768"><span class="mi" id="MathJax-Span-12769" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-12770" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-12771" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-12772" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-12773" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="munderover" id="MathJax-Span-12774" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-12775" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.585em, -0.495em); top: -1.624em; left: 0.676em;"><span class="mi" id="MathJax-Span-12776" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mrow" id="MathJax-Span-12777" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-12778" style="vertical-align: 1.821em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.316em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -1.174em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.602em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.888em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mi" id="MathJax-Span-12779" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-12780" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-12781" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-12782" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-12783" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-12784" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-12785" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-12786" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-12787" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.52em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0.084em;"><span class="mo" id="MathJax-Span-12788" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.601em, 1000em, 2.597em, -0.495em); top: -1.107em; left: 0em;"><span class="texatom" id="MathJax-Span-12789"><span class="mrow" id="MathJax-Span-12790"><span class="msup" id="MathJax-Span-12791"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-12792" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-12793" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-12794" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-12795" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-12796" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">p</span><span class="mo" id="MathJax-Span-12797" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-12798"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12799" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-12800" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-12801"><span class="mrow" id="MathJax-Span-12802"><span class="mo" id="MathJax-Span-12803" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-12804" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-12805" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-12806" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-12807" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-12808" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-12809" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-12810"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12811" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-12812" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12813" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-12814" style="vertical-align: 1.821em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.316em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -1.174em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.602em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.888em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.223em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.612em; vertical-align: -1.528em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-469"> V(s) = \max_a \left[ R(s,a) + \gamma \sum_{s' \in S} p(s' | s,a) V(s') \right]</script><p></p>
<p>Model Based Control:</p>
<ul>
<li>Value iteration:
<ul>
<li>Compute optimal value if time horizon = k (if you were only able to make k decisions)</li>
<li>Increment k</li>
</ul>
</li>
<li>Policy Iteration:
<ul>
<li>Policy Evaluation and Policy Improvement</li>
<li>Compute infinite horizon value of a policy</li>
<li>Use to select another (better) policy</li>
<li>Closely related to Policy Gradient</li>
</ul>
</li>
<li>Note: Model-based refers to properties of an algorithm, that it only works in the tabular setting. Tabular setting refers to properties of the problem, that the full state-action transition matrix is specified.</li>
</ul>
<p>Value iteration does not depend on initial starting point because it converges to a single fixed point. Value iteration and policy iteration will obtain the same value, but the policy they output may be different if multiple policies have the same value. The number of iterations for policu iteration on a tabular MDP with |A| actions and |S| states is bounded above by <span class="MathJax" id="MathJax-Element-470-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-12815" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.484em, 1000em, 2.717em, -0.44em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-12816"><span class="texatom" id="MathJax-Span-12817"><span class="mrow" id="MathJax-Span-12818"><span class="mo" id="MathJax-Span-12819" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-12820" style="font-family: STIXGeneral-Italic;">A</span><span class="msubsup" id="MathJax-Span-12821"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.44em); top: -2.534em; left: 0em;"><span class="texatom" id="MathJax-Span-12822"><span class="mrow" id="MathJax-Span-12823"><span class="mo" id="MathJax-Span-12824" style="font-family: STIXGeneral-Regular;">|</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.712em; left: 0.225em;"><span class="texatom" id="MathJax-Span-12825"><span class="mrow" id="MathJax-Span-12826"><span class="texatom" id="MathJax-Span-12827"><span class="mrow" id="MathJax-Span-12828"><span class="mo" id="MathJax-Span-12829" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-12830" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="texatom" id="MathJax-Span-12831"><span class="mrow" id="MathJax-Span-12832"><span class="mo" id="MathJax-Span-12833" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">|</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.118em; vertical-align: -0.078em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-470">|A|^{|S|}</script>, becuase its guarenteed to be monotonically improving (so if you visit every policy once, you're done).</p>
<p>Model-Based Policy Evaluation (Dynamic Programming):</p>
<ul>
<li>In Dynamic Programming Policy Evaluationwe assume we know the state and transition model, and use make the update <span class="MathJax" id="MathJax-Element-471-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-12834" style="width: 16.328em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.696em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 3.001em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-12835"><span class="msubsup" id="MathJax-Span-12836"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12837" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12838"><span class="mrow" id="MathJax-Span-12839"><span class="mi" id="MathJax-Span-12840" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.754em, 1000em, 2.485em, -0.48em); top: -2.061em; left: 0.655em;"><span class="mi" id="MathJax-Span-12841" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12842" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-12843" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-12844" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-12845" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-12846" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.145em; height: 0px;"><span style="position: absolute; clip: rect(1.703em, 1000em, 2.703em, -0.437em); top: -2.534em; left: 0em;"><span class="texatom" id="MathJax-Span-12847"><span class="mrow" id="MathJax-Span-12848"><span class="mi" id="MathJax-Span-12849" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.676em;"><span class="texatom" id="MathJax-Span-12850"><span class="mrow" id="MathJax-Span-12851"><span class="mi" id="MathJax-Span-12852" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12853" style="font-family: STIXGeneral-Regular;">[</span><span class="msubsup" id="MathJax-Span-12854"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12855" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-12856" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12857" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-12858" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="msubsup" id="MathJax-Span-12859"><span style="display: inline-block; position: relative; width: 1.856em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12860" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12861"><span class="mrow" id="MathJax-Span-12862"><span class="mi" id="MathJax-Span-12863" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.485em, -0.472em); top: -2.018em; left: 0.655em;"><span class="texatom" id="MathJax-Span-12864"><span class="mrow" id="MathJax-Span-12865"><span class="mi" id="MathJax-Span-12866" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-12867" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-12868" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12869" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-12870"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12871" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-12872"><span class="mrow" id="MathJax-Span-12873"><span class="mi" id="MathJax-Span-12874" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-12875" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-12876" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12877" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-12878"><span class="mrow" id="MathJax-Span-12879"><span class="mo" id="MathJax-Span-12880" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-12881"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12882" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-12883" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12884" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-12885" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-12886" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.214em; vertical-align: -0.394em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-471">V_t^{\pi}(s) = \mathbb{E}_{\pi} [r_t + \gamma V_{i-1}^{\pi}(s_{t-1}) | s_t = s]</script>, bootstrapping future rewards with the current estimate <span class="MathJax" id="MathJax-Element-472-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-12887" style="width: 4.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.223em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 3.001em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-12888"><span class="msubsup" id="MathJax-Span-12889"><span style="display: inline-block; position: relative; width: 1.856em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12890" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12891"><span class="mrow" id="MathJax-Span-12892"><span class="mi" id="MathJax-Span-12893" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.485em, -0.472em); top: -2.018em; left: 0.655em;"><span class="texatom" id="MathJax-Span-12894"><span class="mrow" id="MathJax-Span-12895"><span class="mi" id="MathJax-Span-12896" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-12897" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-12898" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12899" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-12900"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12901" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-12902"><span class="mrow" id="MathJax-Span-12903"><span class="mi" id="MathJax-Span-12904" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-12905" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-12906" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12907" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.214em; vertical-align: -0.394em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-472">V_{i-1}^{\pi}(s_{t-1})</script>.</li>
</ul>
<p>Model-free Policy Evaluation:</p>
<ul>
<li>In MC we sample the return over many episodes to estimate the exectation (<span class="MathJax" id="MathJax-Element-473-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-12908" style="width: 14.328em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.894em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.88em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-12909"><span class="msubsup" id="MathJax-Span-12910"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12911" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12912"><span class="mrow" id="MathJax-Span-12913"><span class="mi" id="MathJax-Span-12914" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12915" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-12916" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-12917" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-12918" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-12919" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12920" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12921"><span class="mrow" id="MathJax-Span-12922"><span class="mi" id="MathJax-Span-12923" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12924" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-12925" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-12926" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-12927" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-12928" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">α</span><span class="mo" id="MathJax-Span-12929" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-12930"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.721em, -0.455em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12931" style="font-family: STIXGeneral-Italic;">G</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="texatom" id="MathJax-Span-12932"><span class="mrow" id="MathJax-Span-12933"><span class="mi" id="MathJax-Span-12934" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-12935" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12936" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-12937" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12938" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12939"><span class="mrow" id="MathJax-Span-12940"><span class="mi" id="MathJax-Span-12941" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12942" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-12943" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-12944" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.079em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-473">V^{\pi}(s) = V^{\pi}(s) + \alpha(G_{it} - V^{\pi}(s)</script>).</li>
<li>In TD learning, we sample and bootstap. We sample becuase we are using a single value estimate of <span class="MathJax" id="MathJax-Element-474-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-12945" style="width: 1.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.689em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.585em, 1000em, 2.544em, -0.491em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-12946"><span class="msubsup" id="MathJax-Span-12947"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12948" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-12949"><span class="mrow" id="MathJax-Span-12950"><span class="mi" id="MathJax-Span-12951" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-12952" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-12953" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.814em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-474">s_{t+1}</script>, and we bootstrap. (<span class="MathJax" id="MathJax-Element-475-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-12954" style="width: 21.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 19.313em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.944em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-12955"><span class="msubsup" id="MathJax-Span-12956"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12957" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12958"><span class="mrow" id="MathJax-Span-12959"><span class="mi" id="MathJax-Span-12960" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12961" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-12962"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12963" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-12964" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12965" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-12966" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-12967" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12968" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12969"><span class="mrow" id="MathJax-Span-12970"><span class="mi" id="MathJax-Span-12971" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12972" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-12973"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12974" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-12975" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12976" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-12977" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-12978" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">α</span><span class="mo" id="MathJax-Span-12979" style="font-family: STIXGeneral-Regular;">(</span><span class="mo" id="MathJax-Span-12980" style="font-family: STIXGeneral-Regular;">[</span><span class="msubsup" id="MathJax-Span-12981"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12982" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-12983" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-12984" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-12985" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="msubsup" id="MathJax-Span-12986"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-12987" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-12988"><span class="mrow" id="MathJax-Span-12989"><span class="mi" id="MathJax-Span-12990" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-12991"><span style="display: inline-block; position: relative; width: 1.539em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-12992" style="font-family: STIXGeneral-Regular;">(</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.096em; left: 0.338em;"><span class="texatom" id="MathJax-Span-12993"><span class="mrow" id="MathJax-Span-12994"><span class="mi" id="MathJax-Span-12995" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-12996" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-12997" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-12998" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-12999" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13000" style="font-family: STIXGeneral-Regular;">]</span><span class="mo" id="MathJax-Span-13001" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-13002" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13003" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="texatom" id="MathJax-Span-13004"><span class="mrow" id="MathJax-Span-13005"><span class="mi" id="MathJax-Span-13006" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13007" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13008"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13009" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13010" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13011" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.151em; vertical-align: -0.33em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-475">V^{\pi}(s_t) = V^{\pi}(s_t) + \alpha([r_t + \gamma V^{\pi}(_{t+1}s)] - V^{\pi}(s_t)</script>)</li>
<li>MC and TD are on-policy learning, since they make the update with respect to the action recommended by the policy. Q learning is off policy learning, since the update is taken with respect to the max action taken from the current state regarless of what the current policy recommends. In Q learning from the current state we always sample the best action, and then perform the TD learning update. <span class="MathJax" id="MathJax-Element-476-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13012" style="width: 34.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 31.25em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 3.065em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13013"><span class="mi" id="MathJax-Span-13014" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-13015" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13016" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13017" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13018" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13019" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13020" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-13021" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">(</span><span class="mn" id="MathJax-Span-13022" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-13023" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-13024" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">α</span><span class="mo" id="MathJax-Span-13025" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-13026" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-13027" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13028" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13029" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13030" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13031" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13032" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13033" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">α</span><span class="msubsup" id="MathJax-Span-13034"><span style="display: inline-block; position: relative; width: 2.384em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13035" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.091em; left: 0.732em;"><span class="texatom" id="MathJax-Span-13036"><span class="mrow" id="MathJax-Span-13037"><span class="mi" id="MathJax-Span-13038" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-13039" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-13040" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-13041" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13042" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13043" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13044" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13045" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13046" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13047" style="font-family: STIXGeneral-Regular;">;</span><span class="mspace" id="MathJax-Span-13048" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mspace" id="MathJax-Span-13049" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="msubsup" id="MathJax-Span-13050" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.384em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13051" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.091em; left: 0.732em;"><span class="texatom" id="MathJax-Span-13052"><span class="mrow" id="MathJax-Span-13053"><span class="mi" id="MathJax-Span-13054" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-13055" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-13056" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span class="mi" id="MathJax-Span-13057" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">p</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13058" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13059" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13060" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13061" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13062" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13063" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13064" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-13065" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13066" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13067" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.493em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-13068" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -3.803em; left: 1.745em;"><span class="texatom" id="MathJax-Span-13069"><span class="mrow" id="MathJax-Span-13070"><span class="msup" id="MathJax-Span-13071"><span style="display: inline-block; position: relative; width: 0.672em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.485em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13072" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.394em;"><span class="mo" id="MathJax-Span-13073" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mi" id="MathJax-Span-13074" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">Q</span><span class="mo" id="MathJax-Span-13075" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13076"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13077" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13078" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13079" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-13080" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13081" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.563em;"><span class="mo" id="MathJax-Span-13082" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13083" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.373em; vertical-align: -0.465em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-476">Q(s,a) = (1-\alpha)Q(s,a) + \alpha Q_{samp}(s,a); \;\; Q_{samp}(s,a) = r + \gamma \max_{a'}Q(s',a')</script>. In Q learning you can even use random action samples to estimate the optimal Q, learning will still proceed because we are using the max.</li>
</ul>
<p>Convergence Guarantees:</p>
<ul>
<li>In the tabular setting (full state action transition matrix given), MC, TD, and Q-learning all converge to the optimal policy.</li>
<li>In the non-tabular setting:
<ul>
<li>
<p>Def: MSVE is MSE of value function: <span class="MathJax" id="MathJax-Element-477-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13084" style="width: 20.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 18.074em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.987em, 1000em, 3.375em, -0.525em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13085"><span class="mi" id="MathJax-Span-13086" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="mi" id="MathJax-Span-13087" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mi" id="MathJax-Span-13088" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-13089" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-13090" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13091" style="font-family: STIXGeneral-Italic;">w</span><span class="mo" id="MathJax-Span-13092" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13093" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="munderover" id="MathJax-Span-13094" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 2.215em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-13095" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-13096"><span class="mrow" id="MathJax-Span-13097"><span class="mi" id="MathJax-Span-13098" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13099" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13100" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-13101" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mo" id="MathJax-Span-13102" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13103" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13104" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-13105"><span style="display: inline-block; position: relative; width: 8.634em; height: 0px;"><span style="position: absolute; clip: rect(2.15em, 1000em, 4.332em, -0.368em); top: -3.491em; left: 0em;"><span class="mrow" id="MathJax-Span-13106"><span class="mo" id="MathJax-Span-13107" style="vertical-align: -0.393em;"><span style="font-family: STIXSizeTwoSym;">(</span></span><span class="msubsup" id="MathJax-Span-13108"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13109" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mi" id="MathJax-Span-13110" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13111" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13112" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13113" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13114" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-13115" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(2.868em, 1000em, 4.185em, -0.607em); top: -3.998em; left: 0em;"><span class="texatom" id="MathJax-Span-13116"><span class="mrow" id="MathJax-Span-13117"><span class="munderover" id="MathJax-Span-13118"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13119" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.286em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-13120" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; top: -2.996em; left: 0.732em;"><span class="mi" id="MathJax-Span-13121" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13122" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13123" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13124" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13125" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">w</span><span class="mo" id="MathJax-Span-13126" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13127" style="vertical-align: -0.393em;"><span style="font-family: STIXSizeTwoSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 3.491em;"></span></span><span style="position: absolute; top: -3.208em; left: 8.164em;"><span class="mn" id="MathJax-Span-13128" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.4em; vertical-align: -0.809em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-477">MSVE(w) = \sum_{s \in S} d(s) \left( V^\pi(s) - \hat V^\pi(s,w)\right)^2</script></p>
</li>
<li>
<p>Monte Carlo with linear Value Function Approximation converges to min MSVE possible: <span class="MathJax" id="MathJax-Element-478-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13129" style="width: 24.203em; display: inline-block;"><span style="display: inline-block; position: relative; width: 21.791em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.987em, 1000em, 3.375em, -0.525em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13130"><span class="mi" id="MathJax-Span-13131" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="mi" id="MathJax-Span-13132" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mi" id="MathJax-Span-13133" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-13134" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-13135" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13136"><span style="display: inline-block; position: relative; width: 1.989em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.721em, -0.492em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13137" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="texatom" id="MathJax-Span-13138"><span class="mrow" id="MathJax-Span-13139"><span class="mi" id="MathJax-Span-13140" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mi" id="MathJax-Span-13141" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.016em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13142" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13143" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="munderover" id="MathJax-Span-13144" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 2.215em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.703em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-13145" style="font-family: STIXGeneral-Regular;">min</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 1.633em;"><span class="mi" id="MathJax-Span-13146" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="munderover" id="MathJax-Span-13147" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.215em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-13148" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-13149"><span class="mrow" id="MathJax-Span-13150"><span class="mi" id="MathJax-Span-13151" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13152" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13153" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-13154" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mo" id="MathJax-Span-13155" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13156" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13157" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-13158"><span style="display: inline-block; position: relative; width: 8.634em; height: 0px;"><span style="position: absolute; clip: rect(2.15em, 1000em, 4.332em, -0.368em); top: -3.491em; left: 0em;"><span class="mrow" id="MathJax-Span-13159"><span class="mo" id="MathJax-Span-13160" style="vertical-align: -0.393em;"><span style="font-family: STIXSizeTwoSym;">(</span></span><span class="msubsup" id="MathJax-Span-13161"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13162" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mi" id="MathJax-Span-13163" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13164" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13165" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13166" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13167" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-13168" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(2.868em, 1000em, 4.185em, -0.607em); top: -3.998em; left: 0em;"><span class="texatom" id="MathJax-Span-13169"><span class="mrow" id="MathJax-Span-13170"><span class="munderover" id="MathJax-Span-13171"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13172" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.286em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-13173" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; top: -2.996em; left: 0.732em;"><span class="mi" id="MathJax-Span-13174" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13175" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13176" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13177" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13178" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">w</span><span class="mo" id="MathJax-Span-13179" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13180" style="vertical-align: -0.393em;"><span style="font-family: STIXSizeTwoSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 3.491em;"></span></span><span style="position: absolute; top: -3.208em; left: 8.164em;"><span class="mn" id="MathJax-Span-13181" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.4em; vertical-align: -0.809em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-478">MSVE(w_{MC}) = \min_w \sum_{s \in S} d(s) \left( V^\pi(s) - \hat V^\pi(s,w)\right)^2</script>.</p>
</li>
<li>
<p>TD-learning with linear Value Function Approximation converges to <span class="MathJax" id="MathJax-Element-479-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13182" style="width: 2.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.477em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.242em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13183"><span class="mfrac" id="MathJax-Span-13184"><span style="display: inline-block; position: relative; width: 1.302em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-13185" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.623em, -0.428em); top: -1.915em; left: 50%; margin-left: -0.591em;"><span class="mrow" id="MathJax-Span-13186"><span class="mn" id="MathJax-Span-13187" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-13188" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-13189" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.02em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.302em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="mo" id="MathJax-Span-13190" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">×</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.715em; vertical-align: -0.661em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-479">\frac{1}{1-\gamma} \times</script> min MSE possible: <span class="MathJax" id="MathJax-Element-480-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13191" style="width: 25.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 23.367em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.987em, 1000em, 3.375em, -0.525em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13192"><span class="mi" id="MathJax-Span-13193" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="mi" id="MathJax-Span-13194" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mi" id="MathJax-Span-13195" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-13196" style="font-family: STIXGeneral-Italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-13197" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13198"><span style="display: inline-block; position: relative; width: 1.82em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.721em, -0.492em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13199" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="texatom" id="MathJax-Span-13200"><span class="mrow" id="MathJax-Span-13201"><span class="mi" id="MathJax-Span-13202" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span class="mi" id="MathJax-Span-13203" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">D</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13204" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13205" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-13206" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.302em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-13207" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.623em, -0.428em); top: -1.915em; left: 50%; margin-left: -0.591em;"><span class="mrow" id="MathJax-Span-13208"><span class="mn" id="MathJax-Span-13209" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-13210" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-13211" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.02em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 1.302em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-13212" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.215em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.703em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-13213" style="font-family: STIXGeneral-Regular;">min</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 1.633em;"><span class="mi" id="MathJax-Span-13214" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="munderover" id="MathJax-Span-13215" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.215em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-13216" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-13217"><span class="mrow" id="MathJax-Span-13218"><span class="mi" id="MathJax-Span-13219" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13220" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13221" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-13222" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mo" id="MathJax-Span-13223" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13224" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13225" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-13226"><span style="display: inline-block; position: relative; width: 8.634em; height: 0px;"><span style="position: absolute; clip: rect(2.15em, 1000em, 4.332em, -0.368em); top: -3.491em; left: 0em;"><span class="mrow" id="MathJax-Span-13227"><span class="mo" id="MathJax-Span-13228" style="vertical-align: -0.393em;"><span style="font-family: STIXSizeTwoSym;">(</span></span><span class="msubsup" id="MathJax-Span-13229"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13230" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mi" id="MathJax-Span-13231" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13232" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13233" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13234" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13235" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-13236" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(2.868em, 1000em, 4.185em, -0.607em); top: -3.998em; left: 0em;"><span class="texatom" id="MathJax-Span-13237"><span class="mrow" id="MathJax-Span-13238"><span class="munderover" id="MathJax-Span-13239"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13240" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.285em; left: 0.286em;"><span style="height: 0em; vertical-align: 0em; width: 0.386em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-13241" style="font-family: STIXGeneral-Regular; margin-left: -0.386em;">̂&nbsp;<span style="height: 0em; vertical-align: 0em; margin-left: -0.676em;"></span></span><span style="display: inline-block; overflow: hidden; height: 1px; width: 0em;"></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; top: -2.996em; left: 0.732em;"><span class="mi" id="MathJax-Span-13242" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13243" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13244" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13245" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13246" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">w</span><span class="mo" id="MathJax-Span-13247" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13248" style="vertical-align: -0.393em;"><span style="font-family: STIXSizeTwoSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 3.491em;"></span></span><span style="position: absolute; top: -3.208em; left: 8.164em;"><span class="mn" id="MathJax-Span-13249" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.4em; vertical-align: -0.809em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-480">MSVE(w_{TD}) = \frac{1}{1-\gamma} \min_w \sum_{s \in S} d(s) \left( V^\pi(s) - \hat V^\pi(s,w)\right)^2</script>.</p>
</li>
<li>
<p>Note that in the above, if you can exactly represent the value in the current space, the min MSVE is 0, for both MC and TD.</p>
</li>
<li>
<p>Q-learing with function approximation can diverge, even with infinte data. — This is off-policy learning, since you are training with the maximizer. Even if you can exactly specify the value function in your feature space, TD learning is guarenteed to find it eventually, but Q learning is not guarenteed to (since Q learning is something like greedy TD-learning).</p>
</li>
<li>
<p>Convergence to the optimal policy in MC and TD are guarenteed under GLIE (Greedy in the Limit of Infinite Exploration) conditions, that 1. all state-action pairs are visited an infinite number of times. 2. Behavorial policy converges to the greedy policy. A simple GLIE strategy is e-greedy where e is reduced to 0 eventually.</p>
</li>
<li>
<p>Convergerence to the optimal Q-value is guarenteed for SARSA if the output policy satisfies GLIE and the step sizes satisfy . Convergerence to the optimal Q-value is guarenteed for Q learning</p>
</li>
</ul>
</li>
</ul>
<p>Challenges in DQN: Local updates (s,a,r,s’) are highly correlated, thus ‘target’ (aproximation to true value of s’) can change quickly and lead to instabilities. Fixes:</p>
<ul>
<li>Experience replay</li>
<li>Fix target <span class="MathJax" id="MathJax-Element-481-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13250" style="width: 3.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.759em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13251"><span class="mi" id="MathJax-Span-13252" style="font-family: STIXGeneral-Italic;">Q</span><span class="mo" id="MathJax-Span-13253" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13254"><span style="display: inline-block; position: relative; width: 1.314em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.721em, -0.492em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13255" style="font-family: STIXGeneral-Italic;">w</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.732em;"><span class="mo" id="MathJax-Span-13256" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13257" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.077em; vertical-align: -0.265em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-481">Q(w^-)</script> for a number of steps, then update</li>
<li>Double Q</li>
<li>Prioritized replay</li>
<li>Dueling Q<br>
A lot of work has helped with staibility, still no guarentees on convergence (yet).</li>
</ul>
<p>Policy Gradient (aka REINFORCE)</p>
</div><div class="cell text-cell"><div><b>Examples:</b></div><div><img src="resources/13465170D59DE6004AE8D5606BEF3F03.png" alt="Screenshot 2020-04-11 at 11.02.31 AM.png" width="559" height="411"><b><br></b></div><div>1. 0.25,0.5, 0.75</div><div>2. 1 (B gets updated once and the future rewards recieved is 1)</div><div>3. (See below)</div><div>V(C) = 0 + a(1-0) = a</div><div>V(B) = 0 + a(0 + y * a - 0) = a^2</div><div>V(C) = a + a(0+ y * a^2 - a) = a + y * a^3 - a^2</div><div>Reversed</div><div>Only the last C gets updated to V(C) = a</div><img src="resources/9CB2EA5AC5C5414C329C154E5971DDDD.png" alt="Screenshot 2020-04-11 at 10.31.16 AM.png" width="623" height="467"><div><br><div><b>Also Recall:</b></div><div><img src="resources/D5486A6718CC3C3EC0C5E44082C687F1.png" alt="Screenshot 2020-04-11 at 10.58.40 AM.png" width="600" height="432"></div></div></div><div class="cell text-cell"><div><br></div><div><br></div></div></div>

    </body>
    </html>
  
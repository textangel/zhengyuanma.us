
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="titlearea">
        <h2>CS234 - Lecture 2 - Markov Processes</h2>
      </div>
      <div id="contentarea"><div class="cell markdown-cell"><h1>2.1 Types of Markov Processes</h1>
<p>Def: A state has the <strong>Markov property</strong> if and only if: <span class="MathJax" id="MathJax-Element-483-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13258" style="width: 12.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.599em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13259"><span class="mi" id="MathJax-Span-13260" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-13261" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13262"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13263" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-13264"><span class="mrow" id="MathJax-Span-13265"><span class="mi" id="MathJax-Span-13266" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-13267" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-13268" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13269"><span class="mrow" id="MathJax-Span-13270"><span class="mo" id="MathJax-Span-13271" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13272"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13273" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13274" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13275" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-13276" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13277" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-13278" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13279" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13280" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13281" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">p</span><span class="mo" id="MathJax-Span-13282" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13283"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13284" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-13285"><span class="mrow" id="MathJax-Span-13286"><span class="mi" id="MathJax-Span-13287" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-13288" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-13289" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13290"><span class="mrow" id="MathJax-Span-13291"><span class="mo" id="MathJax-Span-13292" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13293"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.712em, -0.488em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13294" style="font-family: STIXGeneral-Italic;">h</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="mi" id="MathJax-Span-13295" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13296" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-13297" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13298" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-13299" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13300" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.111em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-483">p(s_{t+1}|s_t,a_t) = p(s_{t+1}|h_t,a_t)</script></p>
<h2>Markov Processes</h2>
<p>Def: A <strong>Markov Process</strong> is a double <span class="MathJax" id="MathJax-Element-484-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13301" style="width: 2.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.252em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13302"><span class="mo" id="MathJax-Span-13303" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13304" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-13305" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13306" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-13307" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-484">(S,P)</script>, with a finite set <span class="MathJax" id="MathJax-Element-485-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13308" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13309"><span class="mi" id="MathJax-Span-13310" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.885em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-485">S</script> of states, and <span class="MathJax" id="MathJax-Element-486-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13311" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13312"><span class="mi" id="MathJax-Span-13313" style="font-family: STIXGeneral-Italic;">P</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-486">P</script>, a transition model specifying <span class="MathJax" id="MathJax-Element-487-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13314" style="width: 8.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.658em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13315"><span class="mi" id="MathJax-Span-13316" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-13317" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13318"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13319" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-13320"><span class="mrow" id="MathJax-Span-13321"><span class="mi" id="MathJax-Span-13322" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-13323" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-13324" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13325" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msup" id="MathJax-Span-13326" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13327" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13328" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13329"><span class="mrow" id="MathJax-Span-13330"><span class="mo" id="MathJax-Span-13331" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13332"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13333" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13334" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13335" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13336" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-13337" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.199em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-487">p(s_{t+1} = s' | s_t = s)</script><br>
If the state space is finite, P can be expressed as a matrix of transition probabilities.</p>
<h2>Markov Reward Process:</h2>
<p>Def: A <strong>Markov Reward Process</strong> is a quadruple <span class="MathJax" id="MathJax-Element-488-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13338" style="width: 4.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.223em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.909em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13339"><span class="mo" id="MathJax-Span-13340" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13341" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-13342" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13343" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-13344" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13345" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">R</span><span class="mo" id="MathJax-Span-13346" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13347" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mo" id="MathJax-Span-13348" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.104em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-488">(S,P,R, \gamma)</script>, with a finite set <span class="MathJax" id="MathJax-Element-485-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13308" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13309"><span class="mi" id="MathJax-Span-13310" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.885em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-485">S</script> of states, and <span class="MathJax" id="MathJax-Element-486-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13311" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13312"><span class="mi" id="MathJax-Span-13313" style="font-family: STIXGeneral-Italic;">P</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-486">P</script>, a transition model specifying <span class="MathJax" id="MathJax-Element-487-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13314" style="width: 8.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.658em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13315"><span class="mi" id="MathJax-Span-13316" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-13317" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13318"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13319" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-13320"><span class="mrow" id="MathJax-Span-13321"><span class="mi" id="MathJax-Span-13322" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-13323" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-13324" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13325" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msup" id="MathJax-Span-13326" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13327" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13328" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13329"><span class="mrow" id="MathJax-Span-13330"><span class="mo" id="MathJax-Span-13331" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13332"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13333" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13334" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13335" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13336" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-13337" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.199em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-487">p(s_{t+1} = s' | s_t = s)</script>, and <span class="MathJax" id="MathJax-Element-489-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13349" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13350"><span class="mi" id="MathJax-Span-13351" style="font-family: STIXGeneral-Italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-489">R</script>, a reward function <span class="MathJax" id="MathJax-Element-490-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13352" style="width: 10.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.797em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13353"><span class="mi" id="MathJax-Span-13354" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-13355" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13356"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13357" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13358" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13359" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13360" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-13361" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13362" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="texatom" id="MathJax-Span-13363" style="padding-left: 0.313em;"><span class="mrow" id="MathJax-Span-13364"><span class="mi" id="MathJax-Span-13365" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-13366" style="font-family: STIXGeneral-Regular;">[</span><span class="msubsup" id="MathJax-Span-13367"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13368" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-13369" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13370"><span class="mrow" id="MathJax-Span-13371"><span class="mo" id="MathJax-Span-13372" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13373"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13374" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13375" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13376" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13377" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-13378" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-490">R(s_t = s) = \mathbb{E}[r_t|s_t = s]</script>. Rewards are discounted by a discount factor <span class="MathJax" id="MathJax-Element-491-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13379" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.93em, 1000em, 2.909em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13380"><span class="mi" id="MathJax-Span-13381" style="font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.837em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-491">\gamma</script>.<br>
Def: The <strong>return</strong> is the discounted sum or rewards.<br>
Def: The <strong>value function</strong> of a state is the expected of the return of a state. You can estimate the value of a state by simulation.<br>
Def: The <strong>Bellman equation</strong> states that <span class="MathJax" id="MathJax-Element-492-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13382" style="width: 15.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.245em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 3.018em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13383"><span class="mi" id="MathJax-Span-13384" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13385" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13386" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13387" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13388" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13389" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">R</span><span class="mo" id="MathJax-Span-13390" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13391" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13392" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13393" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13394" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13395" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.552em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-13396" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-13397"><span class="mrow" id="MathJax-Span-13398"><span class="msup" id="MathJax-Span-13399"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13400" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-13401" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-13402" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13403" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-13404" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-13405" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13406"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13407" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13408" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13409"><span class="mrow" id="MathJax-Span-13410"><span class="mo" id="MathJax-Span-13411" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13412" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13413" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-13414" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13415" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13416"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13417" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13418" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13419" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.321em; vertical-align: -0.413em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-492">V(s) = R(s) + \gamma \sum_{s' \in S}P(s'|s)V(s')</script>. This is used for policy evaluation.</p>
<h2>Markov Decision Process (MDP):</h2>
<p>Def: A <strong>Markov Decision Process</strong> a tuple <span class="MathJax" id="MathJax-Element-493-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13420" style="width: 5.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.293em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.909em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13421"><span class="mo" id="MathJax-Span-13422" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13423" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-13424" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13425" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">A</span><span class="mo" id="MathJax-Span-13426" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13427" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">R</span><span class="mo" id="MathJax-Span-13428" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13429" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-13430" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13431" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mo" id="MathJax-Span-13432" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.104em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-493">(S,A,R,P,\gamma)</script> with finite set <span class="MathJax" id="MathJax-Element-485-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13308" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13309"><span class="mi" id="MathJax-Span-13310" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.885em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-485">S</script> of states, a finite set <span class="MathJax" id="MathJax-Element-494-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13433" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.703em, -0.558em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13434"><span class="mi" id="MathJax-Span-13435" style="font-family: STIXGeneral-Italic;">A</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.866em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-494">A</script> of actions, and <span class="MathJax" id="MathJax-Element-486-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13311" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.507em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13312"><span class="mi" id="MathJax-Span-13313" style="font-family: STIXGeneral-Italic;">P</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-486">P</script>, a transition model from each action and each state specifying <span class="MathJax" id="MathJax-Element-495-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13436" style="width: 12.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.811em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 2.908em, -0.582em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13437"><span class="mi" id="MathJax-Span-13438" style="font-family: STIXGeneral-Italic;">p</span><span class="mo" id="MathJax-Span-13439" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13440"><span style="display: inline-block; position: relative; width: 1.652em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13441" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-13442"><span class="mrow" id="MathJax-Span-13443"><span class="mi" id="MathJax-Span-13444" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-13445" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-13446" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13447" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msup" id="MathJax-Span-13448" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13449" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13450" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13451"><span class="mrow" id="MathJax-Span-13452"><span class="mo" id="MathJax-Span-13453" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13454"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13455" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13456" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13457" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13458" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-13459" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-13460" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13461" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-13462" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13463" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13464" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">a</span><span class="mo" id="MathJax-Span-13465" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.199em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-495">p(s_{t+1} = s' | s_t = s, a_t = a)</script>, and <span class="MathJax" id="MathJax-Element-489-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13349" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13350"><span class="mi" id="MathJax-Span-13351" style="font-family: STIXGeneral-Italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-489">R</script>, a reward function <span class="MathJax" id="MathJax-Element-496-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13466" style="width: 14.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.95em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.52em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13467"><span class="mi" id="MathJax-Span-13468" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-13469" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13470"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13471" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13472" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13473" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13474" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-13475" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-13476" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13477" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-13478" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13479" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13480" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">a</span><span class="mo" id="MathJax-Span-13481" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13482" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="texatom" id="MathJax-Span-13483" style="padding-left: 0.313em;"><span class="mrow" id="MathJax-Span-13484"><span class="mi" id="MathJax-Span-13485" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-13486" style="font-family: STIXGeneral-Regular;">[</span><span class="msubsup" id="MathJax-Span-13487"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13488" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-13489" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13490"><span class="mrow" id="MathJax-Span-13491"><span class="mo" id="MathJax-Span-13492" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13493"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13494" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13495" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13496" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13497" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-13498" style="font-family: STIXGeneral-Regular;">]</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-496">R(s_t = s, a_t = a) = \mathbb{E}[r_t|s_t = s]</script>. Rewards are discounted by a discount factor <span class="MathJax" id="MathJax-Element-491-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13379" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.93em, 1000em, 2.909em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13380"><span class="mi" id="MathJax-Span-13381" style="font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.837em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-491">\gamma</script>.</p>
<p>Def: A MDP <strong>policy</strong> is a conditional distribution over actions <span class="MathJax" id="MathJax-Element-497-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13499" style="width: 11.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.304em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13500"><span class="mi" id="MathJax-Span-13501" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-13502" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13503" style="font-family: STIXGeneral-Italic;">a</span><span class="texatom" id="MathJax-Span-13504"><span class="mrow" id="MathJax-Span-13505"><span class="mo" id="MathJax-Span-13506" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13507" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13508" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13509" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13510" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">P</span><span class="mo" id="MathJax-Span-13511" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13512"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13513" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-13514" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13515" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13516" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">a</span><span class="texatom" id="MathJax-Span-13517"><span class="mrow" id="MathJax-Span-13518"><span class="mo" id="MathJax-Span-13519" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13520"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13521" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13522" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13523" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13524" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">s</span><span class="mo" id="MathJax-Span-13525" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-497">\pi(a|s) = P(a_t=a|s_t=s)</script> specifying what action to take in each state. Note that an MDP + a policy <span class="MathJax" id="MathJax-Element-498-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13526" style="width: 2.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.365em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13527"><span class="mi" id="MathJax-Span-13528" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-13529" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13530" style="font-family: STIXGeneral-Italic;">a</span><span class="texatom" id="MathJax-Span-13531"><span class="mrow" id="MathJax-Span-13532"><span class="mo" id="MathJax-Span-13533" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13534" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13535" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-498">\pi(a|s)</script> is simply a Markov Reward Process.</p>
<ul>
<li>Def: <strong>stationary</strong> policies only depend on the current state, that is, we can parameterize it <span class="MathJax" id="MathJax-Element-498-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13526" style="width: 2.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.365em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13527"><span class="mi" id="MathJax-Span-13528" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-13529" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13530" style="font-family: STIXGeneral-Italic;">a</span><span class="texatom" id="MathJax-Span-13531"><span class="mrow" id="MathJax-Span-13532"><span class="mo" id="MathJax-Span-13533" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13534" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13535" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-498">\pi(a|s)</script>.</li>
<li>Def: <strong>nonstationary</strong> policies depend on the timestep as well as the current state. We just parameterize it <span class="MathJax" id="MathJax-Element-499-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13536" style="width: 4.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.829em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13537"><span class="mi" id="MathJax-Span-13538" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span class="mo" id="MathJax-Span-13539" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13540"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13541" style="font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.563em;"><span class="mi" id="MathJax-Span-13542" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13543"><span class="mrow" id="MathJax-Span-13544"><span class="mo" id="MathJax-Span-13545" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-13546"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13547" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-13548" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13549" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13550" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.018em;"></span></span><span class="mo" id="MathJax-Span-13551" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-499">\pi(a_t|s_t, t)</script></li>
</ul>
<p>Def: The <strong>Q-value</strong> of a policy <span class="MathJax" id="MathJax-Element-500-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13552" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.721em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13553"><span class="mi" id="MathJax-Span-13554" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.62em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-500">\pi</script> given state <span class="MathJax" id="MathJax-Element-501-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13555" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13556"><span class="mi" id="MathJax-Span-13557" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.63em; vertical-align: -0.077em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-501">s</script> and action <span class="MathJax" id="MathJax-Element-502-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13558" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13559"><span class="mi" id="MathJax-Span-13560" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-502">a</script> is the value of the policy applied after folloing action <span class="MathJax" id="MathJax-Element-502-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13558" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13559"><span class="mi" id="MathJax-Span-13560" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-502">a</script> from state <span class="MathJax" id="MathJax-Element-501-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13555" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13556"><span class="mi" id="MathJax-Span-13557" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.63em; vertical-align: -0.077em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-501">s</script>: <span class="MathJax" id="MathJax-Element-503-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13561" style="width: 19.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.23em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 3.018em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13562"><span class="msubsup" id="MathJax-Span-13563"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13564" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.702em; left: 0.732em;"><span class="mi" id="MathJax-Span-13565" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13566" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13567" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13568" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13569" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13570" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13571" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13572" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">R</span><span class="mo" id="MathJax-Span-13573" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13574" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13575" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13576" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13577" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13578" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13579" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13580" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.552em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-13581" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-13582"><span class="mrow" id="MathJax-Span-13583"><span class="msup" id="MathJax-Span-13584"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13585" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-13586" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-13587" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13588" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-13589" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-13590" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13591"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13592" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13593" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13594"><span class="mrow" id="MathJax-Span-13595"><span class="mo" id="MathJax-Span-13596" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13597" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13598" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-13599"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13600" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mi" id="MathJax-Span-13601" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13602" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13603"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13604" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13605" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13606" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.321em; vertical-align: -0.413em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-503">Q^\pi(s,a) = R(s,a) + \gamma \sum_{s' \in S} P(s'|s)V^\pi(s')</script>.</p>
<h3>Operators:</h3>
<p>Def: The <strong>Bellman backup operator</strong> <span class="MathJax" id="MathJax-Element-504-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13607" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13608"><span class="mi" id="MathJax-Span-13609" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-504">B</script> is an operator using the Bellman equation applied to the value function to improve its value over all states <span class="MathJax" id="MathJax-Element-501-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13555" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13556"><span class="mi" id="MathJax-Span-13557" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.63em; vertical-align: -0.077em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-501">s</script> (note the max, and note that <span class="MathJax" id="MathJax-Element-505-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13610" style="width: 2.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.421em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13611"><span class="mi" id="MathJax-Span-13612" style="font-family: STIXGeneral-Italic;">B</span><span class="mi" id="MathJax-Span-13613" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13614" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13615" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13616" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-505">BV(s)</script> is not a function but the operator <span class="MathJax" id="MathJax-Element-504-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13607" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13608"><span class="mi" id="MathJax-Span-13609" style="font-family: STIXGeneral-Italic;">B</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-504">B</script> applied to the function <span class="MathJax" id="MathJax-Element-506-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13617" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13618"><span class="mi" id="MathJax-Span-13619" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13620" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13621" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13622" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-506">V(s)</script>).<br>
</p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-507-Frame" style=""><nobr><span class="math" id="MathJax-Span-13623" style="width: 20.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 18.75em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(2.233em, 1000em, 5.713em, -0.515em); top: -4.223em; left: 0em;"><span class="mrow" id="MathJax-Span-13624"><span class="mi" id="MathJax-Span-13625" style="font-family: STIXGeneral-Italic;">B</span><span class="mspace" id="MathJax-Span-13626" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-13627" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13628" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13629" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13630" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13631" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="munderover" id="MathJax-Span-13632" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-13633" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.585em, -0.495em); top: -1.624em; left: 0.676em;"><span class="mi" id="MathJax-Span-13634" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mrow" id="MathJax-Span-13635" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-13636" style="vertical-align: 1.821em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.316em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -1.174em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.602em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.888em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mi" id="MathJax-Span-13637" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-13638" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13639" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13640" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13641" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13642" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13643" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13644" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13645" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.52em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0.084em;"><span class="mo" id="MathJax-Span-13646" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.601em, 1000em, 2.597em, -0.495em); top: -1.107em; left: 0em;"><span class="texatom" id="MathJax-Span-13647"><span class="mrow" id="MathJax-Span-13648"><span class="msup" id="MathJax-Span-13649"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13650" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-13651" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-13652" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13653" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-13654" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">p</span><span class="mo" id="MathJax-Span-13655" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13656"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13657" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-13658" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13659"><span class="mrow" id="MathJax-Span-13660"><span class="mo" id="MathJax-Span-13661" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13662" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13663" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13664" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13665" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-13666" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13667" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13668"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13669" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-13670" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13671" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13672" style="vertical-align: 1.821em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.316em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -1.174em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.602em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.888em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.223em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.612em; vertical-align: -1.528em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-507">B \; V(s) = \max_a \left[ R(s,a) + \gamma \sum_{s' \in S} p(s' | s,a) V(s') \right]</script><p></p>
<p>Given a particular policy <span class="MathJax" id="MathJax-Element-500-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13552" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.721em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13553"><span class="mi" id="MathJax-Span-13554" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.62em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-500">\pi</script>, the Bellman backup operator <span class="MathJax" id="MathJax-Element-508-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13673" style="width: 1.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.126em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.344em, 1000em, 2.365em, -0.515em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-13674"><span class="msubsup" id="MathJax-Span-13675"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13676" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13677" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.883em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-508">B^\pi</script> is defined as:<br>
</p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-509-Frame" style=""><nobr><span class="math" id="MathJax-Span-13678" style="width: 16.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.146em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.39em, 1000em, 4.023em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13679"><span class="msubsup" id="MathJax-Span-13680"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13681" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.619em;"><span class="mi" id="MathJax-Span-13682" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mspace" id="MathJax-Span-13683" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-13684" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13685" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13686" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13687" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13688" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-13689" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13690" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.619em;"><span class="mi" id="MathJax-Span-13691" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13692" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13693" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13694" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13695" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13696" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13697" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.52em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0.084em;"><span class="mo" id="MathJax-Span-13698" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.601em, 1000em, 2.597em, -0.495em); top: -1.107em; left: 0em;"><span class="texatom" id="MathJax-Span-13699"><span class="mrow" id="MathJax-Span-13700"><span class="msup" id="MathJax-Span-13701"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13702" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-13703" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-13704" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13705" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13706" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.507em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13707" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.619em;"><span class="mi" id="MathJax-Span-13708" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13709" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13710"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13711" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-13712" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13713"><span class="mrow" id="MathJax-Span-13714"><span class="mo" id="MathJax-Span-13715" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13716" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13717" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-13718" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13719" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13720" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13721" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.673em; vertical-align: -1.528em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-509">B^\pi \; V(s) = R^\pi(s) + \gamma \sum_{s' \in S}P^\pi (s' | s) V(s)</script><p></p>
<p>To evaluate the value of a policy <span class="MathJax" id="MathJax-Element-500-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13552" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.721em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13553"><span class="mi" id="MathJax-Span-13554" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.62em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-500">\pi</script>, we can essentially just run <span class="MathJax" id="MathJax-Element-510-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13722" style="width: 7.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.813em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.863em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13723"><span class="msubsup" id="MathJax-Span-13724"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13725" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13726" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13727"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13728" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13729" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13730"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13731" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13732" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13733" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">⋯</span><span class="msubsup" id="MathJax-Span-13734" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13735" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13736" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13737"><span style="display: inline-block; position: relative; width: 1.124em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13738" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="mn" id="MathJax-Span-13739" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.06em; vertical-align: -0.24em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-510">B^\pi B^\pi B^\pi \cdots B^\pi V_0</script> - that is, finding a fixed point of <span class="MathJax" id="MathJax-Element-508-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13673" style="width: 1.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.126em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.344em, 1000em, 2.365em, -0.515em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-13674"><span class="msubsup" id="MathJax-Span-13675"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13676" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13677" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.883em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-508">B^\pi</script>.</p>
<p>Def: <strong>Contracton operator</strong>: Let <span class="MathJax" id="MathJax-Element-511-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13740" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.447em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13741"><span class="mi" id="MathJax-Span-13742" style="font-family: STIXGeneral-Italic;">O</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.885em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-511">O</script> be an operator and let <span class="MathJax" id="MathJax-Element-512-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13743" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.44em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13744"><span class="texatom" id="MathJax-Span-13745"><span class="mrow" id="MathJax-Span-13746"><span class="mo" id="MathJax-Span-13747" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13748" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="texatom" id="MathJax-Span-13749"><span class="mrow" id="MathJax-Span-13750"><span class="mo" id="MathJax-Span-13751" style="font-family: STIXGeneral-Regular;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.891em; vertical-align: -0.078em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-512">|x|</script> be any norm of <span class="MathJax" id="MathJax-Element-513-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13752" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.534em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13753"><span class="mi" id="MathJax-Span-13754" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-513">x</script>.<br>
If for some functions <span class="MathJax" id="MathJax-Element-514-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13755" style="width: 2.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.309em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.585em, 1000em, 2.844em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13756"><span class="mi" id="MathJax-Span-13757" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13758" style="font-family: STIXGeneral-Regular;">,</span><span class="msup" id="MathJax-Span-13759" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.162em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13760" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-13761" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.147em; vertical-align: -0.219em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-514">V,V'</script>, we have <span class="MathJax" id="MathJax-Element-515-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13762" style="width: 10.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.741em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.585em, 1000em, 2.806em, -0.44em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13763"><span class="texatom" id="MathJax-Span-13764"><span class="mrow" id="MathJax-Span-13765"><span class="mo" id="MathJax-Span-13766" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13767" style="font-family: STIXGeneral-Italic;">O</span><span class="mi" id="MathJax-Span-13768" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13769" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-13770" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">O</span><span class="msup" id="MathJax-Span-13771"><span style="display: inline-block; position: relative; width: 1.162em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13772" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-13773" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13774"><span class="mrow" id="MathJax-Span-13775"><span class="mo" id="MathJax-Span-13776" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-13777" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">≤</span><span class="texatom" id="MathJax-Span-13778" style="padding-left: 0.313em;"><span class="mrow" id="MathJax-Span-13779"><span class="mo" id="MathJax-Span-13780" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13781" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13782" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msup" id="MathJax-Span-13783" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.162em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13784" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-13785" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13786"><span class="mrow" id="MathJax-Span-13787"><span class="mo" id="MathJax-Span-13788" style="font-family: STIXGeneral-Regular;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.105em; vertical-align: -0.177em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-515">|OV - OV'| \le |V - V'|</script>, then <span class="MathJax" id="MathJax-Element-511-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13740" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.447em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13741"><span class="mi" id="MathJax-Span-13742" style="font-family: STIXGeneral-Italic;">O</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.885em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-511">O</script> is a contraction operator.</p>
<h1>2.2 Model-Based MDP Problems</h1>
<h2>Policy Evaluation (Computing the Value of a Given Policy):</h2>
<p>Def: Policy Evaluation is computing the value of a given policy for every state. There are two model-based approaches to policy  evaluation.</p>
<ul>
<li>Analytic Solution (Model Based): Recall the Bellman Equation states <span class="MathJax" id="MathJax-Element-492-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13382" style="width: 15.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.245em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 3.018em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13383"><span class="mi" id="MathJax-Span-13384" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13385" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13386" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13387" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13388" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13389" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">R</span><span class="mo" id="MathJax-Span-13390" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13391" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13392" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13393" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13394" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13395" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.552em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-13396" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-13397"><span class="mrow" id="MathJax-Span-13398"><span class="msup" id="MathJax-Span-13399"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13400" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-13401" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-13402" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13403" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-13404" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-13405" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13406"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13407" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13408" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13409"><span class="mrow" id="MathJax-Span-13410"><span class="mo" id="MathJax-Span-13411" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13412" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13413" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-13414" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13415" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13416"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13417" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13418" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13419" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.321em; vertical-align: -0.413em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-492">V(s) = R(s) + \gamma \sum_{s' \in S}P(s'|s)V(s')</script>. For finite MDP with state space size <span class="MathJax" id="MathJax-Element-516-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13789" style="width: 0.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.788em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13790"><span class="mi" id="MathJax-Span-13791" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.866em; vertical-align: -0.079em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-516">N</script>, this is expressed in matrix form as <span class="MathJax" id="MathJax-Element-517-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13792" style="width: 17.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.372em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.484em, 1000em, 2.909em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13793"><span class="mi" id="MathJax-Span-13794" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13795" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13796" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">R</span><span class="mo" id="MathJax-Span-13797" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13798" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mi" id="MathJax-Span-13799" style="font-family: STIXGeneral-Italic;">P</span><span class="mi" id="MathJax-Span-13800" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mspace" id="MathJax-Span-13801" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-13802" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">⟹</span><span class="mspace" id="MathJax-Span-13803" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-13804" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13805" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-13806" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">(</span><span class="mi" id="MathJax-Span-13807" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mo" id="MathJax-Span-13808" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-13809" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mi" id="MathJax-Span-13810" style="font-family: STIXGeneral-Italic;">P</span><span class="msubsup" id="MathJax-Span-13811"><span style="display: inline-block; position: relative; width: 1.314em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.478em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-13812" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.712em; left: 0.338em;"><span class="texatom" id="MathJax-Span-13813"><span class="mrow" id="MathJax-Span-13814"><span class="mo" id="MathJax-Span-13815" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-13816" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-13817" style="font-family: STIXGeneral-Italic;">R</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.332em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-517">V = R + \gamma PV \implies V = (I-\gamma P)^{-1}R</script>. Solving analytically takes <span class="MathJax" id="MathJax-Element-518-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13818" style="width: 3.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.759em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.507em, 1000em, 2.88em, -0.447em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13819"><span class="mi" id="MathJax-Span-13820" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-13821" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13822"><span style="display: inline-block; position: relative; width: 1.325em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13823" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.856em;"><span class="mn" id="MathJax-Span-13824" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">3</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13825" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.274em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-518">O(N^3)</script> time.</li>
<li>Iterative Solution using DP (Model Based):
<ul>
<li>Run <span class="MathJax" id="MathJax-Element-510-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13722" style="width: 7.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.813em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.863em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13723"><span class="msubsup" id="MathJax-Span-13724"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13725" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13726" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13727"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13728" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13729" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13730"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13731" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13732" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13733" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">⋯</span><span class="msubsup" id="MathJax-Span-13734" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13735" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13736" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13737"><span style="display: inline-block; position: relative; width: 1.124em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13738" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="mn" id="MathJax-Span-13739" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.06em; vertical-align: -0.24em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-510">B^\pi B^\pi B^\pi \cdots B^\pi V_0</script>, that is, finding a fixed point of <span class="MathJax" id="MathJax-Element-508-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13673" style="width: 1.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.126em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.344em, 1000em, 2.365em, -0.515em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-13674"><span class="msubsup" id="MathJax-Span-13675"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13676" style="font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13677" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.883em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-508">B^\pi</script>:<br>
For k=1... until convergence:<br>
...For s in S:<br>
......<span class="MathJax" id="MathJax-Element-519-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13826" style="width: 18.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 16.836em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 3.018em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13827"><span class="msubsup" id="MathJax-Span-13828"><span style="display: inline-block; position: relative; width: 1.068em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13829" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="mi" id="MathJax-Span-13830" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13831" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13832" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13833" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13834" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-13835" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13836" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13837" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13838" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13839" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13840" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13841" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13842" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13843" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.552em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-13844" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-13845"><span class="mrow" id="MathJax-Span-13846"><span class="msup" id="MathJax-Span-13847"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13848" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-13849" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-13850" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13851" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13852" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.089em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.507em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13853" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.619em;"><span class="mi" id="MathJax-Span-13854" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13855" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13856"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13857" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13858" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13859"><span class="mrow" id="MathJax-Span-13860"><span class="mo" id="MathJax-Span-13861" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13862" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13863" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-13864"><span style="display: inline-block; position: relative; width: 1.969em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13865" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="texatom" id="MathJax-Span-13866"><span class="mrow" id="MathJax-Span-13867"><span class="mi" id="MathJax-Span-13868" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span class="mo" id="MathJax-Span-13869" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-13870" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13871" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13872"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13873" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13874" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13875" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.321em; vertical-align: -0.413em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-519">V_k(s) = R^\pi(s) + \gamma \sum_{s' \in S} P^\pi(s'|s)V_{k-1}(s')</script><br>
(Computational Complexity <span class="MathJax" id="MathJax-Element-520-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13876" style="width: 3.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.759em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.507em, 1000em, 2.88em, -0.447em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13877"><span class="mi" id="MathJax-Span-13878" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-13879" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-13880"><span style="display: inline-block; position: relative; width: 1.325em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13881" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.856em;"><span class="mn" id="MathJax-Span-13882" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13883" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.274em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-520">O(N^2)</script>.)</li>
</ul>
</li>
</ul>
<p>(See Lecture 3 for Exposition of Model Free Policy Evaluation)</p>
<ul>
<li>Simulation Solution (<em>Model Free</em>)- One can also solve for the value function by simulating different outcomes from a given state taking a particular policy.</li>
</ul>
<h2>The MDP Control Problem (Computing the optimal policy)</h2>
<p>Def: The <strong>MDP control problem</strong> is the computation of the optimal policy: <span class="MathJax" id="MathJax-Element-521-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13884" style="width: 10.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.234em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.669em, 1000em, 2.921em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13885"><span class="msubsup" id="MathJax-Span-13886"><span style="display: inline-block; position: relative; width: 1.092em; height: 0px;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.721em, -0.488em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13887" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.623em;"><span class="mo" id="MathJax-Span-13888" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13889" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13890" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13891" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13892" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13893" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">arg</span><span class="mo" id="MathJax-Span-13894"></span><span class="mo" id="MathJax-Span-13895" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">max</span><span class="msubsup" id="MathJax-Span-13896" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13897" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mi" id="MathJax-Span-13898" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13899" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13900" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13901" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.139em; vertical-align: -0.304em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-521">\pi^*(s) = \arg \max V^\pi(s)</script>.<br>
There always exists a unique optimal value function and one or more optimal policies that achieve that function. The optimal policies for a MDP in an infinite horizon problem is deterministic (not stochastic) and independent of time step (stationary).</p>
<ul>
<li>We often find the optimal policy through <strong>Policy iteration</strong>, which updates a policy by changing the next action to be the maximizer of the value given we follow the old policy for all future actions. Its not immediately intuitive why this should lead to the optimal policy, but it does. (Proof in Appendix 1). Policy iteration is equivalent to iterating <strong>policy evaluation</strong> to upate the value of the current policy, then  <strong>policy imporvemnt</strong> to generate the next policy given the current policy.
<ul>
<li>Loop Until Converenge:
<ul>
<li><strong>Policy Evaluation</strong>:
<ul>
<li>Compute the value of the current policy <span class="MathJax" id="MathJax-Element-522-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13902" style="width: 19.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.455em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.602em, 1000em, 3.018em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13903"><span class="msubsup" id="MathJax-Span-13904"><span style="display: inline-block; position: relative; width: 1.323em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13905" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -3.848em; left: 0.655em;"><span class="texatom" id="MathJax-Span-13906"><span class="mrow" id="MathJax-Span-13907"><span class="msubsup" id="MathJax-Span-13908"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13909" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-13910" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-13911" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13912" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13913" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13914" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-13915" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.288em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.52em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13916" style="font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.378em; left: 0.619em;"><span class="texatom" id="MathJax-Span-13917"><span class="mrow" id="MathJax-Span-13918"><span class="msubsup" id="MathJax-Span-13919"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13920" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-13921" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-13922" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13923" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13924" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13925" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13926" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13927" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.552em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-13928" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-13929"><span class="mrow" id="MathJax-Span-13930"><span class="msup" id="MathJax-Span-13931"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13932" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-13933" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-13934" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13935" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-13936" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.288em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.507em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13937" style="font-family: STIXGeneral-Italic;">P</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.378em; left: 0.619em;"><span class="texatom" id="MathJax-Span-13938"><span class="mrow" id="MathJax-Span-13939"><span class="msubsup" id="MathJax-Span-13940"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13941" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-13942" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-13943" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13944"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13945" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13946" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-13947"><span class="mrow" id="MathJax-Span-13948"><span class="mo" id="MathJax-Span-13949" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-13950" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13951" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-13952"><span style="display: inline-block; position: relative; width: 1.943em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13953" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -3.848em; left: 0.655em;"><span class="texatom" id="MathJax-Span-13954"><span class="mrow" id="MathJax-Span-13955"><span class="msubsup" id="MathJax-Span-13956"><span style="display: inline-block; position: relative; width: 1.213em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13957" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="texatom" id="MathJax-Span-13958"><span class="mrow" id="MathJax-Span-13959"><span class="mi" id="MathJax-Span-13960" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-13961" style="font-size: 50%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-13962" style="font-size: 50%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-13963" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-13964"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13965" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.45em;"><span class="mo" id="MathJax-Span-13966" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-13967" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.321em; vertical-align: -0.413em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-522">V_{\pi_i}(s) = R^{\pi_i}(s) + \gamma \sum_{s' \in S} P^{\pi_i}(s'|s)V_{\pi_{i-1}}(s')</script></li>
</ul>
</li>
<li><strong>Policy Improvement:</strong>
<ul>
<li>For s in S and a in A, compute:<br>
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-523-Frame" style=""><nobr><span class="math" id="MathJax-Span-13968" style="width: 19.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 17.511em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.39em, 1000em, 4.023em, -0.448em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13969"><span class="msubsup" id="MathJax-Span-13970"><span style="display: inline-block; position: relative; width: 1.4em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-13971" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.411em; left: 0.732em;"><span class="texatom" id="MathJax-Span-13972"><span class="mrow" id="MathJax-Span-13973"><span class="msubsup" id="MathJax-Span-13974"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13975" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-13976" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-13977" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13978" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13979" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13980" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13981" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13982" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-13983" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">R</span><span class="mo" id="MathJax-Span-13984" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13985" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13986" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-13987" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-13988" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-13989" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-13990" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-13991" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.52em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0.084em;"><span class="mo" id="MathJax-Span-13992" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.601em, 1000em, 2.597em, -0.495em); top: -1.107em; left: 0em;"><span class="texatom" id="MathJax-Span-13993"><span class="mrow" id="MathJax-Span-13994"><span class="msup" id="MathJax-Span-13995"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-13996" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-13997" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-13998" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-13999" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-14000" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-14001" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-14002"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14003" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-14004" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-14005"><span class="mrow" id="MathJax-Span-14006"><span class="mo" id="MathJax-Span-14007" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-14008" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-14009" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-14010" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-14011" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-14012"><span style="display: inline-block; position: relative; width: 1.474em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14013" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.411em; left: 0.805em;"><span class="texatom" id="MathJax-Span-14014"><span class="mrow" id="MathJax-Span-14015"><span class="msubsup" id="MathJax-Span-14016"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-14017" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-14018" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-14019" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-14020"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14021" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-14022" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-14023" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.673em; vertical-align: -1.528em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-523">Q^{\pi_i}(s,a) = R(s,a) + \gamma \sum_{s' \in S} P(s'|s,a) V^{\pi_i}(s')</script></li>
<li>Compute new policy <span class="MathJax" id="MathJax-Element-524-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-14024" style="width: 1.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.599em, 1000em, 2.544em, -0.488em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-14025"><span class="msubsup" id="MathJax-Span-14026"><span style="display: inline-block; position: relative; width: 1.732em; height: 0px;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.721em, -0.488em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14027" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.531em;"><span class="texatom" id="MathJax-Span-14028"><span class="mrow" id="MathJax-Span-14029"><span class="mi" id="MathJax-Span-14030" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-14031" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-14032" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.799em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-524">\pi_{i+1}</script> for all <span class="MathJax" id="MathJax-Element-525-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-14033" style="width: 2.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.252em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.73em, -0.491em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-14034"><span class="mi" id="MathJax-Span-14035" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-14036" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-14037" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.895em; vertical-align: -0.092em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-525">s \in S</script>:<br>
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-526-Frame" style=""><nobr><span class="math" id="MathJax-Span-14038" style="width: 14.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.288em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.649em, 1000em, 3.495em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-14039"><span class="msubsup" id="MathJax-Span-14040"><span style="display: inline-block; position: relative; width: 1.732em; height: 0px;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.721em, -0.488em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14041" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.531em;"><span class="texatom" id="MathJax-Span-14042"><span class="mrow" id="MathJax-Span-14043"><span class="mi" id="MathJax-Span-14044" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-14045" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-14046" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-14047" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-14048" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">arg</span><span class="mo" id="MathJax-Span-14049"></span><span class="munderover" id="MathJax-Span-14050" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-14051" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.585em, -0.495em); top: -1.624em; left: 0.676em;"><span class="mi" id="MathJax-Span-14052" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-14053" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.4em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14054" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -4.411em; left: 0.732em;"><span class="texatom" id="MathJax-Span-14055"><span class="mrow" id="MathJax-Span-14056"><span class="msubsup" id="MathJax-Span-14057"><span style="display: inline-block; position: relative; width: 0.593em; height: 0px;"><span style="position: absolute; clip: rect(1.837em, 1000em, 2.49em, -0.493em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-14058" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.372em;"><span class="mi" id="MathJax-Span-14059" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mo" id="MathJax-Span-14060" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-14061" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-14062" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-14063" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-14064" style="font-family: STIXGeneral-Regular;">)</span><span class="mspace" id="MathJax-Span-14065" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mspace" id="MathJax-Span-14066" style="height: 0em; vertical-align: 0em; width: 0.313em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-14067" style="font-family: STIXGeneral-Regular;">∀</span><span class="mi" id="MathJax-Span-14068" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-14069" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">∈</span><span class="mi" id="MathJax-Span-14070" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.799em; vertical-align: -0.942em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-526">\pi_{i+1} = \arg \max_a Q^{\pi_i}(s,a) \;\; \forall s \in S</script></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Another approach is <strong>value iteration</strong>. Idea: Maintain optimal value of starting in a state s if there is a finite number of steps <span class="MathJax" id="MathJax-Element-527-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-14071" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-14072"><span class="mi" id="MathJax-Span-14073" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.895em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-527">k</script> left in the episode, iterate to consider longer and longer episodes.
<ul>
<li>Essentially it iteratively applies the Bellman Backup Operator <span class="MathJax" id="MathJax-Element-528-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-14074" style="width: 5.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.011em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.882em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-14075"><span class="msubsup" id="MathJax-Span-14076"><span style="display: inline-block; position: relative; width: 1.969em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14077" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="texatom" id="MathJax-Span-14078"><span class="mrow" id="MathJax-Span-14079"><span class="mi" id="MathJax-Span-14080" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span class="mo" id="MathJax-Span-14081" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-14082" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-14083" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-14084" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">B</span><span class="msubsup" id="MathJax-Span-14085"><span style="display: inline-block; position: relative; width: 1.068em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14086" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="mi" id="MathJax-Span-14087" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.049em; vertical-align: -0.261em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-528">V_{k+1} = BV_k</script> until converence, so value iteration is equivalently <span class="MathJax" id="MathJax-Element-529-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-14088" style="width: 8.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.545em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.652em, 1000em, 2.863em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-14089"><span class="msubsup" id="MathJax-Span-14090"><span style="display: inline-block; position: relative; width: 1.274em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14091" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.805em;"><span class="mo" id="MathJax-Span-14092" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∗</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-14093" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-14094" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">B</span><span class="mi" id="MathJax-Span-14095" style="font-family: STIXGeneral-Italic;">B</span><span class="mi" id="MathJax-Span-14096" style="font-family: STIXGeneral-Italic;">B</span><span class="mo" id="MathJax-Span-14097" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">⋯</span><span class="mi" id="MathJax-Span-14098" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">B</span><span class="msubsup" id="MathJax-Span-14099"><span style="display: inline-block; position: relative; width: 1.124em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14100" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="mn" id="MathJax-Span-14101" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.094em; vertical-align: -0.24em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-529">V^* = BBB \cdots BV_0</script>.</li>
<li>Loop until convergence:
<ul>
<li>For each state s, apply the Bellman backup operator:<br>
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-530-Frame" style=""><nobr><span class="math" id="MathJax-Span-14102" style="width: 22.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 19.932em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(-0.759em, 1000em, 4.651em, -0.321em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-14103"><span class="mtable" id="MathJax-Span-14104" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 19.595em; height: 0px;"><span style="position: absolute; clip: rect(2.526em, 1000em, 6.177em, -0.488em); top: -4.336em; left: 0em;"><span style="display: inline-block; position: relative; width: 3.041em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.882em, -0.431em); top: -3.499em; right: 0em;"><span class="mtd" id="MathJax-Span-14105"><span class="mrow" id="MathJax-Span-14106"><span class="msubsup" id="MathJax-Span-14107"><span style="display: inline-block; position: relative; width: 1.969em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14108" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="texatom" id="MathJax-Span-14109"><span class="mrow" id="MathJax-Span-14110"><span class="mi" id="MathJax-Span-14111" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span class="mo" id="MathJax-Span-14112" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-14113" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-14114" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-14115" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-14116" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.689em, 1000em, 2.882em, -0.488em); top: -1.041em; right: 0em;"><span class="mtd" id="MathJax-Span-14163"><span class="mrow" id="MathJax-Span-14164"><span class="msubsup" id="MathJax-Span-14165"><span style="display: inline-block; position: relative; width: 1.845em; height: 0px;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.721em, -0.488em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14166" style="font-family: STIXGeneral-Italic;">π<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.032em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.531em;"><span class="texatom" id="MathJax-Span-14167"><span class="mrow" id="MathJax-Span-14168"><span class="mi" id="MathJax-Span-14169" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span class="mo" id="MathJax-Span-14170" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-14171" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-14172" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-14173" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-14174" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.336em;"></span></span><span style="position: absolute; clip: rect(3.126em, 1000em, 8.536em, -0.209em); top: -6.081em; left: 3.041em;"><span style="display: inline-block; position: relative; width: 16.554em; height: 0px;"><span style="position: absolute; clip: rect(2.233em, 1000em, 5.713em, -0.209em); top: -5.188em; left: 0em;"><span class="mtd" id="MathJax-Span-14117"><span class="mrow" id="MathJax-Span-14118"><span class="mo" id="MathJax-Span-14119" style="font-family: STIXGeneral-Regular; padding-left: 0.25em; padding-right: 0.375em;">=</span><span class="munderover" id="MathJax-Span-14120"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-14121" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.585em, -0.495em); top: -1.624em; left: 0.676em;"><span class="mi" id="MathJax-Span-14122" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mrow" id="MathJax-Span-14123" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-14124" style="vertical-align: 1.821em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.316em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -1.174em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.602em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.888em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span><span class="mi" id="MathJax-Span-14125" style="font-family: STIXGeneral-Italic;">R</span><span class="mo" id="MathJax-Span-14126" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-14127" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-14128" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-14129" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-14130" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-14131" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-14132" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="munderover" id="MathJax-Span-14133" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.52em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0.084em;"><span class="mo" id="MathJax-Span-14134" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">∑</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.601em, 1000em, 2.597em, -0.495em); top: -1.107em; left: 0em;"><span class="texatom" id="MathJax-Span-14135"><span class="mrow" id="MathJax-Span-14136"><span class="msup" id="MathJax-Span-14137"><span style="display: inline-block; position: relative; width: 0.616em; height: 0px;"><span style="position: absolute; clip: rect(1.827em, 1000em, 2.487em, -0.495em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-14138" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.453em; left: 0.338em;"><span class="mo" id="MathJax-Span-14139" style="font-size: 50%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span class="mo" id="MathJax-Span-14140" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-14141" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-14142" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-14143" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-14144"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14145" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-14146" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-14147"><span class="mrow" id="MathJax-Span-14148"><span class="mo" id="MathJax-Span-14149" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-14150" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-14151" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-14152" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">a</span><span class="mo" id="MathJax-Span-14153" style="font-family: STIXGeneral-Regular;">)</span><span class="msubsup" id="MathJax-Span-14154"><span style="display: inline-block; position: relative; width: 1.068em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.721em, -0.431em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14155" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.655em;"><span class="mi" id="MathJax-Span-14156" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.012em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-14157" style="font-family: STIXGeneral-Regular;">(</span><span class="msup" id="MathJax-Span-14158"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-14159" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.721em; left: 0.45em;"><span class="mo" id="MathJax-Span-14160" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-14161" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-14162" style="vertical-align: 1.821em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.316em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -1.174em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.602em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.888em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 3.998em;"></span></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.223em;"></span></span><span style="position: absolute; clip: rect(1.682em, 1000em, 3.495em, -0.209em); top: -1.041em; left: 0em;"><span class="mtd" id="MathJax-Span-14175"><span class="mrow" id="MathJax-Span-14176"><span class="mo" id="MathJax-Span-14177" style="font-family: STIXGeneral-Regular; padding-left: 0.25em; padding-right: 0.375em;">=</span><span class="mi" id="MathJax-Span-14178" style="font-family: STIXGeneral-Regular;">arg</span><span class="mo" id="MathJax-Span-14179"></span><span class="munderover" id="MathJax-Span-14180" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.745em; height: 0px;"><span style="position: absolute; clip: rect(1.905em, 1000em, 2.713em, -0.491em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-14181" style="font-family: STIXGeneral-Regular;">max</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.585em, -0.495em); top: -1.624em; left: 0.676em;"><span class="mi" id="MathJax-Span-14182" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">a</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mtext" id="MathJax-Span-14183" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">of the above</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="display: inline-block; width: 0px; height: 6.081em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 5.755em; vertical-align: -2.6em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-530">\begin{align}   V_{k+1}(s) & = \max_a \left[ R(s,a) + \gamma \sum_{s' \in S} P(s' | s,a)V_k(s') \right] \\   \pi_{k+1}(s) & = \arg \max_a \text{of the above} \end{align}</script></li>
</ul>
</li>
<li>This converges because the Bellman backup operator is a contraction if <span class="MathJax" id="MathJax-Element-531-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-14184" style="width: 2.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.309em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.909em, -0.488em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-14185"><span class="mi" id="MathJax-Span-14186" style="font-family: STIXGeneral-Italic;">γ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.028em;"></span></span><span class="mo" id="MathJax-Span-14187" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mn" id="MathJax-Span-14188" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.104em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-531">\gamma < 1 </script> (Proof in Appendix 2).</li>
</ul>
</li>
</ul>
<p>Note: Value Iteration and Policy Iteration are exactly the same, except the former only updates the state-value function (V), and the latter updates the state-action value function (Q). They result in the same value function at convergence. <span class="MathJax" id="MathJax-Element-506-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13617" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13618"><span class="mi" id="MathJax-Span-13619" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-13620" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-13621" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-13622" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-506">V(s)</script> is the max of the Qs over all possible actions <span class="MathJax" id="MathJax-Element-502-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13558" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13559"><span class="mi" id="MathJax-Span-13560" style="font-family: STIXGeneral-Italic;">a</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-502">a</script> from state <span class="MathJax" id="MathJax-Element-501-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-13555" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-13556"><span class="mi" id="MathJax-Span-13557" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.63em; vertical-align: -0.077em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-501">s</script>.</p>
</div><div class="cell text-cell"><p style="font-size: 16px;"><b>Appendix 1: Proof of Policy Iteration</b></p><p>A Proof that policy iteration leads to monotonic improvement and converges.</p><p><img src="resources/9C8A52347FA8265F3FA07A492FB24880.png" alt="Screenshot 2020-03-29 at 3.35.56 PM.png" width="649" height="463"></p><p>So a justification is required. In fact, we can telescope the substitution many times, and each time the inequality is ≤.</p><p><img src="resources/08BA80EFA9964EEB6D2E6F84563D1EA8.png" alt="Screenshot 2020-03-29 at 3.38.18 PM.png" width="648" height="459"><br></p><p>Because policy iteration monotonically increases the value function, and becuase the number of states is finite, it always converges.&nbsp;</p><p><br></p><p><b>Appendix 2: Proof that Bellman Operator is a Contraction Operator:</b></p><p><img src="resources/E23BAD0273BAD13C6397B110509789B8.png" alt="Screenshot 2020-03-29 at 4.16.11 PM.png" width="645" height="465"><br></p></div></div>

    </body>
    </html>
  
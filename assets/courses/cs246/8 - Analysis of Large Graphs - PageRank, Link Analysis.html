
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="titlearea">
        <h2>Lecture 9- Analysis of Large Graphs: Link Analysis, PageRank</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"></div><div class="cell markdown-cell"><h2>Lecture 9- Analysis of Large Graphs: Link Analysis, PageRank</h2>
<ul>
<li>Informational Retrieval investigates: Find relevant docs in a small and trusted set.</li>
<li>Link Analysis (how to rank importances in a graph - PageRank)</li>
</ul>
<h2>Pagerank: The "Flow" Formulation</h2>
<ul>
<li>Page is more important if it has more links, links from more important pages count more (recursive definition!)</li>
<li>Models a random surfer who clicks web links randomly.</li>
<li>PageRank is probability distribution of where the surfer might be after a long time of surfing.</li>
<li>Technically: the PageRank score = the principal eigenvector of the Web's transition matrix.</li>
</ul>
<p>Every link's vote is proportional to the importance of its source page. So if page <span class="MathJax" id="MathJax-Element-296-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3529" style="width: 0.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.338em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.713em, 1000em, 2.91em, -0.631em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3530"><span class="mi" id="MathJax-Span-3531" style="font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.078em; vertical-align: -0.292em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-296">j</script> has importance <span class="MathJax" id="MathJax-Element-297-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3532" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.586em, 1000em, 2.661em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3533"><span class="msubsup" id="MathJax-Span-3534"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3535" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-3536" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.943em; vertical-align: -0.391em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-297">r_j</script> and <span class="MathJax" id="MathJax-Element-298-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3537" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3538"><span class="mi" id="MathJax-Span-3539" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.625em; vertical-align: -0.072em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-298">n</script> out-links, each links gets <span class="MathJax" id="MathJax-Element-299-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3540" style="width: 1.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.52em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.999em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3541"><span class="msubsup" id="MathJax-Span-3542"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3543" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-3544" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-3545"><span class="mrow" id="MathJax-Span-3546"><span class="mo" id="MathJax-Span-3547" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-3548" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.204em; vertical-align: -0.391em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-299">r_j/n</script> votes.</p>
<h2>Pagerank: The Matrix Formulation</h2>
<ul>
<li>Define the stochastic adjacency matrix M. (1)
<ul>
<li>Let page <span class="MathJax" id="MathJax-Element-300-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3549" style="width: 0.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.338em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.711em, 1000em, 2.714em, -0.458em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3550"><span class="mi" id="MathJax-Span-3551" style="font-family: STIXGeneral-Italic;">i</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.863em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-300">i</script> have <span class="MathJax" id="MathJax-Element-301-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3552" style="width: 0.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.845em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.344em, 1000em, 2.523em, -0.492em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3553"><span class="msubsup" id="MathJax-Span-3554"><span style="display: inline-block; position: relative; width: 0.836em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.716em, -0.492em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3555" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.536em;"><span class="mi" id="MathJax-Span-3556" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.058em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-301">d_i</script> out-links:</li>
<li>If  i -&gt; j, then <span class="MathJax" id="MathJax-Element-302-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3557" style="width: 4.141em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.716em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.213em, -0.525em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3558"><span class="msubsup" id="MathJax-Span-3559"><span style="display: inline-block; position: relative; width: 1.387em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3560" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.862em;"><span class="texatom" id="MathJax-Span-3561"><span class="mrow" id="MathJax-Span-3562"><span class="mi" id="MathJax-Span-3563" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-3564" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3565" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-3566" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.717em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-3567" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(3.346em, 1000em, 4.278em, -0.496em); top: -3.599em; left: 50%; margin-left: -0.299em;"><span class="msubsup" id="MathJax-Span-3568"><span style="display: inline-block; position: relative; width: 0.597em; height: 0px;"><span style="position: absolute; clip: rect(1.657em, 1000em, 2.487em, -0.496em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-3569" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.375em;"><span class="mi" id="MathJax-Span-3570" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.717em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.683em; vertical-align: -0.629em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-302">M_{ji} = \frac{1}{d_i}</script> else <span class="MathJax" id="MathJax-Element-303-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3571" style="width: 3.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.266em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.999em, -0.525em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3572"><span class="msubsup" id="MathJax-Span-3573"><span style="display: inline-block; position: relative; width: 1.387em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3574" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.862em;"><span class="texatom" id="MathJax-Span-3575"><span class="mrow" id="MathJax-Span-3576"><span class="mi" id="MathJax-Span-3577" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-3578" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3579" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-3580" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">0</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.204em; vertical-align: -0.391em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-303">M_{ji} = 0</script></li>
</ul>
</li>
<li>Define the rank vector r: vector with an entry per page, such that <span class="MathJax" id="MathJax-Element-304-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3581" style="width: 0.828em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.586em, 1000em, 2.523em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3582"><span class="msubsup" id="MathJax-Span-3583"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3584" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-3585" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.79em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-304">r_i</script> is the importance score of page <span class="MathJax" id="MathJax-Element-300-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3549" style="width: 0.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.338em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.711em, 1000em, 2.714em, -0.458em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3550"><span class="mi" id="MathJax-Span-3551" style="font-family: STIXGeneral-Italic;">i</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.863em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-300">i</script>, and <span class="MathJax" id="MathJax-Element-305-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3586" style="width: 4.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.998em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.604em, 1000em, 3.007em, -0.449em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3587"><span class="munderover" id="MathJax-Span-3588"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-3589" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="mi" id="MathJax-Span-3590" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3591" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3592" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-3593" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3594" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mn" id="MathJax-Span-3595" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.307em; vertical-align: -0.4em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-305">\sum_i r_i = 1</script>.</li>
<li>The flow equations can be written <span class="MathJax" id="MathJax-Element-306-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3596" style="width: 6.328em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.687em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.526em, 1000em, 3.213em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3597"><span class="msubsup" id="MathJax-Span-3598"><span style="display: inline-block; position: relative; width: 0.728em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3599" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="mi" id="MathJax-Span-3600" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3601" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="munderover" id="MathJax-Span-3602" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 2.496em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-3603" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-3604"><span class="mrow" id="MathJax-Span-3605"><span class="mi" id="MathJax-Span-3606" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3607" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mo" id="MathJax-Span-3608" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">&gt;</span><span class="mi" id="MathJax-Span-3609" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-3610" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.717em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.517em, 1000em, 4.278em, -0.475em); top: -4.525em; left: 50%; margin-left: -0.272em;"><span class="msubsup" id="MathJax-Span-3611"><span style="display: inline-block; position: relative; width: 0.544em; height: 0px;"><span style="position: absolute; clip: rect(1.828em, 1000em, 2.477em, -0.475em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-3612" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.016em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.322em;"><span class="mi" id="MathJax-Span-3613" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(3.346em, 1000em, 4.278em, -0.496em); top: -3.599em; left: 50%; margin-left: -0.299em;"><span class="msubsup" id="MathJax-Span-3614"><span style="display: inline-block; position: relative; width: 0.597em; height: 0px;"><span style="position: absolute; clip: rect(1.657em, 1000em, 2.487em, -0.496em); top: -2.309em; left: 0em;"><span class="mi" id="MathJax-Span-3615" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; top: -2.09em; left: 0.375em;"><span class="mi" id="MathJax-Span-3616" style="font-size: 50%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.717em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.622em; vertical-align: -0.629em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-306">r_j = \sum_{i -> j} \frac{r_i}{d_i}</script>, that is,<br>
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-307-Frame" style=""><nobr><span class="math" id="MathJax-Span-3617" style="width: 4.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.829em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3618"><span class="mi" id="MathJax-Span-3619" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-3620" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-3621" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="mo" id="MathJax-Span-3622" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">⋅</span><span class="mi" id="MathJax-Span-3623" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-307"> r = M \cdot r</script> (2)<br>
Thus the rank vector <span class="MathJax" id="MathJax-Element-308-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3624" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3625"><span class="mi" id="MathJax-Span-3626" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.615em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-308">r</script> is an eigenvector of M. In fact, it is the value obtained applying M many many times (a power iteration), which is the principal eigenvector, which is the PageRank. We can obtain the PageRank through the power iteration algorithm.</li>
</ul>
<h2>PageRank Algorithm: Power Iteration</h2>
<ul>
<li>Suppose N web pages.</li>
<li>Initalize rank vector <span class="MathJax" id="MathJax-Element-309-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3627" style="width: 10.328em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.291em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.514em, 1000em, 2.859em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3628"><span class="msubsup" id="MathJax-Span-3629"><span style="display: inline-block; position: relative; width: 1.483em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3630" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3631"><span class="mrow" id="MathJax-Span-3632"><span class="mo" id="MathJax-Span-3633" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-3634" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">0</span><span class="mo" id="MathJax-Span-3635" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3636" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-3637" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">[</span><span class="mn" id="MathJax-Span-3638" style="font-family: STIXGeneral-Regular;">1</span><span class="texatom" id="MathJax-Span-3639"><span class="mrow" id="MathJax-Span-3640"><span class="mo" id="MathJax-Span-3641" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-3642" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-3643" style="font-family: STIXGeneral-Regular;">,</span><span class="mo" id="MathJax-Span-3644" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-3645" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-3646" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">.</span><span class="mo" id="MathJax-Span-3647" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">,</span><span class="mn" id="MathJax-Span-3648" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">1</span><span class="texatom" id="MathJax-Span-3649"><span class="mrow" id="MathJax-Span-3650"><span class="mo" id="MathJax-Span-3651" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-3652" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="msubsup" id="MathJax-Span-3653"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(1.703em, 1000em, 2.859em, -0.473em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-3654" style="font-family: STIXGeneral-Regular;">]</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.698em; left: 0.338em;"><span class="mi" id="MathJax-Span-3655" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.054em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.242em; vertical-align: -0.236em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-309">r^{(0)} =[ 1/N,...,1/N]^T</script></li>
<li>Iterate: <span class="MathJax" id="MathJax-Element-310-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3656" style="width: 7.203em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.475em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.524em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3657"><span class="msubsup" id="MathJax-Span-3658"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3659" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3660"><span class="mrow" id="MathJax-Span-3661"><span class="mo" id="MathJax-Span-3662" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3663" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-3664" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3665" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3666" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3667" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-3668" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="mo" id="MathJax-Span-3669" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">⋅</span><span class="msubsup" id="MathJax-Span-3670" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.314em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3671" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3672"><span class="mrow" id="MathJax-Span-3673"><span class="mo" id="MathJax-Span-3674" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3675" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-3676" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.058em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-310">r^{(t+1)} = M \cdot r^{(t)}</script></li>
<li>Stop when <span class="MathJax" id="MathJax-Element-311-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3677" style="width: 8.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.264em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.524em, 1000em, 2.853em, -0.44em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3678"><span class="texatom" id="MathJax-Span-3679"><span class="mrow" id="MathJax-Span-3680"><span class="mo" id="MathJax-Span-3681" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-3682"><span style="display: inline-block; position: relative; width: 2.159em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3683" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3684"><span class="mrow" id="MathJax-Span-3685"><span class="mo" id="MathJax-Span-3686" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3687" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-3688" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">+</span><span class="mn" id="MathJax-Span-3689" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3690" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3691" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-3692" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.2em; height: 0px;"><span style="position: absolute; clip: rect(1.819em, 1000em, 2.714em, -0.469em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3693" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.018em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.393em;"><span class="texatom" id="MathJax-Span-3694"><span class="mrow" id="MathJax-Span-3695"><span class="mo" id="MathJax-Span-3696" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3697" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.013em;"></span></span><span class="mo" id="MathJax-Span-3698" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3699"><span style="display: inline-block; position: relative; width: 0.694em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.717em, -0.44em); top: -2.534em; left: 0em;"><span class="texatom" id="MathJax-Span-3700"><span class="mrow" id="MathJax-Span-3701"><span class="mo" id="MathJax-Span-3702" style="font-family: STIXGeneral-Regular;">|</span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.225em;"><span class="mn" id="MathJax-Span-3703" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3704" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mi" id="MathJax-Span-3705" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">ϵ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.225em; vertical-align: -0.229em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-311">|r^{(t+1)} - t^{(t)}|_1 < \epsilon</script><br>
Typically converges in ~50 iterations, even on a graph with billions of nodes.<br>
With some modifications, Unique Convergence is by theory of Markov Procesess (Random walks) (3)</li>
</ul>
<p>Two modifications to amek it converge, and to make it converge to what we want:<br>
2 problems:</p>
<ul>
<li>Dead ends (pages with no out-links - causes importance values to 'leak out')</li>
<li>Spider Traps (all out-links are within the group). Random walk gets 'stuck' in a trap and eventually spider traps absorb all importance.<br>
We solve these two problems with random teleports; With prob <span class="MathJax" id="MathJax-Element-312-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3706" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3707"><span class="mi" id="MathJax-Span-3708" style="font-family: STIXGeneral-Italic;">b</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.895em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-312">b</script>, always follow a link at random, with prob <span class="MathJax" id="MathJax-Element-313-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3709" style="width: 2.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.252em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.396em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3710"><span class="mn" id="MathJax-Span-3711" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3712" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-3713" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">b</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.895em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-313">1-b</script>, jump to some random page. If you hit a dead-end, teleport with probabilty 1. <span class="MathJax" id="MathJax-Element-314-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3714" style="width: 2.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.027em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.717em, -0.484em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3715"><span class="mi" id="MathJax-Span-3716" style="font-family: STIXGeneral-Italic;">b</span><span class="mtext" id="MathJax-Span-3717" style="font-family: STIXGeneral-Regular;">&nbsp;</span><span class="mn" id="MathJax-Span-3718" style="font-family: STIXGeneral-Regular;">0.8</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.899em; vertical-align: -0.078em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-314">b ~ 0.8</script>.</li>
</ul>
</div><div class="cell text-cell"><img src="resources/E41954C9EF31094C52FA4F9B000B589B.png" alt="Screenshot 2019-10-25 at 8.51.56 PM.png" width="537" height="202"><div><img src="resources/CAE069D15E2BC4620CBEC4698D56A196.png" alt="Screenshot 2019-10-25 at 8.52.31 PM.png" width="558" height="151"><br></div></div><div class="cell markdown-cell"><h2>Actually computing PageRank</h2>
<p>We need to do Power Iteration to compute PageRank: <span class="MathJax" id="MathJax-Element-315-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3719" style="width: 5.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.293em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.519em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3720"><span class="msubsup" id="MathJax-Span-3721"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3722" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3723"><span class="mrow" id="MathJax-Span-3724"><span class="mi" id="MathJax-Span-3725" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3726" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3727" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3728" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-3729" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">A</span><span class="msubsup" id="MathJax-Span-3730"><span style="display: inline-block; position: relative; width: 1.54em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3731" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3732"><span class="mrow" id="MathJax-Span-3733"><span class="mi" id="MathJax-Span-3734" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-3735" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-3736" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.064em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-315">r^{new} = A r^{old}</script>.<br>
However, we usually don't have enough main memory to hold <span class="MathJax" id="MathJax-Element-316-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3737" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.697em, 1000em, 2.703em, -0.558em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3738"><span class="mi" id="MathJax-Span-3739" style="font-family: STIXGeneral-Italic;">A</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.866em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-316">A</script>, <span class="MathJax" id="MathJax-Element-317-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3740" style="width: 1.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.577em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.181em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3741"><span class="msubsup" id="MathJax-Span-3742"><span style="display: inline-block; position: relative; width: 1.54em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3743" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3744"><span class="mrow" id="MathJax-Span-3745"><span class="mi" id="MathJax-Span-3746" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-3747" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-3748" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.064em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-317">r^{old}</script>, <span class="MathJax" id="MathJax-Element-318-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3749" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.352em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3750"><span class="msubsup" id="MathJax-Span-3751"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3752" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.874em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">r^{new}</script>. (4)<br>
We rearrange the equation to the sparse matrix formulation:</p>
</div><div class="cell text-cell"><img src="resources/2B2E82F583436F57816A799D4546F62E.png" alt="Screenshot 2019-10-25 at 8.56.41 PM.png" width="565" height="339"><div><img src="resources/093218EEA10D7C173128037CB834C72B.png" alt="Screenshot 2019-10-25 at 8.58.29 PM.png" width="499" height="201"><br></div></div><div class="cell markdown-cell"><p>Since M is a sparse matrix (with no dead-ends). Approx <span class="MathJax" id="MathJax-Element-319-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3758" style="width: 2.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.196em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.447em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3759"><span class="mi" id="MathJax-Span-3760" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-3761" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3762" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-3763" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-319">O(N)</script> entries, not <span class="MathJax" id="MathJax-Element-320-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3764" style="width: 3.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.759em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.507em, 1000em, 2.88em, -0.447em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3765"><span class="mi" id="MathJax-Span-3766" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-3767" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-3768"><span style="display: inline-block; position: relative; width: 1.325em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3769" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.856em;"><span class="mn" id="MathJax-Span-3770" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3771" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.274em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-320">O(N^2)</script>.<br>
So in each iteration in PageRank, we need to:</p>
<ul>
<li>Compute <span class="MathJax" id="MathJax-Element-321-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3772" style="width: 6.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.081em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.519em, 1000em, 2.908em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3773"><span class="msubsup" id="MathJax-Span-3774"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3775" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3776"><span class="mrow" id="MathJax-Span-3777"><span class="mi" id="MathJax-Span-3778" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3779" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3780" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3781" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-3782" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mi" id="MathJax-Span-3783" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="msubsup" id="MathJax-Span-3784"><span style="display: inline-block; position: relative; width: 1.54em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3785" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3786"><span class="mrow" id="MathJax-Span-3787"><span class="mi" id="MathJax-Span-3788" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-3789" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-3790" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.291em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-321">r^{new} = \beta M r^{old}</script></li>
<li>And add a constant value <span class="MathJax" id="MathJax-Element-322-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3791" style="width: 4.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.941em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.687em, 1000em, 2.908em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3792"><span class="mo" id="MathJax-Span-3793" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-3794" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3795" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mi" id="MathJax-Span-3796" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">β<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-3797" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3798"><span class="mrow" id="MathJax-Span-3799"><span class="mo" id="MathJax-Span-3800" style="font-family: STIXGeneral-Regular;">/</span></span></span><span class="mi" id="MathJax-Span-3801" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.105em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-322">(1-\beta)/N</script> to each entry in <span class="MathJax" id="MathJax-Element-318-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3749" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.352em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3750"><span class="msubsup" id="MathJax-Span-3751"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3752" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.874em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">r^{new}</script>.</li>
<li>Note that if M contains dead-ends then <span class="MathJax" id="MathJax-Element-323-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3802" style="width: 5.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.068em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.604em, 1000em, 3.146em, -0.449em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3803"><span class="munderover" id="MathJax-Span-3804"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-3805" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="mi" id="MathJax-Span-3806" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3807" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3808" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.49em, -0.497em); top: -2.666em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3809"><span class="mrow" id="MathJax-Span-3810"><span class="mi" id="MathJax-Span-3811" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3812" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3813" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.679em, 1000em, 2.624em, -0.594em); top: -2.012em; left: 0.427em;"><span class="mi" id="MathJax-Span-3814" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3815" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mn" id="MathJax-Span-3816" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.461em; vertical-align: -0.554em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-323">\sum_j r_j^{new} <1</script> and we have to renormalize <span class="MathJax" id="MathJax-Element-318-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3749" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.352em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3750"><span class="msubsup" id="MathJax-Span-3751"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3752" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.874em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">r^{new}</script> so that it sums to 1.</li>
</ul>
<h2>Basic Unoptimized PageRank Algorithm</h2>
<p>Assumes the graph (O(l*N) memory, where l is average number of links per page) fits into memory.</p>
</div><div class="cell text-cell"><img src="resources/11A24F709AFB9465757549A98A30BA8A.png" alt="Screenshot 2019-10-25 at 9.01.16 PM.png" width="550" height="408"></div><div class="cell markdown-cell"><h2>Optimized PageRank Algo (Used in Regular Google Jobs)</h2>
<p>Optimization 1: list of pages O(N) barely fits in memory<br>
Assume enough memory to fit just <span class="MathJax" id="MathJax-Element-318-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3749" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.352em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3750"><span class="msubsup" id="MathJax-Span-3751"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3752" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.874em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">r^{new}</script> in memory.</p>
<h3>Basic Memory Saving PageRank</h3>
<ul>
<li>Space proportional roughtly to number of links.</li>
<li>Say 10M, or 4<em>10</em>1 billion = 40GB.</li>
<li>Still won't fit in memory but will fit in disk.<br>
Maintain the following table: source node, degree (so far), destination nodes (so far).</li>
</ul>
</div><div class="cell text-cell"><img src="resources/6BE02C75090A56CC8F2730C2713D8BDD.png" alt="Screenshot 2019-10-25 at 9.06.55 PM.png" width="389" height="156"></div><div class="cell markdown-cell"><p>Assume enough memory to fit just <span class="MathJax" id="MathJax-Element-318-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3749" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.352em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3750"><span class="msubsup" id="MathJax-Span-3751"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3752" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.874em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">r^{new}</script> in memory.<br>
Store <span class="MathJax" id="MathJax-Element-317-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3740" style="width: 1.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.577em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.181em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3741"><span class="msubsup" id="MathJax-Span-3742"><span style="display: inline-block; position: relative; width: 1.54em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3743" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3744"><span class="mrow" id="MathJax-Span-3745"><span class="mi" id="MathJax-Span-3746" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-3747" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-3748" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.064em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-317">r^{old}</script> and matrix <span class="MathJax" id="MathJax-Element-324-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3817" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3818"><span class="mi" id="MathJax-Span-3819" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-324">M</script> on disk.</p>
</div><div class="cell text-cell"><img src="resources/201E5AB4B617B5703D718B8C8DA7E169.png" alt="Screenshot 2019-10-25 at 9.15.00 PM.png" width="540" height="300"><br><div><br></div></div><div class="cell markdown-cell"><p>Assumes enough memory to fit <span class="MathJax" id="MathJax-Element-318-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3749" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.352em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3750"><span class="msubsup" id="MathJax-Span-3751"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3752" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.874em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">r^{new}</script> into memory, cost per iteration of power method = <span class="MathJax" id="MathJax-Element-325-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3820" style="width: 4.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.829em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.744em, -0.478em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3821"><span class="mn" id="MathJax-Span-3822" style="font-family: STIXGeneral-Regular;">2</span><span class="texatom" id="MathJax-Span-3823"><span class="mrow" id="MathJax-Span-3824"><span class="mo" id="MathJax-Span-3825" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3826" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="texatom" id="MathJax-Span-3827"><span class="mrow" id="MathJax-Span-3828"><span class="mo" id="MathJax-Span-3829" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3830" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="texatom" id="MathJax-Span-3831" style="padding-left: 0.25em;"><span class="mrow" id="MathJax-Span-3832"><span class="mo" id="MathJax-Span-3833" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3834" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="texatom" id="MathJax-Span-3835"><span class="mrow" id="MathJax-Span-3836"><span class="mo" id="MathJax-Span-3837" style="font-family: STIXGeneral-Regular;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.921em; vertical-align: -0.108em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-325">2|r| + |M|</script>.<br>
What if r^{new} does not fit into memory?</p>
<h3>Block based algorithm (breaking up <span class="MathJax" id="MathJax-Element-318-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3749" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.352em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3750"><span class="msubsup" id="MathJax-Span-3751"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3752" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.874em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">r^{new}</script> which does not fit in memory)</h3>
</div><div class="cell text-cell"><img src="resources/F41A3B52F60A76F29BFFF33A07E15B93.png" alt="Screenshot 2019-10-25 at 9.19.12 PM.png" width="514" height="289"></div><div class="cell markdown-cell"><p>Trades off using less memory for more disk reads.<br>
Total cost: k scans of <span class="MathJax" id="MathJax-Element-324-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3817" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3818"><span class="mi" id="MathJax-Span-3819" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-324">M</script> and <span class="MathJax" id="MathJax-Element-317-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3740" style="width: 1.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.577em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.181em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3741"><span class="msubsup" id="MathJax-Span-3742"><span style="display: inline-block; position: relative; width: 1.54em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3743" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3744"><span class="mrow" id="MathJax-Span-3745"><span class="mi" id="MathJax-Span-3746" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-3747" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">l<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mi" id="MathJax-Span-3748" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.019em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.064em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-317">r^{old}</script> once for each block.</p>
<ul>
<li><span class="MathJax" id="MathJax-Element-326-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3838" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3839"><span class="mi" id="MathJax-Span-3840" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.895em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-326">k</script> scans of <span class="MathJax" id="MathJax-Element-324-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3817" style="width: 1.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.901em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.525em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3818"><span class="mi" id="MathJax-Span-3819" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-324">M</script> and $r^{old}</li>
<li>Cost per iteration of power iteration: <span class="MathJax" id="MathJax-Element-327-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3841" style="width: 7.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.644em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.88em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3842"><span class="mi" id="MathJax-Span-3843" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.017em;"></span></span><span class="texatom" id="MathJax-Span-3844"><span class="mrow" id="MathJax-Span-3845"><span class="mo" id="MathJax-Span-3846" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3847" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="texatom" id="MathJax-Span-3848"><span class="mrow" id="MathJax-Span-3849"><span class="mo" id="MathJax-Span-3850" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3851" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mo" id="MathJax-Span-3852" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">(</span><span class="mi" id="MathJax-Span-3853" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.017em;"></span></span><span class="mo" id="MathJax-Span-3854" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-3855" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-3856" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3857"><span class="mrow" id="MathJax-Span-3858"><span class="mo" id="MathJax-Span-3859" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3860" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="texatom" id="MathJax-Span-3861"><span class="mrow" id="MathJax-Span-3862"><span class="mo" id="MathJax-Span-3863" style="font-family: STIXGeneral-Regular;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.08em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-327">k|M| + (k+1)|r|</script>.<br>
Note that M is much bigger than r (approx 10-20x), so we try to avoid reading it k times per iteration.</li>
</ul>
<h3>Block-Stripe Update Algorithm (Optimization using partitioning)</h3>
</div><div class="cell text-cell"><img src="resources/EC404212F2F628B6756DFBF08747B8B7.png" alt="Screenshot 2019-10-25 at 9.23.18 PM.png" width="531" height="368"></div><div class="cell markdown-cell"><p>Break M into partitions/stripes such that each partition contains only destination nodes in the corresponding block of <span class="MathJax" id="MathJax-Element-318-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3749" style="width: 2.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.802em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.352em, 1000em, 2.365em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3750"><span class="msubsup" id="MathJax-Span-3751"><span style="display: inline-block; position: relative; width: 1.765em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3752" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.671em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3753"><span class="mrow" id="MathJax-Span-3754"><span class="mi" id="MathJax-Span-3755" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-3756" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3757" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">w</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.874em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-318">r^{new}</script><br>
Cost per iteration of Power Method: <span class="MathJax" id="MathJax-Element-328-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3864" style="width: 13.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.387em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3865"><span class="mo" id="MathJax-Span-3866" style="font-family: STIXGeneral-Regular;">(</span><span class="mn" id="MathJax-Span-3867" style="font-family: STIXGeneral-Regular;">1</span><span class="mo" id="MathJax-Span-3868" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-3869" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">o</span><span class="mi" id="MathJax-Span-3870" style="font-family: STIXGeneral-Italic;">v</span><span class="mi" id="MathJax-Span-3871" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3872" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mi" id="MathJax-Span-3873" style="font-family: STIXGeneral-Italic;">h</span><span class="mi" id="MathJax-Span-3874" style="font-family: STIXGeneral-Italic;">e</span><span class="mi" id="MathJax-Span-3875" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-3876" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span><span class="mo" id="MathJax-Span-3877" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3878"><span class="mrow" id="MathJax-Span-3879"><span class="mo" id="MathJax-Span-3880" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3881" style="font-family: STIXGeneral-Italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.039em;"></span></span><span class="texatom" id="MathJax-Span-3882"><span class="mrow" id="MathJax-Span-3883"><span class="mo" id="MathJax-Span-3884" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-3885" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mo" id="MathJax-Span-3886" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">(</span><span class="mi" id="MathJax-Span-3887" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.017em;"></span></span><span class="mo" id="MathJax-Span-3888" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-3889" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-3890" style="font-family: STIXGeneral-Regular;">)</span><span class="texatom" id="MathJax-Span-3891"><span class="mrow" id="MathJax-Span-3892"><span class="mo" id="MathJax-Span-3893" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-3894" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="texatom" id="MathJax-Span-3895"><span class="mrow" id="MathJax-Span-3896"><span class="mo" id="MathJax-Span-3897" style="font-family: STIXGeneral-Regular;">|</span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.08em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-328">(1+overhead)|M| + (k+1) |r|</script></p>
<h2>Problems with PageRank:</h2>
<ul>
<li>Measures generic popularity of a page. Biased against topic-specific authorities.
<ul>
<li>Solution: Topic-Specific-PageRank. Make the random walker landing probabilty not uniform</li>
</ul>
</li>
<li>Uses a single measure of importnace:
<ul>
<li>Solution: Other models of importance, eg. Hubs and Authorities</li>
</ul>
</li>
<li>Suceptible to link spam attacks
<ul>
<li>Solution: TrustRank</li>
</ul>
</li>
</ul>
<h2>Notes</h2>
<p>(1) Every column sums to 1. M is essentially the adjacency matrix with each column divided by the out-degree.<br>
(2) In steady state<br>
(3) For graphs that satisfy certian conditions, the stationary distribution is uniqye and will eventually be reached no matter what the inital proabilty distribution is.<br>
(4) If N = 1 billion pages, we need 4 bytes for each entry, Matrix A has N^2 entries = 10^18 !!</p>
</div><div class="cell text-cell"></div></div>
 
    </body>
    </html>
  
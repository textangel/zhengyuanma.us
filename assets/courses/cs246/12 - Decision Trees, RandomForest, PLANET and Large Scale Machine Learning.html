
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="titlearea">
        <h2>Lecture 13 - PLANET - Â Decision Trees, Large Scale Machine Learning</h2>
      </div>
      <div id="contentarea"><div class="cell markdown-cell"><h2>Large Scale Machine Learning</h2>
<p>Size of data affects model performance much more than a fancy model (even Naive Bayes performs very well). - "The Unreasonable Effectiveness of Data"<br>
Decision trees can handle a fund hundred/maybe our to a thousand features.<br>
Important to do early stopping to prevent overfitting.</p>
<h2>Decision trees:</h2>
<ul>
<li>Split the data at each internal node. Split conditions are &lt; or &gt; constants.</li>
<li>At every node, we have a decision: <strong>Do we continue building the tree?</strong> (StoppingCriteria)
<ul>
<li>If yes, <strong>which variable and which value do we use for a split?</strong> (FindBestSplit)</li>
<li>If no, <strong>how do we make a prediction?</strong> (FindPrediction)</li>
</ul>
</li>
</ul>
<p>FindBestSplit is the hardest and we focus on that here, StoppingCriteria and FindPrediction are pretty basic and we go over in the appendix.</p>
<h2>FindBestSplit: How to split?</h2>
<h3><strong>Regression</strong>: Use <strong>purity</strong>:</h3>
<ul>
<li>Find split <span class="MathJax" id="MathJax-Element-793-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10195" style="width: 3.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.153em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.507em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10196"><span class="mo" id="MathJax-Span-10197" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10198"><span style="display: inline-block; position: relative; width: 1.546em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10199" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.739em;"><span class="texatom" id="MathJax-Span-10200"><span class="mrow" id="MathJax-Span-10201"><span class="mo" id="MathJax-Span-10202" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10203" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-10204" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10205" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10206" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">v</span><span class="mo" id="MathJax-Span-10207" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.274em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-793">(X^{(i)}, v)</script> that creates <span class="MathJax" id="MathJax-Element-794-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10208" style="width: 4.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.167em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.853em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10209"><span class="mi" id="MathJax-Span-10210" style="font-family: STIXGeneral-Italic;">D</span><span class="mo" id="MathJax-Span-10211" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10212" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10213" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10214" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10215" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10216" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10217" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10218" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.016em; vertical-align: -0.229em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-794">D, D_L, D_R</script>: parent, left, right child datasets and maximizes:<br>
<div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-795-Frame" style=""><nobr><span class="math" id="MathJax-Span-10219" style="width: 22.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.045em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.44em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10220"><span class="texatom" id="MathJax-Span-10221"><span class="mrow" id="MathJax-Span-10222"><span class="mo" id="MathJax-Span-10223" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10224" style="font-family: STIXGeneral-Italic;">D</span><span class="texatom" id="MathJax-Span-10225"><span class="mrow" id="MathJax-Span-10226"><span class="mo" id="MathJax-Span-10227" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-10228" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mi" id="MathJax-Span-10229" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10230" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10231" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10232" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10233" style="font-family: STIXGeneral-Italic;">D</span><span class="mo" id="MathJax-Span-10234" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10235" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mo" id="MathJax-Span-10236" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">(</span><span class="texatom" id="MathJax-Span-10237"><span class="mrow" id="MathJax-Span-10238"><span class="mo" id="MathJax-Span-10239" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-10240"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10241" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10242" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10243"><span class="mrow" id="MathJax-Span-10244"><span class="mo" id="MathJax-Span-10245" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-10246" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mi" id="MathJax-Span-10247" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10248" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10249" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10250" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10251"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10252" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10253" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10254" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10255" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="texatom" id="MathJax-Span-10256" style="padding-left: 0.25em;"><span class="mrow" id="MathJax-Span-10257"><span class="mo" id="MathJax-Span-10258" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-10259"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10260" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10261" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10262"><span class="mrow" id="MathJax-Span-10263"><span class="mo" id="MathJax-Span-10264" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-10265" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mi" id="MathJax-Span-10266" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10267" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10268" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10269" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10270"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10271" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10272" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10273" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10274" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-795">|D| \cdot Var(D) - (|D_L| \cdot Var(D_L)+|D_R| \cdot Var(D_R))</script></li>
</ul>
<p>That is, the difference of variance of the data coming in, and the sum of the variances of the data coming out is as large as possible. If the decrease in variance is as large as possible, we have increased the purity of our data.<br>
By variance, we mean variance in the output labels: <span class="MathJax" id="MathJax-Element-796-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10275" style="width: 12.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.149em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.054em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10276"><span class="mi" id="MathJax-Span-10277" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10278" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10279" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10280" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10281" style="font-family: STIXGeneral-Italic;">D</span><span class="mo" id="MathJax-Span-10282" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10283" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10284" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-10285" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -1.964em; left: 50%; margin-left: -0.197em;"><span class="mi" id="MathJax-Span-10286" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10287" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.271em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10288" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-10289"><span class="mrow" id="MathJax-Span-10290"><span class="mi" id="MathJax-Span-10291" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-10292" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">â</span><span class="mi" id="MathJax-Span-10293" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">D</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10294" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10295"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10296" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.067em; left: 0.45em;"><span class="mi" id="MathJax-Span-10297" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10298" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="texatom" id="MathJax-Span-10299" style="padding-left: 0.25em;"><span class="mrow" id="MathJax-Span-10300"><span class="munderover" id="MathJax-Span-10301"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10302" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.764em, 1000em, 2.156em, -0.496em); top: -2.569em; left: 0.056em;"><span class="mo" id="MathJax-Span-10303" style="font-family: STIXGeneral-Regular;">Â¯</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-10304"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.478em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-10305" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.712em; left: 0.338em;"><span class="mn" id="MathJax-Span-10306" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.507em; vertical-align: -0.452em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-796">Var(D) = \frac{1}{n} \sum_{i \in D}(y_i - \bar{y})^2</script></p>
<h3><strong>Classification</strong>: Use <strong>information Gain</strong></h3>
<p>Measures how much a given attribute X tells us about the calss Y.<br>
<span class="MathJax" id="MathJax-Element-797-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10307" style="width: 3.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.322em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10308"><span class="mi" id="MathJax-Span-10309" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-10310" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-10311" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10312" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="texatom" id="MathJax-Span-10313"><span class="mrow" id="MathJax-Span-10314"><span class="mo" id="MathJax-Span-10315" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10316" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mo" id="MathJax-Span-10317" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-797">IG(Y|X)</script>: We must transmit <span class="MathJax" id="MathJax-Element-798-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10318" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.429em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10319"><span class="mi" id="MathJax-Span-10320" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-798">Y</script> over a binary link. How many bits on average would it save us if both ends of the line knew <span class="MathJax" id="MathJax-Element-799-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10321" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10322"><span class="mi" id="MathJax-Span-10323" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-799">X</script>?</p>
<h4>Aside: Entropy</h4>
<p>Def: Entropy: The smallest possible number of bits on average per symbol needed to transmit a stream of symbols drawn from X's distribution.<br>
The entropy of <span class="MathJax" id="MathJax-Element-799-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10321" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10322"><span class="mi" id="MathJax-Span-10323" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-799">X</script> is defined as<br>
</p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-800-Frame" style=""><nobr><span class="math" id="MathJax-Span-10324" style="width: 12.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.655em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.753em, 1000em, 4.099em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10325"><span class="mi" id="MathJax-Span-10326" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.047em;"></span></span><span class="mo" id="MathJax-Span-10327" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10328" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mo" id="MathJax-Span-10329" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10330" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-10331" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">â</span><span class="munderover" id="MathJax-Span-10332" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0em;"><span class="mo" id="MathJax-Span-10333" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">â</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.724em, -0.594em); top: -1.159em; left: 0.113em;"><span class="texatom" id="MathJax-Span-10334"><span class="mrow" id="MathJax-Span-10335"><span class="mi" id="MathJax-Span-10336" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-10337" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-10338" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.728em, 1000em, 2.484em, -0.498em); top: -3.509em; left: 0.394em;"><span class="mi" id="MathJax-Span-10339" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-10340" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">p</span><span class="mo" id="MathJax-Span-10341" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10342"><span style="display: inline-block; position: relative; width: 0.932em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10343" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.632em;"><span class="mi" id="MathJax-Span-10344" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10345" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-10346" style="font-family: STIXGeneral-Regular; padding-left: 0.188em;">log</span><span class="mo" id="MathJax-Span-10347"></span><span class="mi" id="MathJax-Span-10348" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">p</span><span class="mo" id="MathJax-Span-10349" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10350"><span style="display: inline-block; position: relative; width: 0.804em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.534em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10351" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.504em;"><span class="mi" id="MathJax-Span-10352" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10353" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.464em; vertical-align: -1.612em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-800">H(X) = -\sum_{j=1}^m p(X_j) \log p(x_j)</script><p></p>
<p>Low entropy: X is from a uniform distribution (entropy= 1 if evenly distributed, 0 if all the same), High entropy: X is from a varied (peaks/valleys) distribution. A histogram of the frequency distribution of values of X would have many lows and one or two highs.</p>
<h4>Information Gain (Used for classifications)</h4>
<p>Def: Specific conditional entropy:</p>
<ul>
<li><span class="MathJax" id="MathJax-Element-801-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10354" style="width: 5.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.561em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10355"><span class="mi" id="MathJax-Span-10356" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.047em;"></span></span><span class="mo" id="MathJax-Span-10357" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10358" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="texatom" id="MathJax-Span-10359"><span class="mrow" id="MathJax-Span-10360"><span class="mo" id="MathJax-Span-10361" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10362" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-10363" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-10364" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">v</span><span class="mo" id="MathJax-Span-10365" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-801">H(Y|x=v)</script>   - the entropy of <span class="MathJax" id="MathJax-Element-798-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10318" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.429em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10319"><span class="mi" id="MathJax-Span-10320" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-798">Y</script> among only those records in which <span class="MathJax" id="MathJax-Element-799-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10321" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10322"><span class="mi" id="MathJax-Span-10323" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-799">X</script> has value <span class="MathJax" id="MathJax-Element-802-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10366" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.721em, -0.487em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10367"><span class="mi" id="MathJax-Span-10368" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.634em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-802">v</script>.</li>
</ul>
<p>Def: Conditional Entropy:</p>
<ul>
<li><span class="MathJax" id="MathJax-Element-803-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10369" style="width: 3.328em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.984em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10370"><span class="mi" id="MathJax-Span-10371" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.047em;"></span></span><span class="mo" id="MathJax-Span-10372" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10373" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="texatom" id="MathJax-Span-10374"><span class="mrow" id="MathJax-Span-10375"><span class="mo" id="MathJax-Span-10376" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10377" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mo" id="MathJax-Span-10378" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-803">H(Y|X)</script>    -  The average specific conditional entropy of Y = <span class="MathJax" id="MathJax-Element-804-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10379" style="width: 11.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.304em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.604em, 1000em, 3.145em, -0.449em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10380"><span class="munderover" id="MathJax-Span-10381"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10382" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="mi" id="MathJax-Span-10383" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mi" id="MathJax-Span-10384" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">P</span><span class="mo" id="MathJax-Span-10385" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10386" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mo" id="MathJax-Span-10387" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-10388" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.721em, -0.487em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10389" style="font-family: STIXGeneral-Italic;">v</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10390" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10391" style="font-family: STIXGeneral-Regular;">)</span><span class="mi" id="MathJax-Span-10392" style="font-family: STIXGeneral-Italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.047em;"></span></span><span class="mo" id="MathJax-Span-10393" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10394" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="texatom" id="MathJax-Span-10395"><span class="mrow" id="MathJax-Span-10396"><span class="mo" id="MathJax-Span-10397" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10398" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-10399" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-10400" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.721em, -0.487em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10401" style="font-family: STIXGeneral-Italic;">v</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="mi" id="MathJax-Span-10402" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10403" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.461em; vertical-align: -0.554em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-804">\sum_j P(X=v_j) H (Y|x=v_j)</script>.
<ul>
<li>= If you chose a record at random and you know the row's value of <span class="MathJax" id="MathJax-Element-799-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10321" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10322"><span class="mi" id="MathJax-Span-10323" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-799">X</script>, what will be the  entropy of <span class="MathJax" id="MathJax-Element-798-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10318" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.429em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10319"><span class="mi" id="MathJax-Span-10320" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-798">Y</script>.</li>
<li>= Expected number of bits to transmit Y if both sides will know the value of <span class="MathJax" id="MathJax-Element-799-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10321" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10322"><span class="mi" id="MathJax-Span-10323" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-799">X</script>.</li>
</ul>
</li>
</ul>
<p>Def: Information Gain:<br>
</p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-805-Frame" style=""><nobr><span class="math" id="MathJax-Span-10404" style="width: 12.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.867em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10405"><span class="mi" id="MathJax-Span-10406" style="font-family: STIXGeneral-Italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.051em;"></span></span><span class="mi" id="MathJax-Span-10407" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-10408" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10409" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="texatom" id="MathJax-Span-10410"><span class="mrow" id="MathJax-Span-10411"><span class="mo" id="MathJax-Span-10412" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10413" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mo" id="MathJax-Span-10414" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10415" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-10416" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.047em;"></span></span><span class="mo" id="MathJax-Span-10417" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10418" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mo" id="MathJax-Span-10419" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10420" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mi" id="MathJax-Span-10421" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.047em;"></span></span><span class="mo" id="MathJax-Span-10422" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10423" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="texatom" id="MathJax-Span-10424"><span class="mrow" id="MathJax-Span-10425"><span class="mo" id="MathJax-Span-10426" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10427" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="mo" id="MathJax-Span-10428" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-805">IG(Y|X) = H(Y)-H(Y|X)</script><br>
I must transmit <span class="MathJax" id="MathJax-Element-798-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10318" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.429em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10319"><span class="mi" id="MathJax-Span-10320" style="font-family: STIXGeneral-Italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-798">Y</script>, how many bits on average would it save me if both ends of the line knew <span class="MathJax" id="MathJax-Element-799-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10321" style="width: 0.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.676em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10322"><span class="mi" id="MathJax-Span-10323" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-799">X</script>?<br>
Tells us how much info about Y is contained in X.<p></p>
</div><div class="cell text-cell"><img src="resources/A5D36A1776E9777DF64A2EE5967064A4.png" alt="Screenshot 2019-10-29 at 11.05.27 PM.png" width="337" height="105"></div><div class="cell markdown-cell"><h2>PLANET - Building Distributed Decision Trees Using MapReduce</h2>
<p>General considerations when building a tree:<br>
Sometimes, dataset too large to keep in memory, or dataset too big to scan over in a single machine.</p>
<h3>PLANET - Parallel Learner for Assembling Numerous Ensemble Trees.</h3>
<p>(Panda et al, 2009] Still the state of the art for building large-scale decision trees. A sequence of Spark jobs builds a decision tree. SPark MLLib Decision Trees are based on PLANET.</p>
<p>Setting:</p>
<ul>
<li>Handles hundreds of numerical (discrete and continuous, but not categorical) attributes (although prob now extended)</li>
<li>Target variable is numerical: Regression (although prob now extended)</li>
<li>Splits are binary; <span class="MathJax" id="MathJax-Element-806-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10429" style="width: 3.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.322em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.507em, 1000em, 2.727em, -0.536em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10430"><span class="msubsup" id="MathJax-Span-10431"><span style="display: inline-block; position: relative; width: 1.546em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10432" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.739em;"><span class="texatom" id="MathJax-Span-10433"><span class="mrow" id="MathJax-Span-10434"><span class="mo" id="MathJax-Span-10435" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10436" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-10437" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10438" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mi" id="MathJax-Span-10439" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">v</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.104em; vertical-align: -0.089em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-806">X^{(j)} < v</script></li>
<li>Decision three is small enough for each mapper to keep in memory, but full data is too large to keep in memory.</li>
</ul>
<p><strong>PLANET Architecture:</strong><br>
Master keeps track of the model and decides how to grow the tree. The tree is grown level by level, where each level is one MapReduce job.<br>
Master takes the current model, the attribute metadata, and the input data, and builds the next level of the tree. These MapReduce jobs each get a set of split candidates and compute their quality.</p>
</div><div class="cell text-cell"><img src="resources/583E0C9E30C30C0D2F1F230A1CB607D5.png" alt="Screenshot 2019-10-29 at 11.30.10 PM.png" width="582" height="448"></div><div class="cell markdown-cell"><p><strong>Algo:</strong><br>
Tree is built in levels. For each level:<br>
1. Master decides candidate splits <span class="MathJax" id="MathJax-Element-807-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10440" style="width: 4.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.11em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.507em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10441"><span class="mo" id="MathJax-Span-10442" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10443" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-10444" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10445" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.546em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10446" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.739em;"><span class="texatom" id="MathJax-Span-10447"><span class="mrow" id="MathJax-Span-10448"><span class="mo" id="MathJax-Span-10449" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10450" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-10451" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10452" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10453" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">v</span><span class="mo" id="MathJax-Span-10454" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.274em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-807">(n, X^{(j)}, v)</script> and tells each mapper which splits <span class="MathJax" id="MathJax-Element-807-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10440" style="width: 4.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.11em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.507em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10441"><span class="mo" id="MathJax-Span-10442" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10443" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-10444" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10445" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.546em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10446" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.739em;"><span class="texatom" id="MathJax-Span-10447"><span class="mrow" id="MathJax-Span-10448"><span class="mo" id="MathJax-Span-10449" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10450" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-10451" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10452" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10453" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">v</span><span class="mo" id="MathJax-Span-10454" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.274em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-807">(n, X^{(j)}, v)</script> to consider.<br>
2. Each mapper gets a subset of data and computes partial statistics for a given split.<br>
3. Reducers collect <em>partial statistics</em> and ourput the quality for a given split <span class="MathJax" id="MathJax-Element-807-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10440" style="width: 4.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.11em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.507em, 1000em, 2.88em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10441"><span class="mo" id="MathJax-Span-10442" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10443" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-10444" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10445" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.546em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10446" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.739em;"><span class="texatom" id="MathJax-Span-10447"><span class="mrow" id="MathJax-Span-10448"><span class="mo" id="MathJax-Span-10449" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10450" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-10451" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10452" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10453" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">v</span><span class="mo" id="MathJax-Span-10454" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.274em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-807">(n, X^{(j)}, v)</script>.<br>
4. Master makes the final decision as to where to split and grows the tree for one level.<br>
\</p>
</div><div class="cell text-cell"><img src="resources/D524FC56ED40146BA736D8AF7460A988.png" alt="Screenshot 2019-10-29 at 11.34.03 PM.png" width="564" height="402"></div><div class="cell markdown-cell"><p><strong>Here is a summary of the breakdown of tasks between mapper, reducer, and master:</strong> (2)</p>
<ul>
<li>
<p><strong>Mapper</strong> loads the current Tree model and info about which attribute splits (split is a tuple &lt;NodeID, Attribute, Value&gt;) to consider.</p>
<ul>
<li>Each mapper sees a subset of the data <span class="MathJax" id="MathJax-Element-808-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10455" style="width: 1.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.239em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.314em, 1000em, 2.365em, -0.515em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10456"><span class="msubsup" id="MathJax-Span-10457"><span style="display: inline-block; position: relative; width: 1.201em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10458" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.732em;"><span class="mo" id="MathJax-Span-10459" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">â</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.916em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-808">D^*</script></li>
<li>Mapper classifies each datapoint <span class="MathJax" id="MathJax-Element-809-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10460" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.716em, -0.492em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10461"><span class="mi" id="MathJax-Span-10462" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.898em; vertical-align: -0.077em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-809">d</script> using the tree to find the leaf node <span class="MathJax" id="MathJax-Element-810-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10463" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10464"><span class="mi" id="MathJax-Span-10465" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-810">L</script> where <span class="MathJax" id="MathJax-Element-809-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10460" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.716em, -0.492em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10461"><span class="mi" id="MathJax-Span-10462" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.898em; vertical-align: -0.077em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-809">d</script> lands</li>
<li>For each leaf node <span class="MathJax" id="MathJax-Element-810-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10463" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10464"><span class="mi" id="MathJax-Span-10465" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-810">L</script> mapper keeps statistics about
<ol>
<li>the data reaching <span class="MathJax" id="MathJax-Element-810-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10463" style="width: 0.703em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.619em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10464"><span class="mi" id="MathJax-Span-10465" style="font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.85em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-810">L</script></li>
<li>The data in the left/right subtree under some split <span class="MathJax" id="MathJax-Element-811-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10466" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10467"><span class="mi" id="MathJax-Span-10468" style="font-family: STIXGeneral-Italic;">s</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.63em; vertical-align: -0.077em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-811">s</script>.</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Reducer</strong> aggregates the statistics (i),(ii) above and determines  the best split for each tree node.</p>
</li>
<li>
<p><strong>Master</strong> monitors everything and runs multiple MapReduce jobs, below.</p>
</li>
</ul>
<p><strong>In total, there are three types of MapReduce Jobs</strong></p>
<ol>
<li>MapReduce <strong>Initialization</strong> (ron once first)
<ul>
<li>For each attribute, identify values to be considered for splits.</li>
</ul>
</li>
<li>MapReduce <strong>FindBestSplit</strong> (run multiple times, once per level)
<ul>
<li>Mapreduce job to find best split (when there is too much data to fit in memory)</li>
</ul>
</li>
<li>MapReduce <strong>InMemoryBuild</strong> (run once last)
<ul>
<li>Similar to BuildSubTree but for small data.</li>
<li>Grows an entire sub-tree once the data fits in memory.<br>
Output: a model file: A file describing the state of the model.</li>
</ul>
</li>
</ol>
<h2><strong>PLANET Components:</strong></h2>
<h3><strong>Master Node</strong>:</h3>
<ul>
<li>Controls the entire process</li>
<li>Determines teh state of the tree and grows it
<ol>
<li>Decide if nodes should be split</li>
<li>If there is little data entering a tree node, Master runs an InMemoryBuild MapReduce job to grow the entire subtree below that node.</li>
<li>FOr larger nodes, Master launches MapReduce FindBestSplit to evaluate candidates for the best split. Master also collects results from FindBestSplit and chooses the best split for a node.</li>
</ol>
</li>
</ul>
<h3><strong>MapReduce</strong> <strong>Initialization</strong>:</h3>
<ul>
<li>Main question: which splits to even consider?
<ul>
<li>A split is defined by a triple: (node n, attribute <span class="MathJax" id="MathJax-Element-812-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10469" style="width: 1.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.577em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.169em, 1000em, 2.365em, -0.536em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10470"><span class="msubsup" id="MathJax-Span-10471"><span style="display: inline-block; position: relative; width: 1.546em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10472" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.739em;"><span class="texatom" id="MathJax-Span-10473"><span class="mrow" id="MathJax-Span-10474"><span class="mo" id="MathJax-Span-10475" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10476" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-10477" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.077em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-812">X^{(j)}</script>, value v).</li>
</ul>
</li>
<li>Intiatlization: Identify all the attribute values needed to be considered for split. The initalization process generates 'attribute metadata' to be loaded in memory by other tasks. (4)</li>
<li>We use hashing to perform the split. Suppose we want B buckets. First hash the data, then sort and then take B-1 equally spaced splits. (5)
<ul>
<li>To speed this up in practice, hash to spread out the data, sample and take equally spaced splits in the sample to compute the split boundaries. Very easy.</li>
</ul>
</li>
</ul>
</div><div class="cell text-cell"><img src="resources/4AEC23B3F32B19A4D2514685A0514A8A.png" alt="Screenshot 2019-10-30 at 12.01.33 AM.png" width="473" height="34"></div><div class="cell markdown-cell"><h3><strong>MapReduce</strong> <strong>FindBestSplit</strong>:</h3>
<p>Goal: For a particular split node <span class="MathJax" id="MathJax-Element-813-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10478" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.712em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10479"><span class="mi" id="MathJax-Span-10480" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.625em; vertical-align: -0.072em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-813">n</script> find attribute <span class="MathJax" id="MathJax-Element-812-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10469" style="width: 1.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.577em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.169em, 1000em, 2.365em, -0.536em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10470"><span class="msubsup" id="MathJax-Span-10471"><span style="display: inline-block; position: relative; width: 1.546em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10472" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.739em;"><span class="texatom" id="MathJax-Span-10473"><span class="mrow" id="MathJax-Span-10474"><span class="mo" id="MathJax-Span-10475" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10476" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-10477" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.077em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-812">X^{(j)}</script> and value <span class="MathJax" id="MathJax-Element-802-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10366" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.721em, -0.487em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10367"><span class="mi" id="MathJax-Span-10368" style="font-family: STIXGeneral-Italic;">v</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.634em; vertical-align: -0.082em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-802">v</script> that maximize purity</p>
<p></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-795-Frame" style=""><nobr><span class="math" id="MathJax-Span-10219" style="width: 22.266em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.045em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.44em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10220"><span class="texatom" id="MathJax-Span-10221"><span class="mrow" id="MathJax-Span-10222"><span class="mo" id="MathJax-Span-10223" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10224" style="font-family: STIXGeneral-Italic;">D</span><span class="texatom" id="MathJax-Span-10225"><span class="mrow" id="MathJax-Span-10226"><span class="mo" id="MathJax-Span-10227" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-10228" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mi" id="MathJax-Span-10229" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10230" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10231" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10232" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10233" style="font-family: STIXGeneral-Italic;">D</span><span class="mo" id="MathJax-Span-10234" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10235" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mo" id="MathJax-Span-10236" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">(</span><span class="texatom" id="MathJax-Span-10237"><span class="mrow" id="MathJax-Span-10238"><span class="mo" id="MathJax-Span-10239" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-10240"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10241" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10242" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10243"><span class="mrow" id="MathJax-Span-10244"><span class="mo" id="MathJax-Span-10245" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-10246" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mi" id="MathJax-Span-10247" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10248" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10249" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10250" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10251"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10252" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10253" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10254" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10255" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="texatom" id="MathJax-Span-10256" style="padding-left: 0.25em;"><span class="mrow" id="MathJax-Span-10257"><span class="mo" id="MathJax-Span-10258" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="msubsup" id="MathJax-Span-10259"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10260" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10261" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10262"><span class="mrow" id="MathJax-Span-10263"><span class="mo" id="MathJax-Span-10264" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-10265" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="mi" id="MathJax-Span-10266" style="font-family: STIXGeneral-Italic; padding-left: 0.25em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10267" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10268" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10269" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10270"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10271" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10272" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10273" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10274" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-795">|D| \cdot Var(D) - (|D_L| \cdot Var(D_L)+|D_R| \cdot Var(D_R))</script><br>
where <span class="MathJax" id="MathJax-Element-794-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10208" style="width: 4.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.167em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.853em, -0.515em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10209"><span class="mi" id="MathJax-Span-10210" style="font-family: STIXGeneral-Italic;">D</span><span class="mo" id="MathJax-Span-10211" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10212" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10213" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10214" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">L<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10215" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10216" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10217" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10218" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.016em; vertical-align: -0.229em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-794">D, D_L, D_R</script> are the parent, left child, and right child datasets produced by the split.<p></p>
<p>Note that <span class="MathJax" id="MathJax-Element-814-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10481" style="width: 12.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.149em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.471em, 1000em, 3.054em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10482"><span class="mi" id="MathJax-Span-10483" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10484" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10485" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10486" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10487" style="font-family: STIXGeneral-Italic;">D</span><span class="mo" id="MathJax-Span-10488" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10489" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10490" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-10491" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -1.964em; left: 50%; margin-left: -0.197em;"><span class="mi" id="MathJax-Span-10492" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10493" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.271em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10494" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-10495"><span class="mrow" id="MathJax-Span-10496"><span class="mi" id="MathJax-Span-10497" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-10498" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">â</span><span class="mi" id="MathJax-Span-10499" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">D</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10500" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-10501"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10502" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.067em; left: 0.45em;"><span class="mi" id="MathJax-Span-10503" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10504" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="texatom" id="MathJax-Span-10505" style="padding-left: 0.25em;"><span class="mrow" id="MathJax-Span-10506"><span class="munderover" id="MathJax-Span-10507"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10508" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.764em, 1000em, 2.156em, -0.496em); top: -2.569em; left: 0.056em;"><span class="mo" id="MathJax-Span-10509" style="font-family: STIXGeneral-Regular;">Â¯</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-10510"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.478em); top: -2.534em; left: 0em;"><span class="mo" id="MathJax-Span-10511" style="font-family: STIXGeneral-Regular;">)</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.712em; left: 0.338em;"><span class="mn" id="MathJax-Span-10512" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.507em; vertical-align: -0.452em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-814">Var(D) = \frac{1}{n} \sum_{i \in D}(y_i - \bar{y})^2 </script><br>
<span class="MathJax" id="MathJax-Element-815-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10513" style="width: 13.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.275em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.233em, 1000em, 3.129em, -0.459em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10514"><span class="mo" id="MathJax-Span-10515" style="font-family: STIXGeneral-Regular;">=</span><span class="mfrac" id="MathJax-Span-10516" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-10517" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -1.964em; left: 50%; margin-left: -0.197em;"><span class="mi" id="MathJax-Span-10518" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10519" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.271em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10520" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-10521"><span class="mrow" id="MathJax-Span-10522"><span class="mi" id="MathJax-Span-10523" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-10524" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">â</span><span class="mi" id="MathJax-Span-10525" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">D</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10526" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-10527"><span class="msubsup" id="MathJax-Span-10528"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10529" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -2.653em; left: 0.45em;"><span class="mn" id="MathJax-Span-10530" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.677em, 1000em, 2.485em, -0.472em); top: -2.011em; left: 0.45em;"><span class="mi" id="MathJax-Span-10531" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10532" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="msubsup" id="MathJax-Span-10533" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 5.706em; height: 0px;"><span style="position: absolute; clip: rect(2.058em, 1000em, 3.749em, -0.354em); top: -3.153em; left: 0em;"><span class="mrow" id="MathJax-Span-10534"><span class="mo" id="MathJax-Span-10535" style="vertical-align: -0.246em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">(</span></span></span><span class="mfrac" id="MathJax-Span-10536"><span style="display: inline-block; position: relative; width: 0.514em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.428em); top: -2.724em; left: 50%; margin-left: -0.197em;"><span class="mn" id="MathJax-Span-10537" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.484em, -0.497em); top: -1.964em; left: 50%; margin-left: -0.197em;"><span class="mi" id="MathJax-Span-10538" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 0.514em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10539" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 2.271em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10540" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-10541"><span class="mrow" id="MathJax-Span-10542"><span class="mi" id="MathJax-Span-10543" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-10544" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">â</span><span class="mi" id="MathJax-Span-10545" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">D</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="texatom" id="MathJax-Span-10546" style="padding-left: 0.188em;"><span class="mrow" id="MathJax-Span-10547"><span class="msubsup" id="MathJax-Span-10548"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10549" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.067em; left: 0.45em;"><span class="mi" id="MathJax-Span-10550" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span></span><span class="mo" id="MathJax-Span-10551" style="vertical-align: -0.246em;"><span><span style="font-size: 110%; font-family: STIXSizeOneSym;">)</span></span></span></span><span style="display: inline-block; width: 0px; height: 3.153em;"></span></span><span style="position: absolute; top: -2.962em; left: 5.236em;"><span class="mn" id="MathJax-Span-10552" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.854em; vertical-align: -0.536em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-815">= \frac{1}{n} \sum_{i \in D}{y_i^2} - \left( \frac{1}{n} \sum_{i \in D} {y_i} \right)^2</script>.<br>
Important observaition: Variance can be computed from sufficient statistics: <span class="MathJax" id="MathJax-Element-816-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10553" style="width: 10.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.403em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.542em, 1000em, 3.008em, -0.527em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10554"><span class="mi" id="MathJax-Span-10555" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mo" id="MathJax-Span-10556" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10557" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span class="mo" id="MathJax-Span-10558" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-10559" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em; padding-left: 0.313em;">â</span><span class="msubsup" id="MathJax-Span-10560" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10561" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.067em; left: 0.45em;"><span class="mi" id="MathJax-Span-10562" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10563" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-10564" style="font-family: STIXGeneral-Italic; padding-left: 0.188em;">Q</span><span class="mo" id="MathJax-Span-10565" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mo" id="MathJax-Span-10566" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em; padding-left: 0.313em;">â</span><span class="msubsup" id="MathJax-Span-10567" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10568" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(1.662em, 1000em, 2.477em, -0.486em); top: -2.653em; left: 0.45em;"><span class="mn" id="MathJax-Span-10569" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span><span style="position: absolute; clip: rect(1.677em, 1000em, 2.485em, -0.472em); top: -2.011em; left: 0.45em;"><span class="mi" id="MathJax-Span-10570" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.377em; vertical-align: -0.402em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-816">N, S=\sum y_i, Q=\sum y_i ^2</script><br>
- So each mapper processes subset of data <span class="MathJax" id="MathJax-Element-817-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10571" style="width: 1.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.408em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.374em, 1000em, 2.521em, -0.515em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10572"><span class="msubsup" id="MathJax-Span-10573"><span style="display: inline-block; position: relative; width: 1.37em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10574" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10575" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.023em; vertical-align: -0.236em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-817">D_m</script> and computes <span class="MathJax" id="MathJax-Element-818-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10576" style="width: 5.391em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.842em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.926em, -0.527em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10577"><span class="msubsup" id="MathJax-Span-10578"><span style="display: inline-block; position: relative; width: 1.366em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10579" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.728em;"><span class="mi" id="MathJax-Span-10580" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10581" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10582" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.193em; height: 0px;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10583" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.555em;"><span class="mi" id="MathJax-Span-10584" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10585" style="font-family: STIXGeneral-Regular;">,</span><span class="msubsup" id="MathJax-Span-10586" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.37em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10587" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.091em; left: 0.732em;"><span class="mi" id="MathJax-Span-10588" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.114em; vertical-align: -0.311em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-818">N_m, S_m, Q_m</script> for its own <span class="MathJax" id="MathJax-Element-817-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10571" style="width: 1.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.408em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.374em, 1000em, 2.521em, -0.515em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10572"><span class="msubsup" id="MathJax-Span-10573"><span style="display: inline-block; position: relative; width: 1.37em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.515em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10574" style="font-family: STIXGeneral-Italic;">D</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.732em;"><span class="mi" id="MathJax-Span-10575" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.023em; vertical-align: -0.236em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-817">D_m</script>.<br>
- Each reducer combines the statistics and computes global variances and then purity:<br>
</p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-819-Frame" style=""><nobr><span class="math" id="MathJax-Span-10589" style="width: 23.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.721em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.372em, 1000em, 3.99em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10590"><span class="mi" id="MathJax-Span-10591" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10592" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10593" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10594" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10595" style="font-family: STIXGeneral-Italic;">D</span><span class="mo" id="MathJax-Span-10596" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10597" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10598" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 3.27em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-10599" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.068em, 1000em, 4.469em, -0.449em); top: -3.256em; left: 50%; margin-left: -1.575em;"><span class="mrow" id="MathJax-Span-10600"><span class="munderover" id="MathJax-Span-10601"><span style="display: inline-block; position: relative; width: 1.595em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10602" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="mi" id="MathJax-Span-10603" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10604" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.366em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10605" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.728em;"><span class="mi" id="MathJax-Span-10606" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 3.27em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10607" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0em;"><span class="mo" id="MathJax-Span-10608" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">â</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.584em, -0.498em); top: -1.159em; left: 0.394em;"><span class="mi" id="MathJax-Span-10609" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10610" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.37em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10611" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.091em; left: 0.732em;"><span class="mi" id="MathJax-Span-10612" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10613" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="msubsup" id="MathJax-Span-10614" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 8.577em; height: 0px;"><span style="position: absolute; clip: rect(2.154em, 1000em, 5.567em, -0.383em); top: -4.11em; left: 0em;"><span class="mrow" id="MathJax-Span-10615"><span class="mo" id="MathJax-Span-10616" style="vertical-align: -0.778em;"><span style="font-family: STIXSizeFourSym;">(</span></span><span class="mfrac" id="MathJax-Span-10617"><span style="display: inline-block; position: relative; width: 3.27em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-10618" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.068em, 1000em, 4.469em, -0.449em); top: -3.256em; left: 50%; margin-left: -1.575em;"><span class="mrow" id="MathJax-Span-10619"><span class="munderover" id="MathJax-Span-10620"><span style="display: inline-block; position: relative; width: 1.595em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10621" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="mi" id="MathJax-Span-10622" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10623" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.366em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10624" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.728em;"><span class="mi" id="MathJax-Span-10625" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 3.27em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10626" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0em;"><span class="mo" id="MathJax-Span-10627" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">â</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.584em, -0.498em); top: -1.159em; left: 0.394em;"><span class="mi" id="MathJax-Span-10628" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10629" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.193em; height: 0px;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10630" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.555em;"><span class="mi" id="MathJax-Span-10631" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10632" style="vertical-align: -0.778em;"><span style="font-family: STIXSizeFourSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.11em;"></span></span><span style="position: absolute; top: -3.823em; left: 8.108em;"><span class="mn" id="MathJax-Span-10633" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.766em; vertical-align: -1.492em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-819">Var(D) = \frac{1}{\sum_m N_m}\sum_m Q_m - \left( \frac{1}{\sum_m N_m}\sum_m S_m\right)^2</script><p></p>
<h4>The process for each component is as follows:</h4>
<p><strong>Mapper</strong></p>
<ul>
<li>
<p>Mapper is initialized by loading results of <strong>initialization task</strong></p>
<ul>
<li><strong>Current model</strong> (to find which node each datapoint x_i ends up)<br>
<strong>Attribute metadata</strong> (all split points for each attribute)<br>
Load the set of <strong>candidate splits</strong> ({node, attribute, values})</li>
</ul>
</li>
<li>
<p>For each data record run the Map Algo:</p>
<ul>
<li>For each tree node store statistics of the data entering the node and at the end emit to all reducers:
<ul>
<li>&lt;NodeID, {S, Q, N}&gt;</li>
</ul>
</li>
<li>For each split, store statistics and at the end emit
<ul>
<li>&lt;SplitID, {S, Q, N} &gt;
<ul>
<li>SplitID = {nodeID, Attribute <span class="MathJax" id="MathJax-Element-820-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10634" style="width: 1.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.577em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.169em, 1000em, 2.365em, -0.536em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10635"><span class="msubsup" id="MathJax-Span-10636"><span style="display: inline-block; position: relative; width: 1.546em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.703em, -0.536em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10637" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.689em; left: 0.739em;"><span class="texatom" id="MathJax-Span-10638"><span class="mrow" id="MathJax-Span-10639"><span class="mo" id="MathJax-Span-10640" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10641" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-10642" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.077em; vertical-align: -0.063em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-820">X^{(i)}</script>, split value v}<br>
<strong>Reducer</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<ol>
<li>Load all the &lt;NodeID, List {S_m, Q_m, N_m}&gt; pairs and aggregate per node statistics.</li>
<li>For all the &lt;SplitID, List {S_m, Q_m, N_m}&gt; aggregate the statistics:</li>
</ol>
<p></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-819-Frame" style=""><nobr><span class="math" id="MathJax-Span-10589" style="width: 23.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.721em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.372em, 1000em, 3.99em, -0.431em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10590"><span class="mi" id="MathJax-Span-10591" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.077em;"></span></span><span class="mi" id="MathJax-Span-10592" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10593" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10594" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10595" style="font-family: STIXGeneral-Italic;">D</span><span class="mo" id="MathJax-Span-10596" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10597" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-10598" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 3.27em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-10599" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.068em, 1000em, 4.469em, -0.449em); top: -3.256em; left: 50%; margin-left: -1.575em;"><span class="mrow" id="MathJax-Span-10600"><span class="munderover" id="MathJax-Span-10601"><span style="display: inline-block; position: relative; width: 1.595em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10602" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="mi" id="MathJax-Span-10603" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10604" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.366em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10605" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.728em;"><span class="mi" id="MathJax-Span-10606" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 3.27em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10607" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0em;"><span class="mo" id="MathJax-Span-10608" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">â</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.584em, -0.498em); top: -1.159em; left: 0.394em;"><span class="mi" id="MathJax-Span-10609" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10610" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.37em; height: 0px;"><span style="position: absolute; clip: rect(1.699em, 1000em, 2.885em, -0.448em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10611" style="font-family: STIXGeneral-Italic;">Q</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.091em; left: 0.732em;"><span class="mi" id="MathJax-Span-10612" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10613" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">â</span><span class="msubsup" id="MathJax-Span-10614" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 8.577em; height: 0px;"><span style="position: absolute; clip: rect(2.154em, 1000em, 5.567em, -0.383em); top: -4.11em; left: 0em;"><span class="mrow" id="MathJax-Span-10615"><span class="mo" id="MathJax-Span-10616" style="vertical-align: -0.778em;"><span style="font-family: STIXSizeFourSym;">(</span></span><span class="mfrac" id="MathJax-Span-10617"><span style="display: inline-block; position: relative; width: 3.27em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.703em, -0.396em); top: -3.21em; left: 50%; margin-left: -0.253em;"><span class="mn" id="MathJax-Span-10618" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.068em, 1000em, 4.469em, -0.449em); top: -3.256em; left: 50%; margin-left: -1.575em;"><span class="mrow" id="MathJax-Span-10619"><span class="munderover" id="MathJax-Span-10620"><span style="display: inline-block; position: relative; width: 1.595em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-10621" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">â</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="mi" id="MathJax-Span-10622" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10623" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.366em; height: 0px;"><span style="position: absolute; clip: rect(1.712em, 1000em, 2.718em, -0.527em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10624" style="font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.728em;"><span class="mi" id="MathJax-Span-10625" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 3.27em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span><span class="munderover" id="MathJax-Span-10626" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.351em; height: 0px;"><span style="position: absolute; clip: rect(1.84em, 1000em, 3.628em, -0.417em); top: -2.984em; left: 0em;"><span class="mo" id="MathJax-Span-10627" style="font-family: STIXSizeOneSym; vertical-align: -0.524em;">â</span><span style="display: inline-block; width: 0px; height: 2.984em;"></span></span><span style="position: absolute; clip: rect(1.828em, 1000em, 2.584em, -0.498em); top: -1.159em; left: 0.394em;"><span class="mi" id="MathJax-Span-10628" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-10629" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 1.193em; height: 0px;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10630" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.555em;"><span class="mi" id="MathJax-Span-10631" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">m</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-10632" style="vertical-align: -0.778em;"><span style="font-family: STIXSizeFourSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.11em;"></span></span><span style="position: absolute; top: -3.823em; left: 8.108em;"><span class="mn" id="MathJax-Span-10633" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.766em; vertical-align: -1.492em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-819">Var(D) = \frac{1}{\sum_m N_m}\sum_m Q_m - \left( \frac{1}{\sum_m N_m}\sum_m S_m\right)^2</script><p></p>
<p>For each NodeID, output the best split found.</p>
</li>
</ul>
</div><div class="cell text-cell"><img src="resources/668093002847E44DE1F02CA1EE7015B4.png" alt="Screenshot 2019-10-30 at 12.23.24 AM.png" width="590" height="451"></div><div class="cell markdown-cell"><h2>Summary</h2>
</div><div class="cell text-cell"><img src="resources/03D0EEA854CD753456434E67AF385806.png" alt="Screenshot 2019-10-30 at 12.25.37 AM.png" width="596" height="443"></div><div class="cell text-cell"><img src="resources/5ED295E47986AE4D28C16A5DABF9A8CA.png" alt="Screenshot 2019-10-30 at 12.28.44 AM.png" width="597" height="413"></div><div class="cell markdown-cell"><p>Ensemble of Decision Trees</p>
<ul>
<li>Bagging
<ul>
<li>How to use random samples of the dataset? You can use hashing.</li>
<li>Random forest is feature bagging on top of bagged decision trees. Start of the art on calssification problems with dense features.</li>
</ul>
</li>
</ul>
<h2>Appendix:</h2>
<p>(1)<br>
<strong>StoppingCriteria</strong>: When to stop splitting?<br>
If you split too much, you overfit.</p>
<p>Two ideas for when to stop:</p>
<ol>
<li>When the lead is pure in calssification, or in regression, when <span class="MathJax" id="MathJax-Element-821-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10643" style="width: 4.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.279em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.909em, -0.487em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10644"><span class="mi" id="MathJax-Span-10645" style="font-family: STIXGeneral-Italic;">v</span><span class="mi" id="MathJax-Span-10646" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-10647" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span class="mo" id="MathJax-Span-10648" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-10649" style="font-family: STIXGeneral-Italic;">y</span><span class="mo" id="MathJax-Span-10650" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-10651" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mi" id="MathJax-Span-10652" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">Ïµ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.104em; vertical-align: -0.291em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-821">var(y) < \epsilon</script> for a low threshold <span class="MathJax" id="MathJax-Element-822-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10653" style="width: 0.516em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.714em, -0.477em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10654"><span class="mi" id="MathJax-Span-10655" style="font-family: STIXGeneral-Italic;">Ïµ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.627em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-822">\epsilon</script></li>
<li>When # of examples in the leaf is too small, ex. <span class="MathJax" id="MathJax-Element-823-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10656" style="width: 4.453em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.998em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.727em, -0.44em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-10657"><span class="texatom" id="MathJax-Span-10658"><span class="mrow" id="MathJax-Span-10659"><span class="mo" id="MathJax-Span-10660" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-10661" style="font-family: STIXGeneral-Italic;">D</span><span class="texatom" id="MathJax-Span-10662"><span class="mrow" id="MathJax-Span-10663"><span class="mo" id="MathJax-Span-10664" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-10665" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">&lt;</span><span class="mn" id="MathJax-Span-10666" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">100</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.902em; vertical-align: -0.089em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-823">|D| < 100</script>.</li>
</ol>
<p><strong>FindPrediction</strong>: How to Predict?<br>
Regression</p>
<ul>
<li>Predict average <span class="MathJax" id="MathJax-Element-824-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-10667" style="width: 0.891em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.788em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.586em, 1000em, 2.614em, -0.531em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-10668"><span class="msubsup" id="MathJax-Span-10669"><span style="display: inline-block; position: relative; width: 0.751em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.909em, -0.531em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-10670" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.067em; left: 0.45em;"><span class="mi" id="MathJax-Span-10671" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.891em; vertical-align: -0.339em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-824">y_i</script> of the examples in the lead</li>
<li>Build a linear regression model on the examples in the leaf<br>
Classification:</li>
<li>Predict most common y_i of the examples in the leaf.</li>
</ul>
<p>(2) Breakdown of tasks:<br>
Mapper:</p>
<ul>
<li>Considers a number of candidate splits )node, attribute, valie) on its subset of the data.</li>
<li>For each split it stores partial statistics</li>
<li>Partial split-statistics are sent to Reducers.<br>
Reducer:</li>
<li>Collects all partial statistics and determines best split.<br>
Master:</li>
<li>Grows the tree for one level.</li>
</ul>
<p>(3) For small data, we can sort the values along a particular feature and consider every possible split. But data values may not be uniformly populated os many splits may not really make a difference.</p>
<p>(4)Technically initializaion only generates (attribute, value), and the master will append the node later.</p>
<p>(5) We split in a fashion such that we use a limited number of splits such that splits 'move' about the same amount of data. We heuristically compute a 'historgram' on data and bucketize it such that the counts per bucket are equal. We do it by hashing. Note we must use an 'equi-depth' hash function.</p>
<p>(6) Note that the split candidates are only uniformly distributed among mappers in the beginning, as the mappers split the tree, the split candidates are no longer uniformly distributed. That is okay, if we wanted to remake the split candidates each round the algo would take 2x the time.</p>
</div></div>
    </body>
    </html>
  
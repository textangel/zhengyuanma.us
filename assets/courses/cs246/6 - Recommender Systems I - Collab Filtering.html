
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="titlearea">
        <h2>Lecture 7- Recommender Systems 1</h2>
      </div>
      <div id="contentarea"><div class="cell markdown-cell"><h2>Hybrid Recommender Systems</h2>
<ul>
<li>Implement two or more different recommenders and combine predictions (ie linearly)</li>
<li>Add content based methods to collaborative fitlering to solve cold start for users and items.</li>
</ul>
<h2>Content-based filtering</h2>
<ul>
<li>Pros: Explainable, no cold start problem</li>
<li>Cons: Are overspecialized to the user: unable to explot quality judgements of other users</li>
</ul>
<h2>Collaborative Filtering</h2>
<ul>
<li>Pros: Works for any kind of item</li>
<li>Cons: Cold Start problem,
<ul>
<li>Sparsity (hard to find users that have rated the same items, solved using dimensinoality reduction)</li>
<li>First rater (cannot recommend new item)</li>
<li>Popularity Bias: Tends to recommend popular items, cannot recommend items to someone with unique taste.
<ul>
<li>Althrough, granted, a recommender system that just gives the most popular x items is hard to beat in practice.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Algo Summary:</h3>
<ul>
<li>Consider User x</li>
<li>Find set N of other users whose have rated item k, who are ’similar’ to x’s ratings (nearest neighbors).</li>
<li>Estimate x’s ratings based on ratings from users in N.</li>
</ul>
<p>Similarity measure used: <strong>Pearson correlation coefficient</strong> (covariance divided by standard deviation, or cosine but over values normalized by average): (1)</p>
<p>If <span class="MathJax" id="MathJax-Element-330-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3898" style="width: 2.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.365em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.998em, -0.49em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3899"><span class="msubsup" id="MathJax-Span-3900"><span style="display: inline-block; position: relative; width: 1.306em; height: 0px;"><span style="position: absolute; clip: rect(1.698em, 1000em, 2.721em, -0.49em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3901" style="font-family: STIXGeneral-Italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.008em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.555em;"><span class="texatom" id="MathJax-Span-3902"><span class="mrow" id="MathJax-Span-3903"><span class="mi" id="MathJax-Span-3904" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3905" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3906" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.194em; vertical-align: -0.391em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-330">S_{xy} = </script> items rated by both users x and y, then</p>
</div><div class="cell text-cell"><img src="resources/358EC6597BF13C67062143B8E7B8357B.png" alt="Screenshot 2019-10-25 at 4.55.40 PM.png" width="695" height="125"></div><div class="cell markdown-cell"><p>(In the below we switched to an item-item filtering view, but same idea for user-user)<br>
In Practice, we estimate the rating <span class="MathJax" id="MathJax-Element-331-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3907" style="width: 1.203em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.586em, 1000em, 2.523em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3908"><span class="msubsup" id="MathJax-Span-3909"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3910" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="texatom" id="MathJax-Span-3911"><span class="mrow" id="MathJax-Span-3912"><span class="mi" id="MathJax-Span-3913" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3914" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.79em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-331">r_{xi}</script> of item i for user x as the similarity weighted average:</p>
<p></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-332-Frame" style=""><nobr><span class="math" id="MathJax-Span-3915" style="width: 16.328em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.696em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(0.68em, 1000em, 3.887em, -0.462em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3916"><span class="msubsup" id="MathJax-Span-3917"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3918" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="texatom" id="MathJax-Span-3919"><span class="mrow" id="MathJax-Span-3920"><span class="mi" id="MathJax-Span-3921" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3922" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3923" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="msubsup" id="MathJax-Span-3924" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.145em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3925" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3926"><span class="mrow" id="MathJax-Span-3927"><span class="mi" id="MathJax-Span-3928" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3929" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3930" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mfrac" id="MathJax-Span-3931" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 9.692em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(1.604em, 1000em, 3.145em, -0.449em); top: -3.457em; left: 50%; margin-left: -4.786em;"><span class="mrow" id="MathJax-Span-3932"><span class="munderover" id="MathJax-Span-3933"><span style="display: inline-block; position: relative; width: 3.51em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-3934" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-3935"><span class="mrow" id="MathJax-Span-3936"><span class="mi" id="MathJax-Span-3937" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-3938" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-3939" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mo" id="MathJax-Span-3940" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3941" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3942" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-3943" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-3944" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3945" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3946" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-3947"><span class="mrow" id="MathJax-Span-3948"><span class="mi" id="MathJax-Span-3949" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3950" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3951" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">⋅</span><span class="mo" id="MathJax-Span-3952" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">(</span><span class="msubsup" id="MathJax-Span-3953"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3954" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="texatom" id="MathJax-Span-3955"><span class="mrow" id="MathJax-Span-3956"><span class="mi" id="MathJax-Span-3957" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3958" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3959" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="msubsup" id="MathJax-Span-3960" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 1.145em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3961" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3962"><span class="mrow" id="MathJax-Span-3963"><span class="mi" id="MathJax-Span-3964" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3965" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-3966" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; clip: rect(3.068em, 1000em, 4.609em, -0.449em); top: -3.256em; left: 50%; margin-left: -2.337em;"><span class="mrow" id="MathJax-Span-3967"><span class="munderover" id="MathJax-Span-3968"><span style="display: inline-block; position: relative; width: 3.51em; height: 0px;"><span style="position: absolute; clip: rect(1.548em, 1000em, 2.907em, -0.449em); top: -2.477em; left: 0em;"><span class="mo" id="MathJax-Span-3969" style="font-family: STIXGeneral-Regular; vertical-align: -0.002em;">∑</span><span style="display: inline-block; width: 0px; height: 2.477em;"></span></span><span style="position: absolute; top: -2.012em; left: 0.957em;"><span class="texatom" id="MathJax-Span-3970"><span class="mrow" id="MathJax-Span-3971"><span class="mi" id="MathJax-Span-3972" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span><span class="mo" id="MathJax-Span-3973" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∈</span><span class="mi" id="MathJax-Span-3974" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.042em;"></span></span><span class="mo" id="MathJax-Span-3975" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-3976" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-3977" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">;</span><span class="mi" id="MathJax-Span-3978" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mo" id="MathJax-Span-3979" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-3980" style="padding-left: 0.188em;"><span style="display: inline-block; position: relative; width: 0.976em; height: 0px;"><span style="position: absolute; clip: rect(1.923em, 1000em, 2.716em, -0.491em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3981" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.45em;"><span class="texatom" id="MathJax-Span-3982"><span class="mrow" id="MathJax-Span-3983"><span class="mi" id="MathJax-Span-3984" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-3985" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">j<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.001em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.998em;"></span></span><span style="position: absolute; clip: rect(0.831em, 1000em, 1.239em, -0.507em); top: -1.29em; left: 0em;"><span style="border-left-width: 9.692em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0em;"></span><span style="display: inline-block; width: 0px; height: 1.07em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.31em; vertical-align: -1.377em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-332">r_{xi} = b_{xi} + \frac{\sum_{j \in N(i;x)} s_{ij} \cdot (r_{xj}-b_{xj})} {\sum_{j \in N(i;x)}s_{ij}}</script><p></p>
<p>where <span class="MathJax" id="MathJax-Element-333-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3986" style="width: 1.328em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.182em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.344em, 1000em, 2.523em, -0.484em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3987"><span class="msubsup" id="MathJax-Span-3988"><span style="display: inline-block; position: relative; width: 1.145em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3989" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3990"><span class="mrow" id="MathJax-Span-3991"><span class="mi" id="MathJax-Span-3992" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3993" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.058em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-333">b_{xi}</script> is the baseline rating for <span class="MathJax" id="MathJax-Element-331-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3907" style="width: 1.203em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.07em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.586em, 1000em, 2.523em, -0.462em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-3908"><span class="msubsup" id="MathJax-Span-3909"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(1.924em, 1000em, 2.703em, -0.462em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3910" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.023em;"></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.427em;"><span class="texatom" id="MathJax-Span-3911"><span class="mrow" id="MathJax-Span-3912"><span class="mi" id="MathJax-Span-3913" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3914" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.79em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-331">r_{xi}</script>.<br>
<span class="MathJax" id="MathJax-Element-334-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-3994" style="width: 7.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.151em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.908em, -0.484em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-3995"><span class="msubsup" id="MathJax-Span-3996"><span style="display: inline-block; position: relative; width: 1.145em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-3997" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="texatom" id="MathJax-Span-3998"><span class="mrow" id="MathJax-Span-3999"><span class="mi" id="MathJax-Span-4000" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-4001" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-4002" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mi" id="MathJax-Span-4003" style="font-family: STIXGeneral-Italic; padding-left: 0.313em;">μ</span><span class="mo" id="MathJax-Span-4004" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-4005" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-4006" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="mi" id="MathJax-Span-4007" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span><span class="mo" id="MathJax-Span-4008" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="msubsup" id="MathJax-Span-4009" style="padding-left: 0.25em;"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-4010" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="mi" id="MathJax-Span-4011" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.111em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-334">b_{xi} = \mu + b_x + b_i</script>, where</p>
<ul>
<li><span class="MathJax" id="MathJax-Element-335-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-4012" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.908em, -0.54em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-4013"><span class="mi" id="MathJax-Span-4014" style="font-family: STIXGeneral-Italic;">μ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.828em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-335"> \mu</script> = overall mean movie rating</li>
<li><span class="MathJax" id="MathJax-Element-336-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-4015" style="width: 1.078em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.957em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.344em, 1000em, 2.523em, -0.484em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-4016"><span class="msubsup" id="MathJax-Span-4017"><span style="display: inline-block; position: relative; width: 0.92em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-4018" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="mi" id="MathJax-Span-4019" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.058em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-336">b_x</script> = rating deviation of user x = (avg. rating of user x) - <span class="MathJax" id="MathJax-Element-337-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-4020" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.908em, -0.54em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-4021"><span class="mi" id="MathJax-Span-4022" style="font-family: STIXGeneral-Italic;">μ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.828em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-337">\mu</script></li>
<li><span class="MathJax" id="MathJax-Element-338-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-4023" style="width: 0.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.845em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.344em, 1000em, 2.523em, -0.484em); top: -2.196em; left: 0em;"><span class="mrow" id="MathJax-Span-4024"><span class="msubsup" id="MathJax-Span-4025"><span style="display: inline-block; position: relative; width: 0.807em; height: 0px;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.484em); top: -2.534em; left: 0em;"><span class="mi" id="MathJax-Span-4026" style="font-family: STIXGeneral-Italic;">b</span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span><span style="position: absolute; top: -2.159em; left: 0.507em;"><span class="mi" id="MathJax-Span-4027" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span style="display: inline-block; width: 0px; height: 2.309em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.196em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.058em; vertical-align: -0.238em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-338">b_i</script> = rating deviation of movie i = (avg. rating of movie i) - <span class="MathJax" id="MathJax-Element-337-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-4020" style="width: 0.641em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.563em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.937em, 1000em, 2.908em, -0.54em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-4021"><span class="mi" id="MathJax-Span-4022" style="font-family: STIXGeneral-Italic;">μ</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.828em; vertical-align: -0.29em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-337">\mu</script></li>
</ul>
<h2>Notes:</h2>
<ul>
<li>Item-item filtering generally works better than user-user in practice. This is becuause items have more stable profiles.</li>
</ul>
</div><div class="cell markdown-cell"><h2>Evaluation for RecSys:</h2>
<p>Take the original utility matrix, mask a part of it, and use it as a test dataset</p>
</div><div class="cell text-cell"><p><img src="resources/19759B2080575CAACD7E8ED02703FDD7.png" alt="Screenshot 2019-10-25 at 5.16.36 PM.png"></p>
</div><div class="cell markdown-cell"><p>Ratings metrics used:</p>
<ul>
<li>Precision at top 10.
<ul>
<li>RMSE is NOT useful (somewhat problematic because we don’t really care about all values, <em>we only care about highly rated items</em>)</li>
</ul>
</li>
<li>Spearman Rank Correlation (correlation between ordinal ranks of system's and user's complete ranking)</li>
</ul>
<p>Or, in the 0/1 model (implicit feedback, all values are 1 or 0).</p>
<ul>
<li>Coverage: Number of items/users for which the system can use predictions.
<ul>
<li>A very important thing for all RecSys, you want to compute this as soon as possible</li>
</ul>
</li>
<li>Precision: Accuracy of predictions</li>
<li>ROC: Tradeoff curve between false positives and False Negatives.</li>
</ul>
<p>Problems wiht Error Measures - Narrow focus on accuracy sometimes misses the point. SOmetimes we also care about</p>
<ul>
<li>Prediction diversity (serendipity)</li>
<li>Prediction Context (what did the user buy before and after?)</li>
<li>Order of Predictions</li>
</ul>
<h2>Other Notes</h2>
<h3>Time complexity of Collaborative Filtering:</h3>
<ul>
<li>Most expensive step is to find the <span class="MathJax" id="MathJax-Element-339-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-4028" style="width: 0.578em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.507em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.682em, 1000em, 2.714em, -0.493em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-4029"><span class="mi" id="MathJax-Span-4030" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.017em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.895em; vertical-align: -0.075em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-339">k</script> most similar customers: This is <span class="MathJax" id="MathJax-Element-340-Frame" role="textbox" aria-readonly="true" style=""><nobr><span class="math" id="MathJax-Span-4031" style="width: 2.766em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.477em; height: 0px; font-size: 111%;"><span style="position: absolute; clip: rect(1.689em, 1000em, 2.88em, -0.447em); top: -2.534em; left: 0em;"><span class="mrow" id="MathJax-Span-4032"><span class="mi" id="MathJax-Span-4033" style="font-family: STIXGeneral-Italic;">O</span><span class="mo" id="MathJax-Span-4034" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-4035"><span class="mrow" id="MathJax-Span-4036"><span class="mo" id="MathJax-Span-4037" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mi" id="MathJax-Span-4038" style="font-family: STIXGeneral-Italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.044em;"></span></span><span class="texatom" id="MathJax-Span-4039"><span class="mrow" id="MathJax-Span-4040"><span class="mo" id="MathJax-Span-4041" style="font-family: STIXGeneral-Regular;">|</span></span></span><span class="mo" id="MathJax-Span-4042" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 2.534em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.072em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-340">O(|X|)</script>.</li>
<li>However, we must save space by precomputing this and saving using LSH (or clustering, dimensionality reduction).</li>
</ul>
<h3>Tip for RecSys:</h3>
<ul>
<li>Leverage all the data
<ul>
<li>Don't try to reduce data size in an effort to make fancy algos work. Simple methods on large data do best. If stuck, Add more data (both features and observations) (add imdb data on genres). More data beats better algorithms. ("The Unreasonable Efficacy of Data")</li>
</ul>
</li>
</ul>
<p>(1) Note: We use Pearson instead of Cosine because treats missing ratings as ’negative’ (zero). Pearson is simply Cosine if the ratings are adjusted by the user's average rating. This is simply the correlation normalized by stddevaitions, or the Pearson coefficient</p>
</div></div>
  
    </body>
    </html>
  